const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/realData-DF_e2VPz.js","assets/3d-vendor-DlSuIqDH.js","assets/react-vendor-DsceW-4w.js","assets/animation-vendor-CRQTWgvG.js"])))=>i.map(i=>d[i]);
import{j as e,_ as Ka,C as Tr,a as Vs,B as ms,u as Pr,A as Wa,D as Ja,P as At,b as Ya,c as Xa,d as Za,e as Ft,f as en,g as Ts,V as Oe,O as tn,S as Ot,h as sn,H as rn,T as an,i as Qs,k as Gs,M as nn,l as on}from"./3d-vendor-DlSuIqDH.js";import{r as d,R as Mr,a as ln}from"./react-vendor-DsceW-4w.js";import{m as k,A as te,u as cn,a as Ks,b as Or}from"./animation-vendor-CRQTWgvG.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();var mt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$e=typeof window>"u"||"Deno"in globalThis;function pe(){}function dn(t,s){return typeof t=="function"?t(s):t}function fs(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ir(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Ie(t,s){return typeof t=="function"?t(s):t}function be(t,s){return typeof t=="function"?t(s):t}function Ws(t,s){const{type:r="all",exact:a,fetchStatus:n,predicate:o,queryKey:i,stale:l}=t;if(i){if(a){if(s.queryHash!==Ps(i,s.options))return!1}else if(!ht(s.queryKey,i))return!1}if(r!=="all"){const u=s.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&s.isStale()!==l||n&&n!==s.state.fetchStatus||o&&!o(s))}function Js(t,s){const{exact:r,status:a,predicate:n,mutationKey:o}=t;if(o){if(!s.options.mutationKey)return!1;if(r){if(ut(s.options.mutationKey)!==ut(o))return!1}else if(!ht(s.options.mutationKey,o))return!1}return!(a&&s.state.status!==a||n&&!n(s))}function Ps(t,s){return(s?.queryKeyHashFn||ut)(t)}function ut(t){return JSON.stringify(t,(s,r)=>gs(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function ht(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>ht(t[r],s[r])):!1}function Dr(t,s){if(t===s)return t;const r=Ys(t)&&Ys(s);if(r||gs(t)&&gs(s)){const a=r?t:Object.keys(t),n=a.length,o=r?s:Object.keys(s),i=o.length,l=r?[]:{},u=new Set(a);let m=0;for(let c=0;c<i;c++){const x=r?c:o[c];(!r&&u.has(x)||r)&&t[x]===void 0&&s[x]===void 0?(l[x]=void 0,m++):(l[x]=Dr(t[x],s[x]),l[x]===t[x]&&t[x]!==void 0&&m++)}return n===i&&m===n?t:l}return s}function xs(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}function Ys(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gs(t){if(!Xs(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!Xs(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Xs(t){return Object.prototype.toString.call(t)==="[object Object]"}function un(t){return new Promise(s=>{setTimeout(s,t)})}function bs(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?Dr(t,s):s}function hn(t,s,r=0){const a=[...t,s];return r&&a.length>r?a.slice(1):a}function pn(t,s,r=0){const a=[s,...t];return r&&a.length>r?a.slice(0,-1):a}var Ms=Symbol();function Lr(t,s){return!t.queryFn&&s?.initialPromise?()=>s.initialPromise:!t.queryFn||t.queryFn===Ms?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function mn(t,s){return typeof t=="function"?t(...s):!!t}var fn=class extends mt{#t;#e;#s;constructor(){super(),this.#s=t=>{if(!$e&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Os=new fn,xn=class extends mt{#t=!0;#e;#s;constructor(){super(),this.#s=t=>{if(!$e&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},zt=new xn;function ys(){let t,s;const r=new Promise((n,o)=>{t=n,s=o});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),t(n)},r.reject=n=>{a({status:"rejected",reason:n}),s(n)},r}function gn(t){return Math.min(1e3*2**t,3e4)}function Fr(t){return(t??"online")==="online"?zt.isOnline():!0}var zr=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Ur(t){let s=!1,r=0,a;const n=ys(),o=()=>n.status!=="pending",i=b=>{o()||(h(new zr(b)),t.abort?.())},l=()=>{s=!0},u=()=>{s=!1},m=()=>Os.isFocused()&&(t.networkMode==="always"||zt.isOnline())&&t.canRun(),c=()=>Fr(t.networkMode)&&t.canRun(),x=b=>{o()||(a?.(),n.resolve(b))},h=b=>{o()||(a?.(),n.reject(b))},f=()=>new Promise(b=>{a=y=>{(o()||m())&&b(y)},t.onPause?.()}).then(()=>{a=void 0,o()||t.onContinue?.()}),g=()=>{if(o())return;let b;const y=r===0?t.initialPromise:void 0;try{b=y??t.fn()}catch(C){b=Promise.reject(C)}Promise.resolve(b).then(x).catch(C=>{if(o())return;const R=t.retry??($e?0:3),O=t.retryDelay??gn,P=typeof O=="function"?O(r,C):O,M=R===!0||typeof R=="number"&&r<R||typeof R=="function"&&R(r,C);if(s||!M){h(C);return}r++,t.onFail?.(r,C),un(P).then(()=>m()?void 0:f()).then(()=>{s?h(C):g()})})};return{promise:n,status:()=>n.status,cancel:i,continue:()=>(a?.(),n),cancelRetry:l,continueRetry:u,canStart:c,start:()=>(c()?g():f().then(g),n)}}var bn=t=>setTimeout(t,0);function yn(){let t=[],s=0,r=l=>{l()},a=l=>{l()},n=bn;const o=l=>{s?t.push(l):n(()=>{r(l)})},i=()=>{const l=t;t=[],l.length&&n(()=>{a(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;s++;try{u=l()}finally{s--,s||i()}return u},batchCalls:l=>(...u)=>{o(()=>{l(...u)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{n=l}}}var ue=yn(),qr=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fs(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($e?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},vn=class extends qr{#t;#e;#s;#r;#a;#o;#i;constructor(t){super(),this.#i=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#s=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=wn(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,s){const r=bs(this.state.data,t,this.options);return this.#n({data:r,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),r}setState(t,s){this.#n({type:"setState",state:t,setStateOptions:s})}cancel(t){const s=this.#a?.promise;return this.#a?.cancel(t),s?s.then(pe).catch(pe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>be(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ms||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ie(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ir(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}async fetch(t,s){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,a=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},n=()=>{const l=Lr(this.options,s),m=(()=>{const c={client:this.#r,queryKey:this.queryKey,meta:this.meta};return a(c),c})();return this.#i=!1,this.options.persister?this.options.persister(l,m,this):l(m)},i=(()=>{const l={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:n};return a(l),l})();this.options.behavior?.onFetch(i,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#n({type:"fetch",meta:i.fetchOptions?.meta}),this.#a=Ur({initialPromise:s?.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onFail:(l,u)=>{this.#n({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0});try{const l=await this.#a.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#s.config.onSuccess?.(l,this),this.#s.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof zr){if(l.silent)return this.#a.promise;if(l.revert)return this.setState({...this.#e,fetchStatus:"idle"}),this.state.data}throw this.#n({type:"error",error:l}),this.#s.config.onError?.(l,this),this.#s.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#n(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$r(r.data,this.options),fetchMeta:t.meta??null};case"success":const a={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?a:void 0,a;case"error":const n=t.error;return{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),ue.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function $r(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fr(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wn(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,a=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var jn=class extends mt{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,s,r){const a=s.queryKey,n=s.queryHash??Ps(a,s);let o=this.get(n);return o||(o=new vn({client:t,queryKey:a,queryHash:n,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=this.#t.get(t.queryHash);s&&(t.destroy(),s===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ue.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>Ws(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>Ws(t,r)):s}notify(t){ue.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){ue.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ue.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Nn=class extends qr{#t;#e;#s;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||Sn(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(s=>s!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const s=()=>{this.#r({type:"continue"})};this.#s=Ur({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,o)=>{this.#r({type:"failed",failureCount:n,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",a=!this.#s.canStart();try{if(r)s();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#e.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:a})}const n=await this.#s.start();return await this.#e.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#e.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw await this.#e.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#e.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#e.runNext(this)}}#r(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),ue.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function Sn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cn=class extends mt{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(t,s,r){const a=new Nn({mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(s),state:r});return this.add(a),a}add(t){this.#t.add(t);const s=Rt(t);if(typeof s=="string"){const r=this.#e.get(s);r?r.push(t):this.#e.set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const s=Rt(t);if(typeof s=="string"){const r=this.#e.get(s);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&this.#e.delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Rt(t);if(typeof s=="string"){const a=this.#e.get(s)?.find(n=>n.state.status==="pending");return!a||a===t}else return!0}runNext(t){const s=Rt(t);return typeof s=="string"?this.#e.get(s)?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ue.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const s={exact:!0,...t};return this.getAll().find(r=>Js(s,r))}findAll(t={}){return this.getAll().filter(s=>Js(t,s))}notify(t){ue.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return ue.batch(()=>Promise.all(t.map(s=>s.continue().catch(pe))))}};function Rt(t){return t.options.scope?.id}function Zs(t){return{onFetch:(s,r)=>{const a=s.options,n=s.fetchOptions?.meta?.fetchMore?.direction,o=s.state.data?.pages||[],i=s.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const m=async()=>{let c=!1;const x=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(s.signal.aborted?c=!0:s.signal.addEventListener("abort",()=>{c=!0}),s.signal)})},h=Lr(s.options,s.fetchOptions),f=async(g,b,y)=>{if(c)return Promise.reject();if(b==null&&g.pages.length)return Promise.resolve(g);const R=(()=>{const w={client:s.client,queryKey:s.queryKey,pageParam:b,direction:y?"backward":"forward",meta:s.options.meta};return x(w),w})(),O=await h(R),{maxPages:P}=s.options,M=y?pn:hn;return{pages:M(g.pages,O,P),pageParams:M(g.pageParams,b,P)}};if(n&&o.length){const g=n==="backward",b=g?kn:er,y={pages:o,pageParams:i},C=b(a,y);l=await f(y,C,g)}else{const g=t??o.length;do{const b=u===0?i[0]??a.initialPageParam:er(a,l);if(u>0&&b==null)break;l=await f(l,b),u++}while(u<g)}return l};s.options.persister?s.fetchFn=()=>s.options.persister?.(m,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r):s.fetchFn=m}}}function er(t,{pages:s,pageParams:r}){const a=s.length-1;return s.length>0?t.getNextPageParam(s[a],s,r[a],r):void 0}function kn(t,{pages:s,pageParams:r}){return s.length>0?t.getPreviousPageParam?.(s[0],s,r[0],r):void 0}var En=class{#t;#e;#s;#r;#a;#o;#i;#n;constructor(t={}){this.#t=t.queryCache||new jn,this.#e=t.mutationCache||new Cn,this.#s=t.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=Os.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#n=zt.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#n?.(),this.#n=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const s=this.defaultQueryOptions({queryKey:t});return this.#t.get(s.queryHash)?.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=this.#t.build(this,s),a=r.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Ie(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:s,state:r})=>{const a=r.data;return[s,a]})}setQueryData(t,s,r){const a=this.defaultQueryOptions({queryKey:t}),o=this.#t.get(a.queryHash)?.state.data,i=dn(s,o);if(i!==void 0)return this.#t.build(this,a).setData(i,{...r,manual:!0})}setQueriesData(t,s,r){return ue.batch(()=>this.#t.findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,s,r)]))}getQueryState(t){const s=this.defaultQueryOptions({queryKey:t});return this.#t.get(s.queryHash)?.state}removeQueries(t){const s=this.#t;ue.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=this.#t;return ue.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},a=ue.batch(()=>this.#t.findAll(t).map(n=>n.cancel(r)));return Promise.all(a).then(pe).catch(pe)}invalidateQueries(t,s={}){return ue.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},a=ue.batch(()=>this.#t.findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let o=n.fetch(void 0,r);return r.throwOnError||(o=o.catch(pe)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(a).then(pe)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=this.#t.build(this,s);return r.isStaleByTime(Ie(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(pe).catch(pe)}fetchInfiniteQuery(t){return t.behavior=Zs(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(pe).catch(pe)}ensureInfiniteQueryData(t){return t.behavior=Zs(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zt.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,s){this.#r.set(ut(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...this.#r.values()],r={};return s.forEach(a=>{ht(t,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(t,s){this.#a.set(ut(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...this.#a.values()],r={};return s.forEach(a=>{ht(t,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Ps(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Ms&&(s.enabled=!1),s}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},An=class extends mt{constructor(t,s){super(),this.options=s,this.#t=t,this.#n=null,this.#i=ys(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}#t;#e=void 0;#s=void 0;#r=void 0;#a;#o;#i;#n;#f;#h;#p;#c;#d;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),tr(this.#e,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vs(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vs(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const s=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof be(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#e.setOptions(this.options),s._defaulted&&!xs(this.options,s)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const a=this.hasListeners();a&&sr(this.#e,r,this.options,s)&&this.#u(),this.updateResult(),a&&(this.#e!==r||be(this.options.enabled,this.#e)!==be(s.enabled,this.#e)||Ie(this.options.staleTime,this.#e)!==Ie(s.staleTime,this.#e))&&this.#x();const n=this.#g();a&&(this.#e!==r||be(this.options.enabled,this.#e)!==be(s.enabled,this.#e)||n!==this.#l)&&this.#b(n)}getOptimisticResult(t){const s=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(s,t);return Tn(this,r)&&(this.#r=r,this.#o=this.options,this.#a=this.#e.state),r}getCurrentResult(){return this.#r}trackResult(t,s){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),s?.(a),Reflect.get(r,a))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return this.#u({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#u(t){this.#j();let s=this.#e.fetch(this.options,t);return t?.throwOnError||(s=s.catch(pe)),s}#x(){this.#v();const t=Ie(this.options.staleTime,this.#e);if($e||this.#r.isStale||!fs(t))return;const r=Ir(this.#r.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#l=t,!($e||be(this.options.enabled,this.#e)===!1||!fs(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||Os.isFocused())&&this.#u()},this.#l))}#y(){this.#x(),this.#b(this.#g())}#v(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(t,s){const r=this.#e,a=this.options,n=this.#r,o=this.#a,i=this.#o,u=t!==r?t.state:this.#s,{state:m}=t;let c={...m},x=!1,h;if(s._optimisticResults){const I=this.hasListeners(),U=!I&&tr(t,s),L=I&&sr(t,r,s,a);(U||L)&&(c={...c,...$r(m.data,t.options)}),s._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:f,errorUpdatedAt:g,status:b}=c;h=c.data;let y=!1;if(s.placeholderData!==void 0&&h===void 0&&b==="pending"){let I;n?.isPlaceholderData&&s.placeholderData===i?.placeholderData?(I=n.data,y=!0):I=typeof s.placeholderData=="function"?s.placeholderData(this.#p?.state.data,this.#p):s.placeholderData,I!==void 0&&(b="success",h=bs(n?.data,I,s),x=!0)}if(s.select&&h!==void 0&&!y)if(n&&h===o?.data&&s.select===this.#f)h=this.#h;else try{this.#f=s.select,h=s.select(h),h=bs(n?.data,h,s),this.#h=h,this.#n=null}catch(I){this.#n=I}this.#n&&(f=this.#n,h=this.#h,g=Date.now(),b="error");const C=c.fetchStatus==="fetching",R=b==="pending",O=b==="error",P=R&&C,M=h!==void 0,S={status:b,fetchStatus:c.fetchStatus,isPending:R,isSuccess:b==="success",isError:O,isInitialLoading:P,isLoading:P,data:h,dataUpdatedAt:c.dataUpdatedAt,error:f,errorUpdatedAt:g,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:C,isRefetching:C&&!R,isLoadingError:O&&!M,isPaused:c.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:O&&M,isStale:Is(t,s),refetch:this.refetch,promise:this.#i,isEnabled:be(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=B=>{S.status==="error"?B.reject(S.error):S.data!==void 0&&B.resolve(S.data)},U=()=>{const B=this.#i=S.promise=ys();I(B)},L=this.#i;switch(L.status){case"pending":t.queryHash===r.queryHash&&I(L);break;case"fulfilled":(S.status==="error"||S.data!==L.value)&&U();break;case"rejected":(S.status!=="error"||S.error!==L.reason)&&U();break}}return S}updateResult(){const t=this.#r,s=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#o=this.options,this.#a.data!==void 0&&(this.#p=this.#e),xs(s,t))return;this.#r=s;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,n=typeof a=="function"?a():a;if(n==="all"||!n&&!this.#m.size)return!0;const o=new Set(n??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(i=>{const l=i;return this.#r[l]!==t[l]&&o.has(l)})};this.#N({listeners:r()})}#j(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const s=this.#e;this.#e=t,this.#s=t.state,this.hasListeners()&&(s?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(t){ue.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Rn(t,s){return be(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function tr(t,s){return Rn(t,s)||t.state.data!==void 0&&vs(t,s,s.refetchOnMount)}function vs(t,s,r){if(be(s.enabled,t)!==!1&&Ie(s.staleTime,t)!=="static"){const a=typeof r=="function"?r(t):r;return a==="always"||a!==!1&&Is(t,s)}return!1}function sr(t,s,r,a){return(t!==s||be(a.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Is(t,r)}function Is(t,s){return be(s.enabled,t)!==!1&&t.isStaleByTime(Ie(s.staleTime,t))}function Tn(t,s){return!xs(t.getCurrentResult(),s)}var _r=d.createContext(void 0),Pn=t=>{const s=d.useContext(_r);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},Mn=({client:t,children:s})=>(d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(_r.Provider,{value:t,children:s})),Br=d.createContext(!1),On=()=>d.useContext(Br);Br.Provider;function In(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Dn=d.createContext(In()),Ln=()=>d.useContext(Dn),Fn=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},zn=t=>{d.useEffect(()=>{t.clearReset()},[t])},Un=({result:t,errorResetBoundary:s,throwOnError:r,query:a,suspense:n})=>t.isError&&!s.isReset()&&!t.isFetching&&a&&(n&&t.data===void 0||mn(r,[t.error,a])),qn=t=>{if(t.suspense){const s=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>s(r(...a)):s(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},$n=(t,s)=>t.isLoading&&t.isFetching&&!s,_n=(t,s)=>t?.suspense&&s.isPending,rr=(t,s,r)=>s.fetchOptimistic(t).catch(()=>{r.clearReset()});function Bn(t,s,r){const a=On(),n=Ln(),o=Pn(),i=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=a?"isRestoring":"optimistic",qn(i),Fn(i,n),zn(n);const l=!o.getQueryCache().get(i.queryHash),[u]=d.useState(()=>new s(o,i)),m=u.getOptimisticResult(i),c=!a&&t.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(x=>{const h=c?u.subscribe(ue.batchCalls(x)):pe;return u.updateResult(),h},[u,c]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),d.useEffect(()=>{u.setOptions(i)},[i,u]),_n(i,m))throw rr(i,u,n);if(Un({result:m,errorResetBoundary:n,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw m.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(i,m),i.experimental_prefetchInRender&&!$e&&$n(m,a)&&(l?rr(i,u,n):o.getQueryCache().get(i.queryHash)?.promise)?.catch(pe).finally(()=>{u.updateResult()}),i.notifyOnChangeProps?m:u.trackResult(m)}function Je(t,s){return Bn(t,An)}const Ut=new En({defaultOptions:{queries:{staleTime:60*1e3,retry:1,refetchOnWindowFocus:!1}}}),_t={"--spacing-0":"0rem","--spacing-1":"0.25rem","--spacing-2":"0.5rem","--spacing-3":"0.75rem","--spacing-4":"1rem","--spacing-5":"1.25rem","--spacing-6":"1.5rem","--spacing-8":"2rem","--spacing-10":"2.5rem","--spacing-12":"3rem","--spacing-16":"4rem","--spacing-20":"5rem","--spacing-24":"6rem","--spacing-32":"8rem","--spacing-40":"10rem","--spacing-48":"12rem","--spacing-56":"14rem","--spacing-64":"16rem","--radius-none":"0px","--radius-sm":"0.125rem","--radius-md":"0.25rem","--radius-lg":"0.5rem","--radius-xl":"0.75rem","--radius-2xl":"1rem","--radius-3xl":"1.5rem","--radius-full":"9999px","--font-family-sans":"ui-sans-serif, system-ui, sans-serif","--font-family-mono":'ui-monospace, SFMono-Regular, "SF Mono", Monaco, Consolas, monospace',"--font-family-display":'"Inter Display", ui-sans-serif, system-ui, sans-serif',"--font-size-xs":"0.75rem","--font-size-sm":"0.875rem","--font-size-base":"1rem","--font-size-lg":"1.125rem","--font-size-xl":"1.25rem","--font-size-2xl":"1.5rem","--font-size-3xl":"1.875rem","--font-size-4xl":"2.25rem","--font-size-5xl":"3rem","--font-size-6xl":"3.75rem","--font-weight-light":"300","--font-weight-normal":"400","--font-weight-medium":"500","--font-weight-semibold":"600","--font-weight-bold":"700","--font-weight-extrabold":"800","--line-height-tight":"1.25","--line-height-normal":"1.5","--line-height-relaxed":"1.75","--glass-blur-none":"0px","--glass-blur-sm":"6px","--glass-blur-md":"12px","--glass-blur-lg":"20px","--glass-blur-xl":"32px","--glass-blur-2xl":"48px","--glass-blur-3xl":"80px","--glass-opacity-light":"0.08","--glass-opacity-medium":"0.15","--glass-opacity-heavy":"0.25","--glass-opacity-light-mobile":"0.18","--glass-opacity-medium-mobile":"0.28","--glass-opacity-heavy-mobile":"0.38","--animation-duration-instant":"0ms","--animation-duration-fast":"150ms","--animation-duration-normal":"300ms","--animation-duration-slow":"500ms","--animation-duration-slower":"750ms","--animation-easing-linear":"linear","--animation-easing-ease-in":"cubic-bezier(0.4, 0, 1, 1)","--animation-easing-ease-out":"cubic-bezier(0, 0, 0.2, 1)","--animation-easing-ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)","--animation-easing-spring":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","--shadow-sm":"0 1px 2px 0 rgba(0, 0, 0, 0.05)","--shadow-md":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","--shadow-lg":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)","--shadow-xl":"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","--shadow-2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)","--breakpoint-sm":"640px","--breakpoint-md":"768px","--breakpoint-lg":"1024px","--breakpoint-xl":"1280px","--breakpoint-2xl":"1536px"},Hn={name:"light",displayName:"Light Mode",type:"light",cssVariables:{..._t,"--color-primary-50":"250 245 255","--color-primary-100":"243 232 255","--color-primary-200":"233 213 255","--color-primary-300":"216 180 254","--color-primary-400":"196 143 253","--color-primary-500":"168 85 247","--color-primary-600":"147 51 234","--color-primary-700":"126 34 206","--color-primary-800":"107 33 168","--color-primary-900":"88 28 135","--color-primary-950":"59 7 100","--color-secondary-50":"236 254 255","--color-secondary-500":"6 182 212","--color-secondary-900":"22 78 99","--color-success-50":"236 253 245","--color-success-500":"16 185 129","--color-success-900":"6 78 59","--color-error-50":"254 242 242","--color-error-500":"239 68 68","--color-error-900":"127 29 29","--color-warning-50":"255 251 235","--color-warning-500":"245 158 11","--color-warning-900":"146 64 14","--color-neutral-0":"255 255 255","--color-neutral-50":"249 250 251","--color-neutral-100":"243 244 246","--color-neutral-200":"229 231 235","--color-neutral-300":"209 213 219","--color-neutral-400":"156 163 175","--color-neutral-500":"107 114 128","--color-neutral-600":"75 85 99","--color-neutral-700":"55 65 81","--color-neutral-800":"31 41 55","--color-neutral-900":"17 24 39","--color-neutral-950":"3 7 18","--color-neutral-1000":"0 0 0","--color-text-primary":"17 24 39","--color-text-secondary":"55 65 81","--color-text-muted":"107 114 128","--color-text-accent":"17 24 39","--color-financial-revenue":"5 150 105","--color-financial-expense":"220 38 38","--color-financial-asset":"37 99 235","--color-financial-liability":"217 119 6","--color-financial-equity":"147 51 234","--color-financial-profit":"22 163 74","--color-financial-loss":"185 28 28","--glass-background":"rgba(255, 255, 255, var(--glass-opacity-medium))","--glass-border":"var(--glass-border-medium)","--shadow-glass":"0 10px 30px rgba(0, 0, 0, 0.10)","--glass-glow":"var(--shadow-glow-md)","--glass-border-light":"rgba(0, 0, 0, 0.1)","--glass-border-medium":"rgba(0, 0, 0, 0.2)","--glass-border-heavy":"rgba(0, 0, 0, 0.3)","--shadow-glow-sm":"0 0 10px rgba(168, 85, 247, 0.3)","--shadow-glow-md":"0 0 20px rgba(168, 85, 247, 0.4)","--shadow-glow-lg":"0 0 30px rgba(168, 85, 247, 0.5)"}},Vn={name:"dark",displayName:"Pure Elegance",type:"dark",cssVariables:{..._t,"--color-primary-50":"15 15 15","--color-primary-100":"30 30 30","--color-primary-200":"60 60 60","--color-primary-300":"120 120 120","--color-primary-400":"180 180 180","--color-primary-500":"255 255 255","--color-primary-600":"255 255 255","--color-primary-700":"255 255 255","--color-primary-800":"255 255 255","--color-primary-900":"255 255 255","--color-primary-950":"255 255 255","--color-secondary-50":"6 78 59","--color-secondary-500":"6 255 255","--color-secondary-900":"165 255 255","--color-success-50":"6 78 59","--color-success-500":"16 255 136","--color-success-900":"165 255 207","--color-error-50":"127 29 29","--color-error-500":"255 51 85","--color-error-900":"255 182 193","--color-warning-50":"146 64 14","--color-warning-500":"255 215 0","--color-warning-900":"255 248 181","--color-neutral-0":"0 0 0","--color-neutral-50":"4 4 4","--color-neutral-100":"8 8 8","--color-neutral-200":"12 12 12","--color-neutral-300":"18 18 18","--color-neutral-400":"28 28 28","--color-neutral-500":"80 80 80","--color-neutral-600":"140 140 140","--color-neutral-700":"180 180 180","--color-neutral-800":"220 220 220","--color-neutral-900":"240 240 240","--color-neutral-950":"250 250 250","--color-neutral-1000":"255 255 255","--color-text-primary":"255 255 255","--color-text-secondary":"230 230 230","--color-text-muted":"200 200 200","--color-text-accent":"255 255 255","--color-financial-revenue":"16 255 136","--color-financial-expense":"255 51 85","--color-financial-asset":"51 153 255","--color-financial-liability":"255 178 51","--color-financial-equity":"192 38 211","--color-financial-profit":"57 255 112","--color-financial-loss":"255 34 68","--glass-background":"rgba(25, 25, 35, var(--glass-opacity-medium))","--glass-border":"var(--glass-border-medium)","--shadow-glass":"0 8px 32px rgba(0, 0, 0, 0.3)","--glass-glow":"var(--shadow-glow-md)","--glass-border-light":"rgba(255, 255, 255, 0.08)","--glass-border-medium":"rgba(255, 255, 255, 0.12)","--glass-border-heavy":"rgba(255, 255, 255, 0.16)","--shadow-glow-sm":"0 0 8px rgba(255, 255, 255, 0.2)","--shadow-glow-md":"0 0 12px rgba(255, 255, 255, 0.25)","--shadow-glow-lg":"0 0 16px rgba(255, 255, 255, 0.3)"}},Qn={name:"blue",displayName:"Cyber Blue",type:"dark",cssVariables:{..._t,"--color-primary-50":"8 28 68","--color-primary-100":"12 42 95","--color-primary-200":"23 71 140","--color-primary-300":"37 99 235","--color-primary-400":"59 130 246","--color-primary-500":"0 195 255","--color-primary-600":"56 217 255","--color-primary-700":"102 238 255","--color-primary-800":"153 246 255","--color-primary-900":"204 251 255","--color-primary-950":"230 253 255","--color-secondary-50":"4 47 46","--color-secondary-500":"20 255 240","--color-secondary-900":"153 255 251","--color-success-50":"5 46 22","--color-success-500":"57 255 20","--color-success-900":"187 255 153","--color-error-50":"75 5 24","--color-error-500":"255 20 57","--color-error-900":"255 153 187","--color-warning-50":"67 20 7","--color-warning-500":"255 140 0","--color-warning-900":"255 204 153","--color-neutral-0":"0 0 0","--color-neutral-50":"4 4 6","--color-neutral-100":"8 8 12","--color-neutral-200":"12 12 16","--color-neutral-300":"18 18 24","--color-neutral-400":"28 28 35","--color-neutral-500":"80 80 90","--color-neutral-600":"140 140 150","--color-neutral-700":"180 180 190","--color-neutral-800":"220 220 230","--color-neutral-900":"240 240 245","--color-neutral-950":"250 250 252","--color-neutral-1000":"255 255 255","--color-text-primary":"255 255 255","--color-text-secondary":"230 235 245","--color-text-muted":"200 210 220","--color-text-accent":"255 255 255","--color-financial-revenue":"57 255 20","--color-financial-expense":"255 20 57","--color-financial-asset":"0 195 255","--color-financial-liability":"255 140 0","--color-financial-equity":"20 255 240","--color-financial-profit":"102 255 51","--color-financial-loss":"255 51 102","--glass-background":"rgba(25, 28, 38, var(--glass-opacity-medium))","--glass-border":"var(--glass-border-medium)","--shadow-glass":"0 8px 32px rgba(0, 0, 0, 0.4)","--glass-glow":"var(--shadow-glow-md)","--glass-border-light":"rgba(255, 255, 255, 0.08)","--glass-border-medium":"rgba(255, 255, 255, 0.12)","--glass-border-heavy":"rgba(255, 255, 255, 0.16)","--shadow-glow-sm":"0 0 8px rgba(0, 195, 255, 0.25)","--shadow-glow-md":"0 0 12px rgba(0, 195, 255, 0.3)","--shadow-glow-lg":"0 0 16px rgba(0, 195, 255, 0.35)"}},Gn={name:"green",displayName:"Emerald Luxury",type:"dark",cssVariables:{..._t,"--color-primary-50":"6 78 54","--color-primary-100":"10 120 80","--color-primary-200":"16 150 100","--color-primary-300":"22 180 120","--color-primary-400":"34 197 94","--color-primary-500":"0 255 127","--color-primary-600":"64 255 153","--color-primary-700":"127 255 191","--color-primary-800":"178 255 217","--color-primary-900":"217 255 238","--color-primary-950":"239 255 247","--color-secondary-50":"92 64 14","--color-secondary-500":"255 215 0","--color-secondary-900":"255 243 179","--color-success-50":"6 78 59","--color-success-500":"20 255 147","--color-success-900":"153 255 204","--color-error-50":"87 13 13","--color-error-500":"255 51 51","--color-error-900":"255 153 153","--color-warning-50":"92 64 14","--color-warning-500":"255 191 0","--color-warning-900":"255 235 153","--color-neutral-0":"0 0 0","--color-neutral-50":"4 5 4","--color-neutral-100":"8 10 8","--color-neutral-200":"12 14 12","--color-neutral-300":"18 22 18","--color-neutral-400":"28 32 28","--color-neutral-500":"80 85 80","--color-neutral-600":"140 145 140","--color-neutral-700":"180 185 180","--color-neutral-800":"220 225 220","--color-neutral-900":"240 242 240","--color-neutral-950":"250 252 250","--color-neutral-1000":"255 255 255","--color-text-primary":"255 255 255","--color-text-secondary":"230 235 230","--color-text-muted":"200 210 200","--color-text-accent":"255 255 255","--color-financial-revenue":"0 255 127","--color-financial-expense":"255 51 51","--color-financial-asset":"64 224 208","--color-financial-liability":"255 191 0","--color-financial-equity":"255 215 0","--color-financial-profit":"50 255 126","--color-financial-loss":"255 69 58","--glass-background":"rgba(28, 38, 32, var(--glass-opacity-medium))","--glass-border":"var(--glass-border-medium)","--shadow-glass":"0 8px 32px rgba(0, 0, 0, 0.4)","--glass-glow":"var(--shadow-glow-md)","--glass-border-light":"rgba(255, 255, 255, 0.08)","--glass-border-medium":"rgba(255, 255, 255, 0.12)","--glass-border-heavy":"rgba(255, 255, 255, 0.16)","--shadow-glow-sm":"0 0 8px rgba(0, 255, 127, 0.25)","--shadow-glow-md":"0 0 12px rgba(0, 255, 127, 0.3)","--shadow-glow-lg":"0 0 16px rgba(0, 255, 127, 0.35)"}},ns={light:Hn,dark:Vn,blue:Qn,green:Gn},Hr=d.createContext(void 0),Kn=({children:t,defaultTheme:s="light",enableTransitions:r=!0,storageKey:a="eze-ledger-theme"})=>{const[n,o]=d.useState(()=>{const f=typeof window<"u"?localStorage.getItem(a):null;return f&&ns[f]?f:s}),i=d.useMemo(()=>ns[n],[n]),l=d.useMemo(()=>i.type==="dark",[i.type]),u=d.useMemo(()=>Object.keys(ns),[]),m=d.useCallback(f=>{const g=document.documentElement;r&&g.classList.add("theme-transitioning"),Object.entries(f.cssVariables).forEach(([b,y])=>{g.style.setProperty(b,y)}),r&&setTimeout(()=>{g.classList.remove("theme-transitioning")},300)},[r]),c=d.useCallback(f=>{o(f),localStorage.setItem(a,f)},[a]),x=d.useCallback(()=>{c(n==="light"?"dark":"light")},[n,c]);d.useEffect(()=>{m(i)},[i,m]),d.useEffect(()=>{const f=document.documentElement;f.setAttribute("data-theme",n),i.type==="dark"?(f.classList.add("dark"),f.classList.remove("light"),f.style.colorScheme="dark"):(f.classList.add("light"),f.classList.remove("dark"),f.style.colorScheme="light")},[n,i.type]);const h=d.useMemo(()=>({currentTheme:n,themeConfig:i,setTheme:c,toggleTheme:x,isDark:l,availableThemes:u}),[n,i,c,x,l,u]);return e.jsx(Hr.Provider,{value:h,children:t})},ye=()=>{const t=d.useContext(Hr);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function Vr(t){var s,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(r=Vr(t[s]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}function Wn(){for(var t,s,r=0,a="",n=arguments.length;r<n;r++)(t=arguments[r])&&(s=Vr(t))&&(a&&(a+=" "),a+=s);return a}const Ds="-",Jn=t=>{const s=Xn(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:i=>{const l=i.split(Ds);return l[0]===""&&l.length!==1&&l.shift(),Qr(l,s)||Yn(i)},getConflictingClassGroupIds:(i,l)=>{const u=r[i]||[];return l&&a[i]?[...u,...a[i]]:u}}},Qr=(t,s)=>{if(t.length===0)return s.classGroupId;const r=t[0],a=s.nextPart.get(r),n=a?Qr(t.slice(1),a):void 0;if(n)return n;if(s.validators.length===0)return;const o=t.join(Ds);return s.validators.find(({validator:i})=>i(o))?.classGroupId},ar=/^\[(.+)\]$/,Yn=t=>{if(ar.test(t)){const s=ar.exec(t)[1],r=s?.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},Xn=t=>{const{theme:s,prefix:r}=t,a={nextPart:new Map,validators:[]};return ei(Object.entries(t.classGroups),r).forEach(([o,i])=>{ws(i,a,o,s)}),a},ws=(t,s,r,a)=>{t.forEach(n=>{if(typeof n=="string"){const o=n===""?s:nr(s,n);o.classGroupId=r;return}if(typeof n=="function"){if(Zn(n)){ws(n(a),s,r,a);return}s.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([o,i])=>{ws(i,nr(s,o),r,a)})})},nr=(t,s)=>{let r=t;return s.split(Ds).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},Zn=t=>t.isThemeGetter,ei=(t,s)=>s?t.map(([r,a])=>{const n=a.map(o=>typeof o=="string"?s+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[s+i,l])):o);return[r,n]}):t,ti=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,a=new Map;const n=(o,i)=>{r.set(o,i),s++,s>t&&(s=0,a=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=a.get(o))!==void 0)return n(o,i),i},set(o,i){r.has(o)?r.set(o,i):n(o,i)}}},Gr="!",si=t=>{const{separator:s,experimentalParseClassName:r}=t,a=s.length===1,n=s[0],o=s.length,i=l=>{const u=[];let m=0,c=0,x;for(let y=0;y<l.length;y++){let C=l[y];if(m===0){if(C===n&&(a||l.slice(y,y+o)===s)){u.push(l.slice(c,y)),c=y+o;continue}if(C==="/"){x=y;continue}}C==="["?m++:C==="]"&&m--}const h=u.length===0?l:l.substring(c),f=h.startsWith(Gr),g=f?h.substring(1):h,b=x&&x>c?x-c:void 0;return{modifiers:u,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:i}):i},ri=t=>{if(t.length<=1)return t;const s=[];let r=[];return t.forEach(a=>{a[0]==="["?(s.push(...r.sort(),a),r=[]):r.push(a)}),s.push(...r.sort()),s},ai=t=>({cache:ti(t.cacheSize),parseClassName:si(t),...Jn(t)}),ni=/\s+/,ii=(t,s)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n}=s,o=[],i=t.trim().split(ni);let l="";for(let u=i.length-1;u>=0;u-=1){const m=i[u],{modifiers:c,hasImportantModifier:x,baseClassName:h,maybePostfixModifierPosition:f}=r(m);let g=!!f,b=a(g?h.substring(0,f):h);if(!b){if(!g){l=m+(l.length>0?" "+l:l);continue}if(b=a(h),!b){l=m+(l.length>0?" "+l:l);continue}g=!1}const y=ri(c).join(":"),C=x?y+Gr:y,R=C+b;if(o.includes(R))continue;o.push(R);const O=n(b,g);for(let P=0;P<O.length;++P){const M=O[P];o.push(C+M)}l=m+(l.length>0?" "+l:l)}return l};function oi(){let t=0,s,r,a="";for(;t<arguments.length;)(s=arguments[t++])&&(r=Kr(s))&&(a&&(a+=" "),a+=r);return a}const Kr=t=>{if(typeof t=="string")return t;let s,r="";for(let a=0;a<t.length;a++)t[a]&&(s=Kr(t[a]))&&(r&&(r+=" "),r+=s);return r};function li(t,...s){let r,a,n,o=i;function i(u){const m=s.reduce((c,x)=>x(c),t());return r=ai(m),a=r.cache.get,n=r.cache.set,o=l,l(u)}function l(u){const m=a(u);if(m)return m;const c=ii(u,r);return n(u,c),c}return function(){return o(oi.apply(null,arguments))}}const ae=t=>{const s=r=>r[t]||[];return s.isThemeGetter=!0,s},Wr=/^\[(?:([a-z-]+):)?(.+)\]$/i,ci=/^\d+\/\d+$/,di=new Set(["px","full","screen"]),ui=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hi=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pi=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mi=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fi=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ae=t=>Xe(t)||di.has(t)||ci.test(t),Pe=t=>Ze(t,"length",Ni),Xe=t=>!!t&&!Number.isNaN(Number(t)),is=t=>Ze(t,"number",Xe),nt=t=>!!t&&Number.isInteger(Number(t)),xi=t=>t.endsWith("%")&&Xe(t.slice(0,-1)),G=t=>Wr.test(t),Me=t=>ui.test(t),gi=new Set(["length","size","percentage"]),bi=t=>Ze(t,gi,Jr),yi=t=>Ze(t,"position",Jr),vi=new Set(["image","url"]),wi=t=>Ze(t,vi,Ci),ji=t=>Ze(t,"",Si),it=()=>!0,Ze=(t,s,r)=>{const a=Wr.exec(t);return a?a[1]?typeof s=="string"?a[1]===s:s.has(a[1]):r(a[2]):!1},Ni=t=>hi.test(t)&&!pi.test(t),Jr=()=>!1,Si=t=>mi.test(t),Ci=t=>fi.test(t),ki=()=>{const t=ae("colors"),s=ae("spacing"),r=ae("blur"),a=ae("brightness"),n=ae("borderColor"),o=ae("borderRadius"),i=ae("borderSpacing"),l=ae("borderWidth"),u=ae("contrast"),m=ae("grayscale"),c=ae("hueRotate"),x=ae("invert"),h=ae("gap"),f=ae("gradientColorStops"),g=ae("gradientColorStopPositions"),b=ae("inset"),y=ae("margin"),C=ae("opacity"),R=ae("padding"),O=ae("saturate"),P=ae("scale"),M=ae("sepia"),w=ae("skew"),S=ae("space"),I=ae("translate"),U=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",G,s],F=()=>[G,s],ie=()=>["",Ae,Pe],X=()=>["auto",Xe,G],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],N=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],E=()=>["","0",G],v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Xe,G];return{cacheSize:500,separator:":",theme:{colors:[it],spacing:[Ae,Pe],blur:["none","",Me,G],brightness:$(),borderColor:[t],borderRadius:["none","","full",Me,G],borderSpacing:F(),borderWidth:ie(),contrast:$(),grayscale:E(),hueRotate:$(),invert:E(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[xi,Pe],inset:B(),margin:B(),opacity:$(),padding:F(),saturate:$(),scale:$(),sepia:E(),skew:$(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",G]}],container:["container"],columns:[{columns:[Me]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),G]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nt,G]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",G]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",nt,G]}],"grid-cols":[{"grid-cols":[it]}],"col-start-end":[{col:["auto",{span:["full",nt,G]},G]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[it]}],"row-start-end":[{row:["auto",{span:[nt,G]},G]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",G]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",G]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",G,s]}],"min-w":[{"min-w":[G,s,"min","max","fit"]}],"max-w":[{"max-w":[G,s,"none","full","min","max","fit","prose",{screen:[Me]},Me]}],h:[{h:[G,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[G,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[G,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[G,s,"auto","min","max","fit"]}],"font-size":[{text:["base",Me,Pe]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",is]}],"font-family":[{font:[it]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",G]}],"line-clamp":[{"line-clamp":["none",Xe,is]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ae,G]}],"list-image":[{"list-image":["none",G]}],"list-style-type":[{list:["none","disc","decimal",G]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ae,Pe]}],"underline-offset":[{"underline-offset":["auto",Ae,G]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),yi]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bi]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wi]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:re()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Ae,G]}],"outline-w":[{outline:[Ae,Pe]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Ae,Pe]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Me,ji]}],"shadow-color":[{shadow:[it]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...N(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":N()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Me,G]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[x]}],saturate:[{saturate:[O]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",G]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",G]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",G]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[nt,G]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ae,Pe,is]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ei=li(ki);function T(...t){return Ei(Wn(t))}const q=d.forwardRef(({children:t,className:s,variant:r="medium",glow:a=!1,hover:n=!0,depth:o=3,style:i,...l},u)=>{const{currentTheme:m}=ye(),c=g=>({light:"backdrop-blur-xl bg-white/[0.08] dark:bg-white/[0.06] border-white/[0.08] dark:border-white/[0.08]",medium:"backdrop-blur-2xl bg-white/[0.15] dark:bg-white/[0.12] border-white/[0.12] dark:border-white/[0.12]",heavy:"backdrop-blur-3xl bg-white/[0.25] dark:bg-white/[0.20] border-white/[0.16] dark:border-white/[0.16]"})[g],x=g=>a?{light:"shadow-[var(--shadow-glow-sm)]",medium:"shadow-[var(--shadow-glow-md)]",heavy:"shadow-[var(--shadow-glow-lg)]"}[g]:"",h=g=>m==="light"?{light:"shadow-md",medium:"shadow-lg",heavy:"shadow-xl"}[g]:{light:"shadow-sm",medium:"shadow-md",heavy:"shadow-lg"}[g],f=g=>m==="light"?{light:"border-gray-200/60",medium:"border-gray-300/70",heavy:"border-gray-400/80"}[g]:"";return e.jsx(k.div,{ref:u,className:T("relative rounded-2xl border",c(r),h(r),f(r),"before:absolute before:inset-0 before:rounded-2xl","before:bg-gradient-to-br before:from-white/25 before:via-white/8 before:to-transparent","before:opacity-70 before:pointer-events-none","after:absolute after:inset-x-0 after:top-0 after:h-px after:rounded-t-2xl","after:bg-gradient-to-r after:from-transparent after:via-white/40 after:to-transparent","after:pointer-events-none",x(r),"transition-all duration-300 ease-out",s),style:i,whileHover:n?{scale:1.02,y:-4,boxShadow:m==="light"?"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 10px 20px rgba(0, 0, 0, 0.1)":void 0,transition:{type:"spring",stiffness:400,damping:25,duration:.2}}:void 0,whileTap:n?{scale:.99}:void 0,...l,children:e.jsx("div",{className:"relative z-10 h-full min-h-0 flex flex-col",children:t})})});q.displayName="ThemedGlassSurface";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ai={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(t,s)=>{const r=d.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:u,...m},c)=>d.createElement("svg",{ref:c,...Ai,width:n,height:n,stroke:a,strokeWidth:i?Number(o)*24/Number(n):o,className:["lucide",`lucide-${Ri(t)}`,l].join(" "),...m},[...s.map(([x,h])=>d.createElement(x,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=V("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=V("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=V("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=V("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=V("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=V("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=V("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=V("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=V("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=V("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=V("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=V("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=V("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=V("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=V("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=V("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=V("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=V("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=V("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=V("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=V("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=V("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=V("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=V("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=V("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=V("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=V("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=V("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=V("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=V("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=V("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=V("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=V("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Zi=[{id:"dashboard",label:"Command Center",icon:Li,description:"Financial mission control",badge:"AI"},{id:"universe",label:"Financial Universe",icon:js,description:"3D data exploration",badge:"3D"},{id:"transactions",label:"Transaction Flow",icon:Ti,description:"Liquid money movement",badge:"LIVE"},{id:"reports",label:"Intelligence Reports",icon:sa,description:"AI-powered insights"},{id:"customers",label:"Customers",icon:Bt,description:"Manage clients"},{id:"settings",label:"System Config",icon:Gi,description:"Customize your universe"}];function eo({currentView:t,onViewChange:s,businessHealth:r}){const[a,n]=d.useState(!1),[o,i]=d.useState(null),{currentTheme:l,isDark:u}=ye(),c=r>=80?{label:"Thriving",color:"text-green-400",icon:"🚀"}:r>=60?{label:"Stable",color:"text-blue-400",icon:"📈"}:r>=40?{label:"Cautious",color:"text-yellow-400",icon:"⚠️"}:{label:"Critical",color:"text-red-400",icon:"🔴"},x={hidden:{opacity:0,x:-20,scale:.95},visible:h=>({opacity:1,x:0,scale:1,transition:{delay:h*.1,duration:.4,ease:[.23,1,.32,1]}}),hover:{scale:1.05,x:8,transition:{duration:.2,ease:[.23,1,.32,1]}}};return e.jsxs("div",{className:T("fixed left-2 md:left-4 top-1/2 -translate-y-1/2 z-40 transition-all duration-500",a?"w-72":"w-16"),children:[e.jsxs(q,{variant:"medium",className:"h-auto w-full flex flex-col z-40 transition-all duration-500 ease-out breathe",children:[e.jsx("div",{className:"p-4 border-b border-border/20",children:e.jsxs(k.button,{onClick:()=>n(!a),className:"w-full flex items-center gap-3 text-left group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center group-hover:from-primary/30 group-hover:to-primary/20 transition-all",children:e.jsx(et,{className:"w-4 h-4 text-primary"})}),e.jsx(te,{children:a&&e.jsxs(k.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"overflow-hidden",children:[e.jsx("div",{className:T("text-sm font-bold text-gradient-primary",l==="blue"&&"theme-blue",l==="green"&&"theme-green"),children:"EZE Ledger"}),e.jsx("div",{className:"text-xs text-secondary-contrast",children:"Revolutionary AI"})]})})]})}),e.jsx(te,{children:a&&e.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-4 border-b border-border/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-lg",children:c.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:T("text-sm font-medium",u?c.color:"text-foreground/90"),children:c.label}),e.jsxs("div",{className:T("text-xs",u?"text-muted-contrast":"text-foreground/60"),children:["Health Score: ",r.toFixed(0),"%"]})]})]}),e.jsx("div",{className:"w-full h-2 bg-surface rounded-full overflow-hidden",children:e.jsx(k.div,{className:T("h-full rounded-full",r>=80&&"bg-gradient-to-r from-green-500 to-emerald-400",r>=60&&r<80&&"bg-gradient-to-r from-blue-500 to-indigo-400",r>=40&&r<60&&"bg-gradient-to-r from-yellow-500 to-orange-400",r<40&&"bg-gradient-to-r from-red-500 to-pink-400"),initial:{width:0},animate:{width:`${r}%`},transition:{duration:1,ease:[.23,1,.32,1]}})})]})}),e.jsx("nav",{className:"flex-1 p-2 space-y-1",children:Zi.map((h,f)=>{const g=h.icon,b=t===h.id,y=o===h.id;return e.jsxs(k.div,{custom:f,variants:x,initial:"hidden",animate:"visible",whileHover:"hover",className:"relative",children:[e.jsxs("button",{onClick:()=>{s(h.id),a&&n(!1)},onMouseEnter:()=>i(h.id),onMouseLeave:()=>i(null),className:T("w-full flex items-center gap-3 p-3 rounded-lg transition-all duration-200","group relative overflow-hidden",b?"bg-primary/10 text-primary":u?"hover:bg-surface/50 text-muted-contrast hover:text-primary-contrast":"text-foreground/90 hover:text-primary hover:bg-surface/70"),children:[b&&e.jsx(k.div,{layoutId:"activeIndicator",className:"absolute left-0 top-0 bottom-0 w-1 bg-primary rounded-r-full",transition:{duration:.3,ease:[.23,1,.32,1]}}),y&&e.jsx(k.div,{className:"absolute inset-0 bg-primary/5 rounded-lg",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2}}),e.jsx("div",{className:T("w-6 h-6 flex items-center justify-center relative z-10",b&&"animate-pulse"),children:e.jsx(g,{className:T("w-5 h-5",!b&&!u&&"text-foreground/90 group-hover:text-primary")})}),e.jsx(te,{children:a&&e.jsxs(k.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"flex-1 text-left overflow-hidden relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:T("text-sm font-medium",!u&&"text-foreground/90"),children:h.label}),h.badge&&e.jsx("span",{className:T("px-1.5 py-0.5 text-xs rounded",u?"bg-primary/20 text-primary":"bg-primary/10 text-primary/90"),children:h.badge})]}),e.jsx("div",{className:T("text-xs",u?"text-muted-contrast":"text-foreground/60"),children:h.description})]})})]}),e.jsx(te,{children:!a&&y&&e.jsx(k.div,{initial:{opacity:0,x:-10,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-10,scale:.9},className:"absolute left-16 top-1/2 -translate-y-1/2 z-50",children:e.jsxs(q,{variant:"heavy",className:"px-3 py-2 text-sm whitespace-nowrap",children:[e.jsx("div",{className:"font-medium text-primary-contrast",children:h.label}),e.jsx("div",{className:"text-xs text-muted-contrast",children:h.description})]})})})]},h.id)})}),e.jsx("div",{className:"p-4 border-t border-border/20",children:e.jsx(te,{children:a?e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-contrast",children:[e.jsx(Bt,{className:"w-3 h-3"}),e.jsx("span",{children:"Real-time sync active"}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-contrast",children:[e.jsx(_e,{className:"w-3 h-3"}),e.jsx("span",{children:"Performance: 60 FPS"})]})]}):e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})})})})]}),e.jsx(te,{children:a&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-30 md:hidden",style:{background:"transparent",backdropFilter:"none"},onClick:()=>n(!1)})})]})}const to={revenue:{icon:"text-financial-revenue",background:"from-financial-revenue/20 to-financial-revenue/10",glow:"revenue-glow",border:"border-financial-revenue/30"},expense:{icon:"text-financial-expense",background:"from-financial-expense/20 to-financial-expense/10",glow:"expense-glow",border:"border-financial-expense/30"},profit:{icon:"text-financial-profit",background:"from-financial-profit/20 to-financial-profit/10",glow:"profit-glow",border:"border-financial-profit/30"},primary:{icon:"text-primary",background:"from-primary/20 to-primary/10",glow:"shadow-primary",border:"border-primary/30"}};function Tt({title:t,value:s,previousValue:r,trend:a,change:n,icon:o,color:i,sparkline:l}){const u=to[i],m=a==="up",{currentTheme:c,isDark:x}=ye(),h=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(g),f=d.useMemo(()=>{const g=Array.isArray(l)?l.filter(U=>Number.isFinite(U)):[];if(!g||g.length<2)return null;const b=160,y=40,C=2,R=4,O=Math.min(...g),M=Math.max(...g)-O||1,w=g.map((U,L)=>{const B=C+L*(b-C*2)/(g.length-1),F=y-R-(U-O)/M*(y-R*2);return{x:B,y:F}});let S=`M ${w[0].x} ${w[0].y}`;for(let U=1;U<w.length;U++){const L=w[U-1],B=w[U],F=L.x+(B.x-L.x)/3,ie=L.x+2*(B.x-L.x)/3;S+=` C ${F} ${L.y}, ${ie} ${B.y}, ${B.x} ${B.y}`}const I=w[w.length-1];return{d:S,lastX:I.x,lastY:I.y,width:b,height:y}},[l]);return e.jsxs(q,{variant:"medium",glow:!1,hover:!1,className:T("p-6 h-full enhanced-card-hover shimmer-effect",x&&c==="dark"&&"white-glow"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:T("w-12 h-12 rounded-xl bg-gradient-to-br flex items-center justify-center",u.background),children:e.jsx(o,{className:T("w-6 h-6",u.icon)})}),e.jsxs("div",{className:T("flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",m?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"),children:[e.jsx("div",{className:T("w-3 h-3",!m&&"rotate-180"),children:"▲"}),n.toFixed(1),"%"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:T("text-3xl font-bold tracking-tight leading-none text-primary-contrast",x&&"text-bright-glow"),children:h(s)}),e.jsx("div",{className:"text-sm font-medium text-secondary-contrast uppercase tracking-wide",children:t})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-border/20",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-contrast",children:["Previous: ",h(r)]}),e.jsxs("span",{className:T("font-medium",m?"text-green-400":"text-red-400"),children:[m?"+":"",h(s-r)]})]})}),e.jsx("div",{className:"mt-4",children:f?e.jsx("div",{className:"w-full h-10",children:e.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${f.width} ${f.height}`,preserveAspectRatio:"none",className:T(i==="revenue"&&"text-financial-revenue",i==="expense"&&"text-financial-expense",i==="profit"&&"text-financial-profit",i==="primary"&&"text-primary"),children:[e.jsx("path",{d:f.d,fill:"none",stroke:"currentColor",strokeWidth:"2",opacity:"0.9"}),e.jsx("circle",{cx:f.lastX,cy:f.lastY,r:"2.5",fill:"currentColor"})]})}):e.jsx("div",{className:"w-full h-1 bg-surface rounded-full overflow-hidden",children:e.jsx("div",{className:T("h-full rounded-full bg-gradient-to-r",i==="revenue"&&"from-financial-revenue/60 to-financial-revenue",i==="expense"&&"from-financial-expense/60 to-financial-expense",i==="profit"&&"from-financial-profit/60 to-financial-profit",i==="primary"&&"from-primary/60 to-primary"),style:{width:`${Math.min(100,s/(r*1.5)*100)}%`}})})})]})}const ls=(t,s,r,a,n=1)=>{if(r&&r.length>0){const m=[...r];return Math.abs(m[m.length-1]-t)>t*.001&&(m[m.length-1]=t),m.map((c,x)=>({value:Math.round(c),month:x,label:a?.[x]}))}const o=[];let i=t*.7;const l=t*.05,u=s==="up"?1.15:.95;for(let m=0;m<12;m++){const x=Math.sin(n*m*.5)*.5*l;i=i*(1+(u-1)*.1)+x,o.push({value:Math.round(i),month:m})}return o};function so({data:t}){const{isDark:s}=ye(),[r,a]=d.useState(null),[,n]=d.useState(0),[o]=d.useState(()=>{const w=ls(t.revenue.current,t.revenue.trend,t.series?.revenue,t.series?.labels,1),S=ls(t.expenses.current,t.expenses.trend,t.series?.expenses,t.series?.labels,2),I=t.series?.profit??(t.series?.revenue&&t.series?.expenses?t.series.revenue.map((L,B)=>L-t.series.expenses[B]):void 0),U=I?ls(t.profit.current,t.profit.trend,I,t.series?.labels,3):w.map((L,B)=>({value:Math.max(0,L.value-(S[B]?.value??0)),month:B}));return{revenueData:w,expenseData:S,profitData:U}}),{revenueData:i,expenseData:l,profitData:u}=o;d.useEffect(()=>{const w=setInterval(()=>{n(S=>(S+1)%100)},200);return()=>clearInterval(w)},[]);const m=500,c=300,x=40,h=[...i.map(w=>w.value),...l.map(w=>w.value),...u.map(w=>w.value)],f=Math.max(...h),g=Math.min(...h),b=f-g,y=h.some(w=>Number.isFinite(w)&&w!==0),C=w=>!Number.isFinite(w)||b===0?0:(w-g)/b,R=(w,S,I=0)=>{let U=`M ${x} ${c-x}`;return w.forEach((L,B)=>{const F=x+B*(m-2*x)/(w.length-1),ie=C(L.value),X=c-x-ie*(c-2*x)+I;if(B===0)U+=` L ${F} ${X}`;else{const ne=x+(B-1)*(m-2*x)/(w.length-1),re=ne+(F-ne)/3,N=ne+2*(F-ne)/3,J=c-x-C(w[B-1].value)*(c-2*x)+I;U+=` C ${re} ${J}, ${N} ${X}, ${F} ${X}`}}),U+=` L ${m-x} ${c-x} L ${x} ${c-x} Z`,U},O=(w,S=0)=>{let I="";return w.forEach((U,L)=>{const B=x+L*(m-2*x)/(w.length-1),F=C(U.value),ie=c-x-F*(c-2*x)+S;if(L===0)I+=`M ${B} ${ie}`;else{const X=x+(L-1)*(m-2*x)/(w.length-1),ne=X+(B-X)/3,re=X+2*(B-X)/3,N=c-x-C(w[L-1].value)*(c-2*x)+S;I+=` C ${ne} ${N}, ${re} ${ie}, ${B} ${ie}`}}),I},P=(w,S,I=0)=>{const U=x+S*(m-2*x)/(w.length-1),L=C(w[S].value),B=c-x-L*(c-2*x)+I;return{x:U,y:B}},M=(w,S)=>{switch(w){case"revenue":return i[S];case"expense":return l[S];case"profit":return u[S];default:return null}};return e.jsxs(q,{variant:"medium",className:"p-4 sm:p-6 h-full enhanced-card-hover",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3 sm:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:e.jsx(Bt,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Liquid Cash Flow"}),e.jsx("p",{className:"text-sm text-secondary-contrast",children:"Real-time financial movement visualization"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-financial-revenue"}),e.jsx("span",{children:"Revenue"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-financial-expense"}),e.jsx("span",{children:"Expenses"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-financial-profit"}),e.jsx("span",{children:"Profit"})]})]})]}),e.jsxs("div",{className:"relative w-full h-[250px] sm:h-[300px] lg:h-[350px] rounded-lg overflow-hidden bg-gradient-to-br from-surface/30 to-transparent",children:[e.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${m} ${c}`,className:"absolute inset-0",preserveAspectRatio:"xMidYMid meet",children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"revenueGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgb(var(--color-financial-revenue))",stopOpacity:"0.8"}),e.jsx("stop",{offset:"100%",stopColor:"rgb(var(--color-financial-revenue))",stopOpacity:"0.2"})]}),e.jsxs("linearGradient",{id:"expenseGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgb(var(--color-financial-expense))",stopOpacity:"0.8"}),e.jsx("stop",{offset:"100%",stopColor:"rgb(var(--color-financial-expense))",stopOpacity:"0.2"})]}),e.jsxs("linearGradient",{id:"profitGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgb(var(--color-financial-profit))",stopOpacity:"0.8"}),e.jsx("stop",{offset:"100%",stopColor:"rgb(var(--color-financial-profit))",stopOpacity:"0.2"})]}),e.jsx("pattern",{id:"liquidFlow",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:e.jsx(k.rect,{width:"20",height:"20",fill:"url(#revenueGradient)",animate:{x:[0,20,0],opacity:[.3,.6,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})})]}),e.jsxs("g",{opacity:"0.1",children:[Array.from({length:5}).map((w,S)=>e.jsx("line",{x1:x,y1:x+S*(c-2*x)/4,x2:m-x,y2:x+S*(c-2*x)/4,stroke:"currentColor",strokeWidth:"1"},`h-${S}`)),Array.from({length:6}).map((w,S)=>e.jsx("line",{x1:x+S*(m-2*x)/5,y1:x,x2:x+S*(m-2*x)/5,y2:c-x,stroke:"currentColor",strokeWidth:"1"},`v-${S}`))]}),y&&e.jsx(k.path,{d:R(l,"expense",20),fill:"url(#expenseGradient)",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:2,delay:.5}}),y&&e.jsx(k.path,{d:R(i,"revenue",0),fill:"url(#revenueGradient)",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:2,delay:1}}),y&&e.jsx(k.path,{d:R(u,"profit",-10),fill:"url(#profitGradient)",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:2,delay:1.5}}),y&&e.jsx(k.path,{d:O(l,20),stroke:"rgb(var(--color-financial-expense))",strokeWidth:"2.5",fill:"none",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.9},transition:{duration:1.6,delay:.5}}),e.jsx(k.path,{d:y?O(i,0):"",stroke:"rgb(var(--color-financial-revenue))",strokeWidth:"2.5",fill:"none",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:y?.95:0},transition:{duration:1.6,delay:1}}),y&&e.jsx(k.path,{d:O(u,-10),stroke:"rgb(var(--color-financial-profit))",strokeWidth:"2.5",fill:"none",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.9},transition:{duration:1.6,delay:1.5}}),y&&i.map((w,S)=>{const{x:I,y:U}=P(i,S,0);return e.jsx(k.circle,{cx:I,cy:U,r:r===`revenue-${S}`?7:5,fill:"rgb(var(--color-financial-revenue))",stroke:s?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.85)",strokeWidth:"2",className:"cursor-pointer drop-shadow-lg",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"},whileHover:{scale:1.3},onMouseEnter:()=>a(`revenue-${S}`),onMouseLeave:()=>a(null)},`revenue-${S}`)}),y&&l.map((w,S)=>{const{x:I,y:U}=P(l,S,20);return e.jsx(k.circle,{cx:I,cy:U,r:r===`expense-${S}`?7:5,fill:"rgb(var(--color-financial-expense))",stroke:s?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.85)",strokeWidth:"2",className:"cursor-pointer drop-shadow-lg",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"},whileHover:{scale:1.3},onMouseEnter:()=>a(`expense-${S}`),onMouseLeave:()=>a(null)},`expense-${S}`)}),y&&u.map((w,S)=>{const{x:I,y:U}=P(u,S,-10);return e.jsx(k.circle,{cx:I,cy:U,r:r===`profit-${S}`?7:5,fill:"rgb(var(--color-financial-profit))",stroke:s?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.85)",strokeWidth:"2",className:"cursor-pointer drop-shadow-lg",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"},whileHover:{scale:1.3},onMouseEnter:()=>a(`profit-${S}`),onMouseLeave:()=>a(null)},`profit-${S}`)})]}),e.jsx(te,{children:r!==null&&(()=>{const[w,S]=r.split("-"),I=parseInt(S);if(!M(w,I))return null;let L=x+I*(m-2*x)/(i.length-1);return e.jsx(k.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},className:"absolute z-10 pointer-events-none",style:{left:`${L}px`,top:"20px",transform:"translateX(-50%)"},children:e.jsxs(q,{variant:"heavy",className:"px-4 py-3 text-sm shadow-xl chart-tooltip liquid-glass",hover:!1,children:[e.jsxs("div",{className:"font-semibold text-foreground mb-2",children:["Month ",I+1]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-financial-revenue"}),e.jsxs("span",{className:"text-financial-revenue font-medium",children:["Revenue: $",i[I]?.value.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-financial-expense"}),e.jsxs("span",{className:"text-financial-expense font-medium",children:["Expenses: $",l[I]?.value.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-financial-profit"}),e.jsxs("span",{className:"text-financial-profit font-medium",children:["Profit: $",u[I]?.value.toLocaleString()]})]})]}),e.jsxs("div",{className:"text-xs text-muted-contrast mt-2 pt-2 border-t border-border/30",children:["Hovering: ",e.jsx("span",{className:"font-medium",children:w.charAt(0).toUpperCase()+w.slice(1)})]})]})})})()}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:5}).map((w,S)=>e.jsx(k.div,{className:"absolute w-2 h-2 bg-primary/30 rounded-full",animate:{x:[0,m-20,0],y:[Math.random()*c,Math.random()*c,Math.random()*c],opacity:[0,.6,0]},transition:{duration:8+Math.random()*4,repeat:1/0,delay:S*2,ease:"easeInOut"}},S))})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-2 sm:gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-xl sm:text-2xl md:text-3xl font-black text-financial-revenue tracking-tight leading-none drop-shadow-sm",children:["$",t.revenue.current.toLocaleString()]}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-secondary-contrast uppercase tracking-wide mt-1",children:"Total Revenue"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-xl sm:text-2xl md:text-3xl font-black text-financial-expense tracking-tight leading-none drop-shadow-sm",children:["$",t.expenses.current.toLocaleString()]}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-secondary-contrast uppercase tracking-wide mt-1",children:"Total Expenses"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-xl sm:text-2xl md:text-3xl font-black text-financial-profit tracking-tight leading-none drop-shadow-sm",children:["$",t.profit.current.toLocaleString()]}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-secondary-contrast uppercase tracking-wide mt-1",children:"Net Profit"})]})]})]})}function ro({healthScore:t,metrics:s}){const r=d.useRef(null),[a,n]=d.useState(!1),[,o]=d.useState({x:0,y:0}),{currentTheme:i}=ye(),l=cn(t,{stiffness:100,damping:30});Ks(l,[0,100],[0,360]),Ks(l,[0,100],[.9,1.1]);const m=t>=80?{score:t,label:"Thriving",color:i==="green"?"from-emerald-400 via-green-500 to-emerald-600":i==="blue"?"from-emerald-400 via-teal-500 to-cyan-500":"from-emerald-400 via-green-500 to-emerald-600",icon:_e,description:"Your business is performing exceptionally well",pulse:!0}:t>=60?{score:t,label:"Stable",color:i==="blue"?"from-blue-400 via-indigo-500 to-blue-600":i==="green"?"from-teal-400 via-cyan-500 to-teal-600":i==="light"?"from-indigo-400 via-purple-500 to-indigo-600":"from-violet-400 via-purple-500 to-violet-600",icon:Ki,description:"Solid performance with room for growth",pulse:!1}:t>=40?{score:t,label:"Cautious",color:i==="green"?"from-yellow-400 via-amber-500 to-orange-500":"from-amber-400 via-yellow-500 to-orange-500",icon:Xr,description:"Some areas need attention",pulse:!0}:{score:t,label:"Critical",color:i==="blue"?"from-red-400 via-rose-500 to-pink-500":"from-red-400 via-red-500 to-rose-500",icon:Di,description:"Immediate action required",pulse:!0},c=m.icon;d.useEffect(()=>{const f=g=>{if(r.current){const b=r.current.getBoundingClientRect(),y=b.left+b.width/2,C=b.top+b.height/2;o({x:(g.clientX-y)/b.width,y:(g.clientY-C)/b.height})}};return a&&document.addEventListener("mousemove",f),()=>{document.removeEventListener("mousemove",f)}},[a]);const x=f=>f.trend==="up"?Math.min(100,50+f.change):Math.max(0,50-f.change),h={revenue:x(s.revenue),expenses:100-x(s.expenses),profit:x(s.profit),cashFlow:x(s.cashFlow)};return e.jsxs(q,{variant:"medium",glow:!0,className:"p-6 h-full relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(k.div,{className:T("w-10 h-10 rounded-xl flex items-center justify-center shadow-lg","bg-gradient-to-br border border-white/20",m.color),whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400,damping:10},children:e.jsx(c,{className:"w-5 h-5 text-white drop-shadow-lg"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-primary-contrast mb-1",children:"Business Health"}),e.jsx("p",{className:"text-sm text-secondary-contrast",children:"Real-time wellness monitoring"})]})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[e.jsxs(k.div,{ref:r,className:"relative w-36 h-36 cursor-pointer",onHoverStart:()=>n(!0),onHoverEnd:()=>n(!1),whileHover:{scale:1.05,rotateX:5,rotateY:5},transition:{type:"spring",stiffness:400,damping:25},children:[e.jsx(k.div,{className:T("absolute inset-0 rounded-full blur-2xl",`bg-gradient-to-br ${m.color}`,m.pulse&&"animate-pulse"),animate:{scale:a?1.3:1.1,opacity:a?.6:.4},transition:{duration:.3}}),e.jsxs(k.div,{className:T("relative w-full h-full rounded-full border-4","backdrop-blur-sm shadow-2xl overflow-hidden",`bg-gradient-to-br ${m.color}`,i==="light"?"border-white/30":"border-white/20"),animate:{rotate:a?360:0,boxShadow:a?"0 0 60px rgba(139, 92, 246, 0.6), 0 0 100px rgba(139, 92, 246, 0.3)":"0 0 30px rgba(139, 92, 246, 0.3)"},transition:{rotate:{duration:2,ease:"easeInOut"},boxShadow:{duration:.3}},children:[e.jsx("div",{className:"absolute inset-2 rounded-full bg-white/10 backdrop-blur-sm"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs(k.div,{className:"text-center text-white",animate:{scale:a?1.15:1},transition:{type:"spring",stiffness:300,damping:20},children:[e.jsx(k.div,{className:"text-5xl font-black tracking-tight leading-none",style:{fontWeight:900},animate:{textShadow:a?"0 0 40px rgba(255,255,255,1), 0 0 80px rgba(255,255,255,0.7), 0 0 120px rgba(255,255,255,0.4)":"0 0 20px rgba(255,255,255,0.8), 0 0 40px rgba(255,255,255,0.4)"},transition:{duration:.3},children:Math.round(l.get())}),e.jsx(k.div,{className:"text-xs font-bold opacity-95 uppercase tracking-widest mt-1",animate:{textShadow:a?"0 0 20px rgba(255,255,255,0.8)":"0 0 10px rgba(255,255,255,0.5)"},children:"SCORE"})]})}),Array.from({length:8}).map((f,g)=>e.jsx(k.div,{className:"absolute w-1 h-1 bg-white/40 rounded-full",animate:{x:[Math.cos(g*Math.PI*2/8)*40,Math.cos(g*Math.PI*2/8+Math.PI)*40,Math.cos(g*Math.PI*2/8)*40],y:[Math.sin(g*Math.PI*2/8)*40,Math.sin(g*Math.PI*2/8+Math.PI)*40,Math.sin(g*Math.PI*2/8)*40],opacity:[.1,.4,.1]},transition:{duration:8+g*1,repeat:1/0,ease:"easeInOut"},style:{left:"50%",top:"50%",marginLeft:"-2px",marginTop:"-2px"}},g))]}),[1,2,3].map(f=>e.jsx(k.div,{className:"absolute inset-0 rounded-full border border-white/10",style:{width:`${100+f*20}%`,height:`${100+f*20}%`,left:`${-f*10}%`,top:`${-f*10}%`},animate:{rotate:[0,f%2===0?-360:360]},transition:{duration:20+f*5,repeat:1/0,ease:"linear"}},f))]}),e.jsxs("div",{className:"text-center",children:[e.jsx(k.h4,{className:T("text-2xl font-bold mb-2 bg-gradient-to-r bg-clip-text text-transparent",m.score>=80&&(i==="green"?"from-emerald-400 to-green-500":i==="blue"?"from-emerald-400 to-teal-500":"from-emerald-400 to-green-500"),m.score>=60&&m.score<80&&(i==="blue"?"from-blue-400 to-indigo-500":i==="green"?"from-teal-400 to-cyan-500":i==="light"?"from-indigo-400 to-purple-500":"from-violet-400 to-purple-500"),m.score>=40&&m.score<60&&"from-amber-400 to-orange-500",m.score<40&&"from-red-400 to-rose-500"),animate:{scale:a?1.05:1,textShadow:a?"0 0 20px rgba(139, 92, 246, 0.5)":"0 0 0px rgba(139, 92, 246, 0)"},transition:{type:"spring",stiffness:300,damping:20},children:m.label}),e.jsx("p",{className:"text-sm text-secondary-contrast max-w-[220px] mx-auto leading-relaxed",children:m.description})]}),e.jsx("div",{className:"w-full space-y-3",children:Object.entries(h).map(([f,g],b)=>{const y=C=>C>=80?i==="green"?"from-emerald-400 via-green-500 to-emerald-600":i==="blue"?"from-emerald-400 via-teal-500 to-cyan-500":"from-emerald-400 via-green-500 to-emerald-600":C>=60?i==="blue"?"from-blue-400 via-indigo-500 to-blue-600":i==="green"?"from-teal-400 via-cyan-500 to-teal-600":i==="light"?"from-indigo-400 via-purple-500 to-indigo-600":"from-violet-400 via-purple-500 to-violet-600":C>=40?"from-amber-400 via-yellow-500 to-orange-500":"from-red-400 via-red-500 to-rose-500";return e.jsxs(k.div,{className:T("flex items-center justify-between p-3 rounded-xl backdrop-blur-sm border transition-all duration-300 cursor-pointer","bg-gradient-to-r from-white/5 to-white/10",i==="light"?"border-white/20 hover:border-white/30":"border-white/10 hover:border-white/20","hover:from-white/10 hover:to-white/15 hover:shadow-lg"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.1+.5,type:"spring",stiffness:100,damping:15},whileHover:{scale:1.03,x:6},whileTap:{scale:.98},children:[e.jsx("span",{className:"text-sm font-bold capitalize text-primary-contrast",children:f==="cashFlow"?"Cash Flow":f}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:T("w-24 h-3 rounded-full overflow-hidden shadow-inner relative",i==="light"?"bg-neutral-200/50":"bg-neutral-700/50"),children:e.jsxs(k.div,{className:T("h-full rounded-full relative shadow-lg",`bg-gradient-to-r ${y(g)}`),initial:{width:0},animate:{width:`${g}%`},transition:{duration:1.5,delay:b*.2+.8,ease:"easeOut"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/30 to-transparent rounded-full"}),e.jsx(k.div,{className:"absolute right-0 top-0 w-1 h-full bg-white/60 rounded-r-full",animate:{opacity:[.6,1,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]})}),e.jsxs("span",{className:"text-sm font-bold text-primary-contrast w-12 text-right",children:[Math.round(g),"%"]})]})]},f)})}),e.jsxs(k.button,{whileHover:{scale:1.06,y:-3,boxShadow:"0 20px 40px rgba(139, 92, 246, 0.3), 0 10px 20px rgba(0, 0, 0, 0.2)"},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},className:T("w-full py-4 px-6 rounded-xl text-sm font-bold transition-all duration-300","text-white shadow-xl border-2 relative overflow-hidden cursor-pointer",`bg-gradient-to-r ${m.color}`,i==="light"?"border-white/30 hover:border-white/50":"border-white/20 hover:border-white/40","hover:shadow-2xl"),children:[e.jsxs(k.span,{className:"relative z-10 flex items-center justify-center gap-2",animate:{textShadow:"0 0 20px rgba(255,255,255,0.8)"},children:[e.jsx("span",{className:"text-lg",children:m.score>=80?"🚀":"💡"}),m.score>=80?"Optimize Further":"Improve Health"]}),e.jsx(k.div,{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-white/10 to-transparent",initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:2,repeat:1/0,repeatDelay:3,ease:"easeInOut"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/15 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"})]})]})]})}const ao=(t,s)=>{const r=[];s.revenue.trend==="up"&&s.revenue.change>20&&r.push({id:"revenue-growth",type:"opportunity",title:"Accelerating Revenue Growth",description:`Revenue is up ${s.revenue.change.toFixed(1)}%. Consider scaling marketing efforts to capitalize on this momentum.`,impact:"high",confidence:87,icon:_e,action:"Scale Marketing",priority:1}),s.expenses.change>15&&r.push({id:"expense-warning",type:"warning",title:"Rising Expense Pattern",description:`Expenses increased by ${s.expenses.change.toFixed(1)}%. Review variable costs for optimization opportunities.`,impact:"medium",confidence:92,icon:Yr,action:"Review Expenses",priority:2});const a=s.cashFlow.current*(1+s.cashFlow.change/100);r.push({id:"cashflow-prediction",type:"prediction",title:"Next Month Cash Flow",description:`Based on current trends, expect $${a.toLocaleString()} cash flow next month.`,impact:"high",confidence:78,icon:ta,priority:3}),t<70&&r.push({id:"health-recommendation",type:"recommendation",title:"Business Health Improvement",description:"Focus on increasing profit margins and optimizing operational efficiency to boost overall health score.",impact:"high",confidence:85,icon:ia,action:"Optimize Operations",priority:1});const n=s.profit.current/s.revenue.current*100;return n>25&&r.push({id:"profit-opportunity",type:"opportunity",title:"Strong Profit Margins",description:`Excellent ${n.toFixed(1)}% profit margin. Consider reinvesting in growth initiatives.`,impact:"medium",confidence:94,icon:ra,action:"Reinvest in Growth",priority:4}),r.push({id:"seasonal-prediction",type:"prediction",title:"Seasonal Trend Analysis",description:"Historical data suggests 15% revenue increase likely in the next quarter based on seasonal patterns.",impact:"medium",confidence:73,icon:Ht,priority:5}),r.sort((o,i)=>o.priority-i.priority).slice(0,4)};function no({businessHealth:t,metrics:s}){const[r,a]=d.useState([]),[n,o]=d.useState(null),[i,l]=d.useState(!0);d.useEffect(()=>{l(!0);const c=setTimeout(()=>{a(ao(t,s)),l(!1)},2e3);return()=>clearTimeout(c)},[t,s]);const u=c=>{switch(c){case"opportunity":return{bg:"from-green-500/20 to-emerald-500/10",border:"border-green-500/30",icon:"text-green-400",glow:"shadow-green-500/20"};case"warning":return{bg:"from-yellow-500/20 to-orange-500/10",border:"border-yellow-500/30",icon:"text-yellow-400",glow:"shadow-yellow-500/20"};case"prediction":return{bg:"from-blue-500/20 to-indigo-500/10",border:"border-blue-500/30",icon:"text-blue-400",glow:"shadow-blue-500/20"};case"recommendation":return{bg:"from-purple-500/20 to-pink-500/10",border:"border-purple-500/30",icon:"text-purple-400",glow:"shadow-purple-500/20"}}},m=c=>{switch(c){case"high":return"🔥";case"medium":return"⚡";case"low":return"💡"}};return e.jsxs(q,{variant:"medium",className:"p-6 h-full enhanced-card-hover",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:e.jsx(Ht,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"AI Insights"}),e.jsx("p",{className:"text-sm text-secondary-contrast",children:"Predictive intelligence for your business"})]})]}),e.jsx(te,{children:i&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(k.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 rounded-full border-4 border-primary/20 border-t-primary mx-auto mb-4"}),e.jsx("div",{className:"text-sm text-muted-contrast",children:"AI analyzing your financial patterns..."}),e.jsx("div",{className:"flex items-center justify-center gap-1 mt-2",children:[0,1,2].map(c=>e.jsx(k.div,{className:"w-2 h-2 bg-primary/60 rounded-full",animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:c*.2}},c))})]})})}),e.jsx(te,{children:!i&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:r.map((c,x)=>{const h=u(c.type),f=c.icon,g=n===c.id;return e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},className:T("p-4 rounded-lg border cursor-pointer transition-all duration-300 group","bg-gradient-to-r backdrop-blur-sm",h.bg,g?[h.border,h.glow,"shadow-lg"]:"border-border/20 hover:border-border/40"),onClick:()=>o(g?null:c.id),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:T("w-8 h-8 rounded-lg bg-gradient-to-br from-white/10 to-white/5 flex items-center justify-center flex-shrink-0",g&&"scale-110"),children:e.jsx(f,{className:T("w-4 h-4",h.icon)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-sm group-hover:text-primary transition-colors",children:c.title}),e.jsx("span",{className:"text-xs",children:m(c.impact)}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-contrast ml-auto",children:[e.jsxs("span",{children:[c.confidence,"%"]}),e.jsx("div",{className:"w-1 h-1 bg-current rounded-full"})]})]}),e.jsx("p",{className:"text-xs text-muted-contrast leading-relaxed",children:c.description}),c.action&&e.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-2 px-3 py-1 text-xs bg-primary/10 text-primary rounded-md hover:bg-primary/20 transition-colors flex items-center gap-1",children:[e.jsx(et,{className:"w-3 h-3"}),c.action,e.jsx(Oi,{className:"w-3 h-3"})]})]})]}),e.jsx("div",{className:"mt-3 w-full h-1 bg-surface/50 rounded-full overflow-hidden",children:e.jsx(k.div,{className:T("h-full rounded-full",h.icon.replace("text-","bg-")),initial:{width:0},animate:{width:`${c.confidence}%`},transition:{duration:1,delay:x*.1+.5}})})]},c.id)})})}),e.jsx("div",{className:"mt-6 pt-4 border-t border-border/20",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-contrast",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{children:"AI Engine Active"})]}),e.jsx("span",{children:"Last updated: Now"})]})})]})}const io=[{id:1,description:"Adobe Creative Suite",amount:-59.99,type:"expense",category:"Software"},{id:2,description:"Client Payment - ACME Corp",amount:5e3,type:"revenue",category:"Consulting"},{id:3,description:"Office Supplies",amount:-247.83,type:"expense",category:"Office"},{id:4,description:"Freelancer Payment",amount:-1200,type:"expense",category:"Contractors"},{id:5,description:"Investment Dividend",amount:450.75,type:"revenue",category:"Investments"}];function cr({businessHealth:t}){const[s,r]=d.useState("1M"),[a,n]=d.useState(!0),{currentTheme:o}=ye();d.useEffect(()=>{const h=setTimeout(()=>n(!1),1e3);return()=>clearTimeout(h)},[]);const i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},l={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.23,1,.32,1]}}},[u,m]=d.useState(()=>({revenue:{current:125840,previous:98760,trend:"up",change:27.4},expenses:{current:89340,previous:76890,trend:"up",change:16.2},profit:{current:36500,previous:21870,trend:"up",change:66.9},cashFlow:{current:45200,previous:32100,trend:"up",change:40.8},series:void 0})),c=h=>{switch(h){case"1M":return 1;case"3M":return 3;case"6M":return 6;default:return 12}},x=Je({queryKey:["dashboard",s],queryFn:async()=>(await Ka(()=>import("./realData-DF_e2VPz.js"),__vite__mapDeps([0,1,2,3]))).getDashboardWithSeries(c(s)),select:h=>{if(!h?.metrics)return null;const f=h.metrics;return{revenue:f.revenue,expenses:f.expenses,profit:f.profit,cashFlow:f.cashFlow??{current:0,previous:0,trend:"up",change:0},series:h.series??void 0,aiInsights:Array.isArray(h.aiInsights)?h.aiInsights:[]}},placeholderData:h=>h,staleTime:15e3,refetchInterval:3e4});return d.useEffect(()=>{const h=x.data;h&&m({revenue:h.revenue,expenses:h.expenses,profit:h.profit,cashFlow:h.cashFlow,series:h.series})},[x.data]),d.useEffect(()=>{const h=async()=>{try{Ut.invalidateQueries({queryKey:["dashboard"]})}catch{}};return window.addEventListener("data:refresh",h),()=>window.removeEventListener("data:refresh",h)},[s]),a?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs(q,{variant:"medium",className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full border-4 border-primary/30 border-t-primary animate-spin"}),e.jsx("div",{className:"text-lg font-semibold text-gradient-primary mb-2",children:"Initializing Financial Universe"}),e.jsx("div",{className:"text-muted-contrast",children:"Loading your financial command center..."})]})}):e.jsxs(k.div,{variants:i,initial:"hidden",animate:"visible",className:"h-full space-y-6 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(k.div,{variants:l,children:[e.jsxs("div",{className:"flex flex-col 2xl:flex-row 2xl:items-center 2xl:justify-between 2xl:gap-8",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:T("text-2xl sm:text-3xl font-bold mb-2 truncate",o==="light"?"text-gray-900 bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent":o==="blue"?"text-white bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent":o==="green"?"text-white bg-gradient-to-r from-emerald-400 to-green-400 bg-clip-text text-transparent":"text-white bg-gradient-to-r from-violet-400 to-purple-400 bg-clip-text text-transparent"),children:"Financial Command Center"}),e.jsx("p",{className:"text-secondary-contrast text-sm sm:text-base",children:"Real-time business intelligence at your fingertips"})]}),e.jsx("div",{className:"hidden 2xl:flex flex-shrink-0",children:e.jsxs("div",{className:T("flex items-center gap-2 p-1 rounded-xl backdrop-blur-lg border transition-all duration-300","bg-surface/30 border-border/30",o==="light"&&"shadow-lg border-gray-300/60",o!=="light"&&"shadow-md"),children:[e.jsx("span",{className:"text-xs font-semibold text-muted-contrast px-2",children:"Period:"}),["1M","3M","6M","1Y"].map(h=>e.jsx("button",{onClick:()=>r(h),className:T("relative px-3 py-1.5 text-xs font-semibold rounded-lg transition-all duration-200","min-w-[2.5rem] flex items-center justify-center","hover:scale-105 active:scale-95",s===h?"bg-primary/20 text-primary border border-primary/30 shadow-md":"text-muted-contrast hover:text-primary-contrast hover:bg-surface/40"),children:h},h))]})})]}),e.jsx("div",{className:"2xl:hidden flex justify-end mt-3",children:e.jsxs("div",{className:T("flex items-center gap-2 p-1 rounded-xl backdrop-blur-lg border transition-all duration-300","bg-surface/30 border-border/30",o==="light"&&"shadow-lg border-gray-300/60",o!=="light"&&"shadow-md"),children:[e.jsx("span",{className:"text-xs font-semibold text-muted-contrast px-2 hidden sm:block",children:"Period:"}),["1M","3M","6M","1Y"].map(h=>e.jsx("button",{onClick:()=>r(h),className:T("relative px-3 py-1.5 text-xs font-semibold rounded-lg transition-all duration-200","min-w-[2.5rem] flex items-center justify-center","hover:scale-105 active:scale-95",s===h?"bg-primary/20 text-primary border border-primary/30 shadow-md":"text-muted-contrast hover:text-primary-contrast hover:bg-surface/40"),children:h},h))]})})]}),e.jsxs(k.div,{variants:l,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsx(Tt,{title:"Revenue",value:u.revenue.current,previousValue:u.revenue.previous,trend:u.revenue.trend,change:u.revenue.change??0,icon:ea,color:"revenue",sparkline:u.series?.revenue}),e.jsx(Tt,{title:"Expenses",value:u.expenses.current,previousValue:u.expenses.previous,trend:u.expenses.trend,change:u.expenses.change??0,icon:Ji,color:"expense",sparkline:u.series?.expenses}),e.jsx(Tt,{title:"Net Profit",value:u.profit.current,previousValue:u.profit.previous,trend:u.profit.trend,change:u.profit.change??0,icon:_e,color:"profit",sparkline:u.series?.profit}),e.jsx(Tt,{title:"Cash Flow",value:u.cashFlow.current,previousValue:u.cashFlow.previous,trend:u.cashFlow.trend,change:u.cashFlow.change??0,icon:Bt,color:"primary",sparkline:(()=>{const h=u.series;if(!(!h?.revenue||!h?.expenses))return h.revenue.map((f,g)=>f-(h.expenses[g]||0))})()})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsx(k.div,{variants:l,className:"lg:col-span-2",children:e.jsx(so,{data:u,timeRange:s,activeMetric:"revenue"})}),e.jsx(k.div,{variants:l,children:e.jsx(ro,{healthScore:t,metrics:u})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs(k.div,{variants:l,children:[e.jsx(no,{businessHealth:t,metrics:u}),x.data?.aiInsights&&x.data.aiInsights.length>0&&e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("div",{className:"font-semibold mb-2",children:"AI Insights (Server)"}),e.jsx("ul",{className:"list-disc ml-5 space-y-1",children:x.data.aiInsights.map(h=>e.jsx("li",{className:"text-foreground/80",children:h.message??String(h)},h.id??h.message))})]})]}),e.jsx(k.div,{variants:l,children:e.jsxs(q,{variant:"medium",className:"p-6 h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:e.jsx(Ls,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),e.jsx("p",{className:"text-sm text-secondary-contrast",children:"Latest financial movements"})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsx(te,{children:io.map((h,f)=>e.jsxs(k.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:f*.1},className:"flex items-center justify-between p-3 rounded-lg hover:bg-surface/50 transition-all group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:T("w-2 h-2 rounded-full",h.type==="revenue"?"bg-financial-revenue":"bg-financial-expense")}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium group-hover:text-primary transition-colors",children:h.description}),e.jsx("div",{className:"text-xs text-muted-contrast",children:h.category})]})]}),e.jsxs("div",{className:T("text-sm font-semibold",h.amount>0?"text-financial-revenue":"text-financial-expense"),children:[h.amount>0?"+":"","$",Math.abs(h.amount).toLocaleString()]})]},h.id))})}),e.jsx(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full mt-4 p-2 text-sm text-primary hover:bg-primary/10 rounded-lg transition-all",children:"View All Transactions"})]})})]})]})}const We=[{id:"revenue",position:[0,3,0],size:2.5,color:"#10b981",label:"Revenue",value:125840,type:"income"},{id:"expenses",position:[-4,0,3],size:2.2,color:"#ef4444",label:"Expenses",value:89340,type:"expense"},{id:"profit",position:[4,0,-3],size:1.8,color:"#f59e0b",label:"Profit",value:36500,type:"profit"},{id:"cashflow",position:[0,-3,0],size:1.6,color:"#3b82f6",label:"Cash Flow",value:45200,type:"flow"},{id:"assets",position:[-3,1.5,-1.5],size:2,color:"#8b5cf6",label:"Assets",value:234500,type:"asset"},{id:"liabilities",position:[3,-1.5,1.5],size:1.4,color:"#ec4899",label:"Liabilities",value:45600,type:"liability"},{id:"equity",position:[5,2,-1.5],size:1.5,color:"#22d3ee",label:"Equity",value:188900,type:"equity"}],Pt=[{from:"revenue",to:"profit",strength:.8,type:"flow"},{from:"expenses",to:"profit",strength:-.5,type:"flow"},{from:"profit",to:"cashflow",strength:.9,type:"flow"},{from:"cashflow",to:"assets",strength:.5,type:"flow"},{from:"liabilities",to:"assets",type:"equation"},{from:"equity",to:"assets",type:"equation"}];function oo(){const s=document.createElement("canvas");s.width=128,s.height=128;const r=s.getContext("2d"),a=128/2,n=r.createRadialGradient(a,a,0,a,a,a);n.addColorStop(0,"rgba(255,255,255,0.35)"),n.addColorStop(.6,"rgba(255,255,255,0.1)"),n.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=n,r.beginPath(),r.arc(a,a,a,0,Math.PI*2),r.fill();const o=new Tr(s);return o.needsUpdate=!0,o}const oa=oo();function lo({position:t,size:s,color:r,label:a,value:n,type:o,isSelected:i,onSelect:l,nodeId:u,onHoverChange:m,dimmed:c,editLayout:x=!1,onDragEnd:h,tooltip:f,highContrast:g}){const b=d.useRef(null),y=d.useRef(null),C=d.useRef(null),[R,O]=d.useState(!1),P=d.useRef(null);Ts(w=>{b.current&&(b.current.scale.setScalar(s+Math.sin(w.clock.elapsedTime*2)*.1+(R?.2:0)),b.current.rotation.y+=.01,b.current.rotation.x+=.005),P.current&&(P.current.uniforms.uTime.value=w.clock.elapsedTime)});const M=e.jsxs("group",{ref:y,position:t,children:[e.jsx(Ot,{ref:b,args:[1,64,64],onClick:l,onPointerOver:()=>{O(!0),m?.(u,!0)},onPointerOut:()=>{O(!1),m?.(u,!1)},children:e.jsx("meshPhysicalMaterial",{color:r,transparent:!0,opacity:c?.6:.85,roughness:.2,metalness:.05,clearcoat:.7,clearcoatRoughness:.25,transmission:.35,ior:1.25,thickness:.6,emissive:r,emissiveIntensity:c?.08:i?.35:R?.25:.15})}),e.jsx(Ot,{args:[1.3,32,32],children:e.jsx("meshBasicMaterial",{color:r,transparent:!0,opacity:i?.25:.15,side:ms})}),e.jsx(Ot,{args:[1.6,16,16],children:e.jsx("meshBasicMaterial",{color:r,transparent:!0,opacity:.05,side:ms})}),e.jsx("sprite",{ref:C,scale:[s*1.8,s*1.8,1],children:e.jsx("spriteMaterial",{map:oa,opacity:c?.08:i?.24:R?.2:.14,depthWrite:!1,depthTest:!1,transparent:!0,blending:Ft})}),e.jsxs("mesh",{scale:[1.01,1.01,1.01],children:[e.jsx("sphereGeometry",{args:[1,128,128]}),e.jsx("shaderMaterial",{ref:P,transparent:!0,depthWrite:!1,blending:Ft,uniforms:{uTime:{value:0},uColor:{value:new sn(r)}},vertexShader:`
            varying vec3 vNormal;
            varying vec3 vPos;
            varying vec3 vView;
            void main(){
              vNormal = normalize(normalMatrix * normal);
              vPos = position;
              vec4 mv = modelViewMatrix * vec4(position,1.0);
              vView = -mv.xyz;
              gl_Position = projectionMatrix * mv;
            }
          `,fragmentShader:`
            varying vec3 vNormal;
            varying vec3 vPos;
            uniform float uTime;
            uniform vec3 uColor;
            varying vec3 vView;
            
            float hash(vec2 p){ return fract(sin(dot(p, vec2(127.1,311.7))) * 43758.5453123); }
            float noise(vec2 p){
              vec2 i=floor(p), f=fract(p);
              float a=hash(i), b=hash(i+vec2(1.,0.)), c=hash(i+vec2(0.,1.)), d=hash(i+vec2(1.,1.));
              vec2 u=f*f*(3.-2.*f);
              return mix(a,b,u.x)+ (c-a)*u.y*(1.-u.x) + (d-b)*u.x*u.y;
            }
            
            void main(){
              // Spherical UV from normal
              vec3 n = normalize(vNormal);
              float u = atan(n.z, n.x) / (2.0*3.14159265) + 0.5;
              float v = asin(n.y) / 3.14159265 + 0.5;

              // Curving neon grooves using layered noise + sin stripes
              float stripes = smoothstep(0.01, 0.0, abs(sin((u*6.0 + v*4.0) * 3.14159 + uTime*0.3))*0.08);
              float flow = noise(vec2(u*5.0 + uTime*0.05, v*5.0)) * 0.6;
              float pattern = clamp(stripes + flow*0.6, 0.0, 1.0);
              
              vec3 neon = mix(vec3(0.1,0.3,0.6), vec3(1.0,0.3,0.9), 0.5);
              vec3 col = mix(uColor, neon, 0.6) * pattern;
              float alpha = pattern * 0.25;

              // Fresnel rim light
              vec3 V = normalize(vView);
              float rim = pow(1.0 - max(dot(n, V), 0.0), 2.0);
              col += vec3(0.4, 0.7, 1.0) * rim * 0.25;
              gl_FragColor = vec4(col, alpha);
            }
          `})]}),(()=>{const w=Math.round(12+s*5),S=Math.round(10+s*4);return e.jsxs(rn,{center:!0,sprite:!0,zIndexRange:[100,0],distanceFactor:8,pointerEvents:"none",style:{textAlign:"center",whiteSpace:"nowrap",userSelect:"none"},children:[e.jsx("div",{style:{transform:"translateY(-2px)",color:"white",fontWeight:g?900:700,fontSize:`${w}px`,WebkitTextStroke:g?"0.75px rgba(0,0,0,0.85)":void 0,textShadow:g?"0 0 0 transparent":"0 1px 2px rgba(0,0,0,0.8), 0 0 16px rgba(0,0,0,0.5)"},children:a}),e.jsx("div",{style:{color:"#dbeafe",fontWeight:g?800:600,fontSize:`${S}px`,marginTop:"2px",WebkitTextStroke:g?"0.6px rgba(0,0,0,0.85)":void 0,textShadow:g?"0 0 0 transparent":"0 1px 2px rgba(0,0,0,0.8), 0 0 16px rgba(0,0,0,0.5)"},children:`$${n.toLocaleString()}`}),R&&f&&e.jsxs("div",{style:{marginTop:"2px",padding:"2px 6px",borderRadius:"6px",background:"rgba(0,0,0,0.35)",color:"white",fontSize:"11px",display:"inline-block",backdropFilter:"blur(2px)"},children:[" ",f.percent.toFixed(1),"% • links: ",f.degree," "]})]})})(),Array.from({length:4}).map((w,S)=>e.jsx(co,{radius:2+S*.4,speed:.3+S*.15,color:r,delay:S*1},S))]});return x?e.jsx(an,{mode:"translate",showX:!1,showZ:!1,onMouseUp:()=>y.current&&h?.(u,y.current.position),children:M}):M}function co({radius:t,speed:s,color:r,delay:a}){const n=d.useRef(null);return Ts(o=>{if(n.current){const i=o.clock.elapsedTime*s+a;n.current.position.x=Math.cos(i)*t,n.current.position.z=Math.sin(i)*t,n.current.position.y=Math.sin(i*2)*.2}}),e.jsx(Ot,{ref:n,args:[.08,12,12],children:e.jsx("meshStandardMaterial",{color:r,transparent:!0,opacity:.8,roughness:0,metalness:.5,emissive:r,emissiveIntensity:.3})})}function uo({from:t,to:s,strength:r,type:a="flow",highlight:n=!1,highContrast:o=!1}){const i=d.useRef(null),l=[new Oe(...t),new Oe(...s)],u=new Qs(l),m=o?.05:.035,c=a==="equation"?n?m*1.6:m:(Math.abs(r||.5)*.04+.02)*(o?1.2:1),x=new Gs(u,40,c,12,!1);if(a==="equation"){const h=[];for(let b=0;b<12;b++){if(b%2===1)continue;const y=b/12,C=y+1/12*.55,R=[],O=5;for(let w=0;w<=O;w++){const S=nn.lerp(y,C,w/O);R.push(u.getPoint(S))}const P=new Qs(R),M=new Gs(P,10,c,12,!1);h.push(e.jsx("mesh",{geometry:M,children:e.jsx("meshStandardMaterial",{color:"#a3b2c7",transparent:!0,opacity:n?.65:.5,roughness:.6,metalness:.1,emissive:"#94a3b8",emissiveIntensity:n?.14:.08})},`eq-${b}`))}return e.jsx("group",{children:h})}return e.jsx("mesh",{ref:i,geometry:x,children:e.jsx("meshPhysicalMaterial",{color:(r||0)>0?"#34d399":"#f87171",transparent:!0,opacity:.6,roughness:.1,metalness:.2,clearcoat:.6,clearcoatRoughness:.3,emissive:(r||0)>0?"#10b981":"#ef4444",emissiveIntensity:.15})})}function ho({from:t,to:s,positive:r=!0}){const a=new Oe(...t),n=new Oe(...s),o=new Oe().lerpVectors(a,n,.9),i=r?"#10b981":"#ef4444";return e.jsx("sprite",{position:o,scale:[.5,.5,1],children:e.jsx("spriteMaterial",{map:oa,color:i,opacity:.8,depthWrite:!1,depthTest:!1,transparent:!0,blending:Ft})})}function po({target:t,resetSignal:s}){const{camera:r,gl:a}=Pr(),n=d.useRef(null),o=[11,7,11],i=d.useRef(new Oe(...t)),l=d.useRef(!1),u=d.useRef(null),m=(c=650)=>{let x=0;const h=r.position.clone(),f=new Oe(...o),g=n.current?n.current.target.clone():r.getWorldDirection(new Oe).multiplyScalar(-1),b=i.current.clone(),y=performance.now(),C=()=>{const R=Math.min(1,(performance.now()-y)/c);r.position.lerpVectors(h,f,R),n.current?(n.current.target.lerpVectors(g,b,R),n.current.update()):r.lookAt(b),R<1&&(x=requestAnimationFrame(C))};return x=requestAnimationFrame(C),()=>cancelAnimationFrame(x)};return d.useEffect(()=>{l.current||(l.current=!0,r.position.set(...o),r.lookAt(i.current),n.current&&n.current.update())},[r]),d.useEffect(()=>m(),[s]),d.useEffect(()=>{const c=()=>{u.current&&window.clearTimeout(u.current),u.current=window.setTimeout(()=>m(900),12e3)},x=["pointerdown","wheel","keydown","pointermove"];return x.forEach(h=>window.addEventListener(h,c,{passive:!0})),c(),()=>{u.current&&window.clearTimeout(u.current),x.forEach(h=>window.removeEventListener(h,c))}},[a]),e.jsx(tn,{ref:n,enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:6,maxDistance:30,enableDamping:!0,dampingFactor:.08,rotateSpeed:.6,zoomSpeed:.8})}function dr(){const{scene:t}=Pr(),s=d.useRef(null),r=d.useRef(null),a=d.useRef(null),n=d.useRef(60);return d.useEffect(()=>{const o=new Wa(4210752,.6);t.add(o);const i=new Ja(16777215,1.2);i.position.set(20,20,20),i.castShadow=!0,t.add(i);const l=new At(3900150,2,150);l.position.set(15,15,15),t.add(l);const u=new At(1096065,1.8,150);u.position.set(-15,-15,-15),t.add(u);const m=new At(9133302,1.5,100);m.position.set(0,20,0),t.add(m);const c=new At(16096779,1.2,100);c.position.set(0,-20,0),t.add(c);const x=new Ya,h=420,f=new Float32Array(h*3);for(let C=0;C<h*3;C++)f[C]=(Math.random()-.5)*160;x.setAttribute("position",new Xa(f,3)),a.current=x;const g=()=>{const R=document.createElement("canvas");R.width=64,R.height=64;const O=R.getContext("2d"),P=64/2,M=O.createRadialGradient(P,P,0,P,P,P);M.addColorStop(0,"rgba(255,255,255,1)"),M.addColorStop(.5,"rgba(255,255,255,0.6)"),M.addColorStop(1,"rgba(255,255,255,0)"),O.fillStyle=M,O.beginPath(),O.arc(P,P,P,0,Math.PI*2),O.fill();const w=new Tr(R);return w.needsUpdate=!0,w},b=new Za({color:16777215,size:1.6,map:g(),transparent:!0,alphaTest:.01,blending:Ft,depthWrite:!1,sizeAttenuation:!0});r.current=b;const y=new en(x,b);return s.current=y,t.add(y),()=>{t.remove(o),t.remove(i),t.remove(l),t.remove(u),t.remove(m),t.remove(c),t.remove(y)}},[t]),Ts((o,i)=>{if(s.current&&r.current){s.current.rotation.y+=i*.005;const l=o.clock.elapsedTime;r.current.opacity=.55+.08*Math.sin(l*.5)}if(a.current){const l=1/i;n.current=n.current*.9+l*.1;const u=a.current,m=u.getAttribute("position").count;let c=m;n.current<45&&(c=Math.floor(m*.7)),n.current<35&&(c=Math.floor(m*.5)),n.current<28&&(c=Math.floor(m*.35)),u.setDrawRange(0,c)}}),null}function ur(){const t=d.useRef(null);return e.jsxs("mesh",{scale:[160,160,160],children:[e.jsx("sphereGeometry",{args:[1,64,64]}),e.jsx("shaderMaterial",{ref:t,side:ms,transparent:!0,depthWrite:!1,vertexShader:`
          varying vec3 vPos;
          void main(){
            vPos = position;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);
          }
        `,fragmentShader:`
          varying vec3 vPos;
          void main(){
            float d = length(vPos)/160.0; // 0..1
            float glow = smoothstep(1.0, 0.2, d);
            vec3 col = mix(vec3(0.0,0.5,0.8), vec3(0.02,0.1,0.2), d);
            gl_FragColor = vec4(col, glow*0.18);
          }
        `})]})}function mo(){const[t,s]=d.useState(null),[r,a]=d.useState(!0),[n,o]=d.useState(!0),[i,l]=d.useState(0),[u,m]=d.useState(null),[c,x]=d.useState(()=>{const v=localStorage.getItem("universe_showFlow");return v?v==="1":!0}),[h,f]=d.useState(()=>{const v=localStorage.getItem("universe_showEquation");return v?v==="1":!0}),[g,b]=d.useState(()=>localStorage.getItem("universe_editLayout")==="1"),[y,C]=d.useState(()=>{try{const v=localStorage.getItem("universe_nodePins");return v?JSON.parse(v):{}}catch{return{}}}),[R,O]=d.useState(()=>localStorage.getItem("universe_highContrast")==="1"),[P,M]=d.useState(!1),[w,S]=d.useState(!1),[I,U]=d.useState(()=>localStorage.getItem("universe_helpOpen")==="1"),{currentTheme:L}=ye();d.useEffect(()=>{const v=setTimeout(()=>a(!1),800);return()=>clearTimeout(v)},[]),d.useEffect(()=>{localStorage.setItem("universe_helpOpen",I?"1":"0")},[I]),d.useEffect(()=>{g||localStorage.setItem("universe_nodePins",JSON.stringify(y))},[g]);const B=(v,$)=>{const _=Math.max(-5,Math.min(5,$.y)),Y={...y,[v]:[$.x,_,$.z]};C(Y),localStorage.setItem("universe_nodePins",JSON.stringify(Y))},F=()=>{try{const v=localStorage.getItem("universe_presets");return v?JSON.parse(v):{}}catch{return{}}},ie=v=>localStorage.setItem("universe_presets",JSON.stringify(v)),X=v=>{const $=F(),_=Object.keys(y).length?y:Object.fromEntries(N.map(Y=>[Y.id,Y.position]));$[v]=_,ie($),M(!1)},ne=v=>{const $=F();if(!$[v])return;const _={};Object.entries($[v]).forEach(([Y,Z])=>{_[Y]=[Z[0],Math.max(-5,Math.min(5,Z[1])),Z[2]]}),C(_),localStorage.setItem("universe_nodePins",JSON.stringify(_)),S(!1)},re=7,N=We.map((v,$)=>{const _=$/We.length*Math.PI*2+Math.PI/6,Y=$%2===0?1.2:-1,Z=re+v.size*.3;return{...v,position:[Math.cos(_)*Z,Y,Math.sin(_)*Z]}}),J=d.useMemo(()=>N.map(v=>({...v,position:y[v.id]??v.position})),[JSON.stringify(y)]),E=J.find(v=>v.id===t);return r?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs(q,{variant:"medium",className:"p-6 text-center w-full",children:[e.jsx("div",{className:"h-64 w-full relative",children:e.jsxs(Vs,{className:"absolute inset-0",dpr:[1,2],children:[e.jsx("ambientLight",{intensity:.4}),e.jsx("pointLight",{position:[4,4,4],intensity:1.2}),e.jsx(ur,{}),e.jsx(dr,{})]})}),e.jsx("div",{className:"text-sm text-muted-contrast mt-2",children:"Loading 3D financial space…"})]})}):e.jsxs("div",{className:"h-full space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:e.jsx(js,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:T("text-2xl font-bold",L==="light"?"text-gray-900 bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent":L==="blue"?"text-white bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent":L==="green"?"text-white bg-gradient-to-r from-emerald-400 to-green-400 bg-clip-text text-transparent":"text-white bg-gradient-to-r from-violet-400 to-purple-400 bg-clip-text text-transparent"),children:"Financial Universe"}),e.jsx("p",{className:"text-sm text-muted-contrast",children:"Interactive 3D exploration of your financial ecosystem"})]})]}),e.jsxs("div",{className:"hidden",children:[e.jsx("button",{onClick:()=>l(v=>v+1),className:"px-3 py-1.5 text-sm bg-primary/10 text-primary rounded-md hover:bg-primary/20 transition-colors",children:"Reset View"}),e.jsx("button",{onClick:()=>s(null),className:"px-3 py-1.5 text-sm bg-surface/50 text-foreground rounded-md hover:bg-surface transition-colors",children:"Clear Selection"}),e.jsx("button",{onClick:()=>o(v=>!v),className:"px-3 py-1.5 text-sm bg-surface/50 text-foreground rounded-md hover:bg-surface transition-colors",title:n?"Enter Cinematic Mode":"Exit Cinematic Mode",children:n?"Cinematic Mode":"Exit Cinematic"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 lg:auto-rows-fr gap-6 lg:h-[700px]",children:[e.jsx("div",{className:`${n?"lg:col-span-3":"lg:col-span-4"} h-[420px] sm:h-[520px] lg:h-full min-h-0 flex flex-col`,children:e.jsx(q,{variant:"medium",className:"h-full min-h-0 p-2 flex flex-col",children:e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-2"}),e.jsx("div",{className:"text-sm text-muted-contrast",children:"Loading 3D Scene..."})]})}),children:e.jsxs("div",{className:"relative flex-1 min-h-0 w-full",children:[e.jsxs(Vs,{className:"absolute inset-0",camera:{fov:60},style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)"},dpr:[1,2],performance:{min:.5},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},children:[e.jsx(dr,{}),e.jsx(ur,{}),e.jsx(po,{target:[0,0,0],resetSignal:i}),J.map(v=>{const $=Pt.filter(Z=>Z.from===v.id||Z.to===v.id).length,_=We.reduce((Z,ce)=>Z+ce.value,0),Y=v.value/_*100;return e.jsx(lo,{position:v.position,size:v.size,color:v.color,label:v.label,value:v.value,type:v.type,isSelected:t===v.id,onSelect:()=>s(v.id),nodeId:v.id,onHoverChange:(Z,ce)=>m(ce?Z:null),dimmed:u!==null&&u!==v.id,tooltip:{percent:Y,degree:$},editLayout:g,onDragEnd:B,highContrast:R},v.id)}),Pt.filter(v=>v.type==="equation"?h:c).map((v,$)=>{const _=J.find(Z=>Z.id===v.from),Y=J.find(Z=>Z.id===v.to);return!_||!Y?null:e.jsxs(Mr.Fragment,{children:[e.jsx(uo,{from:_.position,to:Y.position,strength:v.strength,type:v.type,highlight:v.type==="equation"&&(u==="assets"||u==="liabilities"||u==="equity"),highContrast:R}),v.type==="flow"&&e.jsx(ho,{from:_.position,to:Y.position,positive:(v.strength||0)>=0})]},$)})]}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 rounded-xl",style:{background:"radial-gradient(100% 70% at 50% 50%, rgba(0,0,0,0) 60%, rgba(0,0,0,0.18) 100%)"}}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24",style:{background:"linear-gradient(to top, rgba(0,0,0,0.35), rgba(0,0,0,0))"}})]}),e.jsx("div",{className:"absolute top-2 right-2 z-30 pointer-events-auto",children:e.jsx(q,{variant:"light",className:"px-2 py-1 lg:px-3 lg:py-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs lg:text-sm",children:[e.jsxs("button",{className:"px-2 py-1 rounded bg-primary/10 text-primary hover:bg-primary/20 transition-colors flex items-center gap-1",onClick:()=>l(v=>v+1),title:"Reset View",children:[e.jsx(Vi,{className:"w-3 h-3"})," Reset"]}),e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface transition-colors flex items-center gap-1",onClick:()=>s(null),title:"Clear Selection",children:"Clear"}),e.jsx("button",{className:`px-2 py-1 rounded transition-colors flex items-center gap-1 ${c?"bg-primary/10 text-primary hover:bg-primary/20":"bg-surface/60 hover:bg-surface"}`,onClick:()=>{const v=!c;x(v),localStorage.setItem("universe_showFlow",v?"1":"0")},title:"Toggle Flow Links",children:"Flow"}),e.jsx("button",{className:`px-2 py-1 rounded transition-colors flex items-center gap-1 ${h?"bg-primary/10 text-primary hover:bg-primary/20":"bg-surface/60 hover:bg-surface"}`,onClick:()=>{const v=!h;f(v),localStorage.setItem("universe_showEquation",v?"1":"0")},title:"Toggle Equation Links",children:"Equation"}),e.jsx("button",{className:`px-2 py-1 rounded transition-colors flex items-center gap-1 ${g?"bg-primary/10 text-primary hover:bg-primary/20":"bg-surface/60 hover:bg-surface"}`,onClick:()=>{const v=!g;b(v),localStorage.setItem("universe_editLayout",v?"1":"0")},title:"Toggle Edit Layout",children:"Edit"}),e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface transition-colors flex items-center gap-1",onClick:()=>{localStorage.setItem("universe_nodePins",JSON.stringify(y))},title:"Pin Positions",children:"Pin"}),e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface transition-colors flex items-center gap-1",onClick:()=>{localStorage.removeItem("universe_nodePins"),C({})},title:"Reset Layout",children:"Reset Layout"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface transition-colors",onClick:()=>{M(v=>!v),S(!1)},title:"Save Preset",children:"Save"}),P&&e.jsx("div",{className:"absolute right-0 mt-1 pointer-events-auto",children:e.jsx(q,{variant:"light",className:"px-2 py-1",children:e.jsx("div",{className:"text-xs space-y-1",children:["Default","Ops Focus","Balance Focus"].map(v=>e.jsx("button",{className:"block w-full text-left px-2 py-1 rounded hover:bg-surface/80",onClick:()=>X(v),children:v},v))})})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface transition-colors",onClick:()=>{S(v=>!v),M(!1)},title:"Load Preset",children:"Load"}),w&&e.jsx("div",{className:"absolute right-0 mt-1 pointer-events-auto",children:e.jsx(q,{variant:"light",className:"px-2 py-1",children:e.jsx("div",{className:"text-xs space-y-1",children:["Default","Ops Focus","Balance Focus"].map(v=>e.jsx("button",{className:"block w-full text-left px-2 py-1 rounded hover:bg-surface/80",onClick:()=>ne(v),children:v},v))})})})]}),e.jsx("button",{className:`px-2 py-1 rounded transition-colors flex items-center gap-1 ${R?"bg-primary/10 text-primary hover:bg-primary/20":"bg-surface/60 hover:bg-surface"}`,onClick:()=>{const v=!R;O(v),localStorage.setItem("universe_highContrast",v?"1":"0")},title:"Toggle High Contrast Labels",children:"Contrast"})]})})}),e.jsx("div",{className:"absolute bottom-2 right-2 z-20 pointer-events-none",children:e.jsx(q,{variant:"light",className:"px-3 py-2",children:e.jsxs("div",{className:"text-xs text-foreground/80",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"inline-block w-3 h-1 rounded-full bg-emerald-400"})," Flow"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-3 h-1 rounded-full bg-slate-400"})," Equation"]})]})})}),e.jsx("div",{className:"absolute top-16 right-2 z-30 pointer-events-auto",onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),children:e.jsxs(q,{variant:"light",className:"px-2 py-1",children:[e.jsx("div",{className:"flex items-center gap-3 text-xs",children:e.jsxs("button",{className:"flex items-center gap-2",title:"Help",children:[e.jsx("span",{className:"w-5 h-5 rounded-full bg-primary/20 text-primary flex items-center justify-center font-bold",children:"?"}),e.jsx("span",{className:"text-foreground/80",children:"Help"})]})}),I&&e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"text-xs leading-relaxed max-w-[340px] p-3 rounded-md bg-background/90 text-foreground shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-1 rounded-full bg-emerald-400"}),e.jsx("span",{className:"text-foreground/80",children:"Flow = operational relationship"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-1 rounded-full bg-slate-400"}),e.jsx("span",{className:"text-foreground/80",children:"Equation = structural balance (Assets = Liabilities + Equity)"})]}),e.jsxs("ul",{className:"list-disc ml-4 space-y-1 text-foreground/70",children:[e.jsx("li",{children:"Use Flow/Equation toggles to show/hide layers"}),e.jsx("li",{children:"Hover dims unrelated nodes; balance links highlight on A/L/E"}),e.jsx("li",{children:"Reset recenters; idle timeout recenters after a few seconds"}),e.jsx("li",{children:"Edit enables drag (Y-axis only); Pin saves positions; Reset Layout clears pins"}),e.jsx("li",{children:"Save/Load presets to switch layouts (Default, Ops Focus, Balance Focus)"}),e.jsx("li",{children:"Use Contrast for thicker outlines and labels"})]})]})})]})}),g&&e.jsx("div",{className:"absolute top-16 left-2 z-30 pointer-events-none",children:e.jsx(q,{variant:"light",className:"px-3 py-2",children:e.jsx("div",{className:"text-xs text-foreground/80",children:"Drag nodes vertically to arrange • Click Pin to save • Reset Layout to clear"})})}),!n&&E&&e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 z-30 pointer-events-auto",children:e.jsxs(q,{variant:"light",className:"px-4 py-3 min-w-[220px]",children:[e.jsx("div",{className:"text-sm font-semibold mb-1",children:E.label}),e.jsxs("div",{className:"text-xs text-foreground/80 mb-2",children:["$",E.value.toLocaleString()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-2 py-1 text-xs rounded bg-primary/10 text-primary hover:bg-primary/20",children:"View Transactions"}),e.jsx("button",{className:"px-2 py-1 text-xs rounded bg-surface/60 hover:bg-surface",onClick:()=>s(null),children:"Close"})]})]})})]})})})}),n&&e.jsxs("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto lg:max-h-none lg:overflow-visible",children:[E?e.jsx(q,{variant:"medium",className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:E.color}}),e.jsx("h3",{className:"font-semibold",children:E.label})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",E.value.toLocaleString()]}),e.jsxs("div",{className:"text-sm text-muted-contrast capitalize",children:["Type: ",E.type]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Connected To:"}),Pt.filter(v=>v.from===E.id||v.to===E.id).map((v,$)=>{const _=v.from===E.id?v.to:v.from,Y=We.find(Z=>Z.id===_);return Y?e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:Y.label}),e.jsxs("span",{className:(v.strength??0)>0?"text-green-400":"text-red-400",children:[Math.abs((v.strength??0)*100).toFixed(0),"%"]})]},$):null})]})]})}):e.jsxs(q,{variant:"light",className:"p-4 text-center",children:[e.jsx(js,{className:"w-8 h-8 mx-auto mb-2 text-muted-contrast"}),e.jsx("p",{className:"text-sm text-muted-contrast",children:"Click on a node to explore its connections and details"})]}),e.jsxs(q,{variant:"light",className:"p-4",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(_e,{className:"w-4 h-4"}),"Universe Stats"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Nodes:"}),e.jsx("span",{children:We.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Connections:"}),e.jsx("span",{children:Pt.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Value:"}),e.jsxs("span",{children:["$",We.reduce((v,$)=>v+$.value,0).toLocaleString()]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full p-2 bg-primary text-primary-foreground rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-2",children:[e.jsx(et,{className:"w-4 h-4"}),"Add Transaction"]}),e.jsxs(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full p-2 bg-surface text-foreground rounded-lg text-sm font-medium hover:bg-surface/80 transition-colors flex items-center justify-center gap-2",children:[e.jsx(ea,{className:"w-4 h-4"}),"View Reports"]})]})]})]})]})}const De=({children:t})=>{const s=d.useMemo(()=>{const r=document.createElement("div");return r.setAttribute("data-modal-root",""),r},[]);return d.useEffect(()=>(document.body.appendChild(s),()=>{try{document.body.removeChild(s)}catch{}}),[s]),ln.createPortal(t,s)};function la(t,s){return function(){return t.apply(s,arguments)}}const{toString:fo}=Object.prototype,{getPrototypeOf:Fs}=Object,{iterator:Vt,toStringTag:ca}=Symbol,Qt=(t=>s=>{const r=fo.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ne=t=>(t=t.toLowerCase(),s=>Qt(s)===t),Gt=t=>s=>typeof s===t,{isArray:tt}=Array,pt=Gt("undefined");function ft(t){return t!==null&&!pt(t)&&t.constructor!==null&&!pt(t.constructor)&&me(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const da=Ne("ArrayBuffer");function xo(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&da(t.buffer),s}const go=Gt("string"),me=Gt("function"),ua=Gt("number"),xt=t=>t!==null&&typeof t=="object",bo=t=>t===!0||t===!1,It=t=>{if(Qt(t)!=="object")return!1;const s=Fs(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(ca in t)&&!(Vt in t)},yo=t=>{if(!xt(t)||ft(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},vo=Ne("Date"),wo=Ne("File"),jo=Ne("Blob"),No=Ne("FileList"),So=t=>xt(t)&&me(t.pipe),Co=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||me(t.append)&&((s=Qt(t))==="formdata"||s==="object"&&me(t.toString)&&t.toString()==="[object FormData]"))},ko=Ne("URLSearchParams"),[Eo,Ao,Ro,To]=["ReadableStream","Request","Response","Headers"].map(Ne),Po=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gt(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),tt(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{if(ft(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let l;for(a=0;a<i;a++)l=o[a],s.call(null,t[l],l,t)}}function ha(t,s){if(ft(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Ue=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pa=t=>!pt(t)&&t!==Ue;function Ss(){const{caseless:t}=pa(this)&&this||{},s={},r=(a,n)=>{const o=t&&ha(s,n)||n;It(s[o])&&It(a)?s[o]=Ss(s[o],a):It(a)?s[o]=Ss({},a):tt(a)?s[o]=a.slice():s[o]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&gt(arguments[a],r);return s}const Mo=(t,s,r,{allOwnKeys:a}={})=>(gt(s,(n,o)=>{r&&me(n)?t[o]=la(n,r):t[o]=n},{allOwnKeys:a}),t),Oo=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Io=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},Do=(t,s,r,a)=>{let n,o,i;const l={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),o=n.length;o-- >0;)i=n[o],(!a||a(i,t,s))&&!l[i]&&(s[i]=t[i],l[i]=!0);t=r!==!1&&Fs(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},Lo=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},Fo=t=>{if(!t)return null;if(tt(t))return t;let s=t.length;if(!ua(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},zo=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Fs(Uint8Array)),Uo=(t,s)=>{const a=(t&&t[Vt]).call(t);let n;for(;(n=a.next())&&!n.done;){const o=n.value;s.call(t,o[0],o[1])}},qo=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},$o=Ne("HTMLFormElement"),_o=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),hr=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),Bo=Ne("RegExp"),ma=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};gt(r,(n,o)=>{let i;(i=s(n,o,t))!==!1&&(a[o]=i||n)}),Object.defineProperties(t,a)},Ho=t=>{ma(t,(s,r)=>{if(me(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(me(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Vo=(t,s)=>{const r={},a=n=>{n.forEach(o=>{r[o]=!0})};return tt(t)?a(t):a(String(t).split(s)),r},Qo=()=>{},Go=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Ko(t){return!!(t&&me(t.append)&&t[ca]==="FormData"&&t[Vt])}const Wo=t=>{const s=new Array(10),r=(a,n)=>{if(xt(a)){if(s.indexOf(a)>=0)return;if(ft(a))return a;if(!("toJSON"in a)){s[n]=a;const o=tt(a)?[]:{};return gt(a,(i,l)=>{const u=r(i,n+1);!pt(u)&&(o[l]=u)}),s[n]=void 0,o}}return a};return r(t,0)},Jo=Ne("AsyncFunction"),Yo=t=>t&&(xt(t)||me(t))&&me(t.then)&&me(t.catch),fa=((t,s)=>t?setImmediate:s?((r,a)=>(Ue.addEventListener("message",({source:n,data:o})=>{n===Ue&&o===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Ue.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",me(Ue.postMessage)),Xo=typeof queueMicrotask<"u"?queueMicrotask.bind(Ue):typeof process<"u"&&process.nextTick||fa,Zo=t=>t!=null&&me(t[Vt]),j={isArray:tt,isArrayBuffer:da,isBuffer:ft,isFormData:Co,isArrayBufferView:xo,isString:go,isNumber:ua,isBoolean:bo,isObject:xt,isPlainObject:It,isEmptyObject:yo,isReadableStream:Eo,isRequest:Ao,isResponse:Ro,isHeaders:To,isUndefined:pt,isDate:vo,isFile:wo,isBlob:jo,isRegExp:Bo,isFunction:me,isStream:So,isURLSearchParams:ko,isTypedArray:zo,isFileList:No,forEach:gt,merge:Ss,extend:Mo,trim:Po,stripBOM:Oo,inherits:Io,toFlatObject:Do,kindOf:Qt,kindOfTest:Ne,endsWith:Lo,toArray:Fo,forEachEntry:Uo,matchAll:qo,isHTMLForm:$o,hasOwnProperty:hr,hasOwnProp:hr,reduceDescriptors:ma,freezeMethods:Ho,toObjectSet:Vo,toCamelCase:_o,noop:Qo,toFiniteNumber:Go,findKey:ha,global:Ue,isContextDefined:pa,isSpecCompliantForm:Ko,toJSONObject:Wo,isAsyncFn:Jo,isThenable:Yo,setImmediate:fa,asap:Xo,isIterable:Zo};function Q(t,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}j.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const xa=Q.prototype,ga={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ga[t]={value:t}});Object.defineProperties(Q,ga);Object.defineProperty(xa,"isAxiosError",{value:!0});Q.from=(t,s,r,a,n,o)=>{const i=Object.create(xa);return j.toFlatObject(t,i,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Q.call(i,t.message,s,r,a,n),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const el=null;function Cs(t){return j.isPlainObject(t)||j.isArray(t)}function ba(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function pr(t,s,r){return t?t.concat(s).map(function(n,o){return n=ba(n),!r&&o?"["+n+"]":n}).join(r?".":""):s}function tl(t){return j.isArray(t)&&!t.some(Cs)}const sl=j.toFlatObject(j,{},null,function(s){return/^is[A-Z]/.test(s)});function Kt(t,s,r){if(!j.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=j.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!j.isUndefined(y[b])});const a=r.metaTokens,n=r.visitor||c,o=r.dots,i=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(s);if(!j.isFunction(n))throw new TypeError("visitor must be a function");function m(g){if(g===null)return"";if(j.isDate(g))return g.toISOString();if(j.isBoolean(g))return g.toString();if(!u&&j.isBlob(g))throw new Q("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(g)||j.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,b,y){let C=g;if(g&&!y&&typeof g=="object"){if(j.endsWith(b,"{}"))b=a?b:b.slice(0,-2),g=JSON.stringify(g);else if(j.isArray(g)&&tl(g)||(j.isFileList(g)||j.endsWith(b,"[]"))&&(C=j.toArray(g)))return b=ba(b),C.forEach(function(O,P){!(j.isUndefined(O)||O===null)&&s.append(i===!0?pr([b],P,o):i===null?b:b+"[]",m(O))}),!1}return Cs(g)?!0:(s.append(pr(y,b,o),m(g)),!1)}const x=[],h=Object.assign(sl,{defaultVisitor:c,convertValue:m,isVisitable:Cs});function f(g,b){if(!j.isUndefined(g)){if(x.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));x.push(g),j.forEach(g,function(C,R){(!(j.isUndefined(C)||C===null)&&n.call(s,C,j.isString(R)?R.trim():R,b,h))===!0&&f(C,b?b.concat(R):[R])}),x.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return f(t),s}function mr(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function zs(t,s){this._pairs=[],t&&Kt(t,this,s)}const ya=zs.prototype;ya.append=function(s,r){this._pairs.push([s,r])};ya.toString=function(s){const r=s?function(a){return s.call(this,a,mr)}:mr;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function rl(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function va(t,s,r){if(!s)return t;const a=r&&r.encode||rl;j.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let o;if(n?o=n(s,r):o=j.isURLSearchParams(s)?s.toString():new zs(s,r).toString(a),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class fr{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){j.forEach(this.handlers,function(a){a!==null&&s(a)})}}const wa={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},al=typeof URLSearchParams<"u"?URLSearchParams:zs,nl=typeof FormData<"u"?FormData:null,il=typeof Blob<"u"?Blob:null,ol={isBrowser:!0,classes:{URLSearchParams:al,FormData:nl,Blob:il},protocols:["http","https","file","blob","url","data"]},Us=typeof window<"u"&&typeof document<"u",ks=typeof navigator=="object"&&navigator||void 0,ll=Us&&(!ks||["ReactNative","NativeScript","NS"].indexOf(ks.product)<0),cl=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dl=Us&&window.location.href||"http://localhost",ul=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Us,hasStandardBrowserEnv:ll,hasStandardBrowserWebWorkerEnv:cl,navigator:ks,origin:dl},Symbol.toStringTag,{value:"Module"})),he={...ul,...ol};function hl(t,s){return Kt(t,new he.classes.URLSearchParams,{visitor:function(r,a,n,o){return he.isNode&&j.isBuffer(r)?(this.append(a,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function pl(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function ml(t){const s={},r=Object.keys(t);let a;const n=r.length;let o;for(a=0;a<n;a++)o=r[a],s[o]=t[o];return s}function ja(t){function s(r,a,n,o){let i=r[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),u=o>=r.length;return i=!i&&j.isArray(n)?n.length:i,u?(j.hasOwnProp(n,i)?n[i]=[n[i],a]:n[i]=a,!l):((!n[i]||!j.isObject(n[i]))&&(n[i]=[]),s(r,a,n[i],o)&&j.isArray(n[i])&&(n[i]=ml(n[i])),!l)}if(j.isFormData(t)&&j.isFunction(t.entries)){const r={};return j.forEachEntry(t,(a,n)=>{s(pl(a),n,r,0)}),r}return null}function fl(t,s,r){if(j.isString(t))try{return(s||JSON.parse)(t),j.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const bt={transitional:wa,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,o=j.isObject(s);if(o&&j.isHTMLForm(s)&&(s=new FormData(s)),j.isFormData(s))return n?JSON.stringify(ja(s)):s;if(j.isArrayBuffer(s)||j.isBuffer(s)||j.isStream(s)||j.isFile(s)||j.isBlob(s)||j.isReadableStream(s))return s;if(j.isArrayBufferView(s))return s.buffer;if(j.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return hl(s,this.formSerializer).toString();if((l=j.isFileList(s))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Kt(l?{"files[]":s}:s,u&&new u,this.formSerializer)}}return o||n?(r.setContentType("application/json",!1),fl(s)):s}],transformResponse:[function(s){const r=this.transitional||bt.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(j.isResponse(s)||j.isReadableStream(s))return s;if(s&&j.isString(s)&&(a&&!this.responseType||n)){const i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(l){if(i)throw l.name==="SyntaxError"?Q.from(l,Q.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:he.classes.FormData,Blob:he.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{bt.headers[t]={}});const xl=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gl=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),a=i.substring(n+1).trim(),!(!r||s[r]&&xl[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},xr=Symbol("internals");function ot(t){return t&&String(t).trim().toLowerCase()}function Dt(t){return t===!1||t==null?t:j.isArray(t)?t.map(Dt):String(t)}function bl(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const yl=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function cs(t,s,r,a,n){if(j.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!j.isString(s)){if(j.isString(a))return s.indexOf(a)!==-1;if(j.isRegExp(a))return a.test(s)}}function vl(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function wl(t,s){const r=j.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,o,i){return this[a].call(this,s,n,o,i)},configurable:!0})})}let fe=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function o(l,u,m){const c=ot(u);if(!c)throw new Error("header name must be a non-empty string");const x=j.findKey(n,c);(!x||n[x]===void 0||m===!0||m===void 0&&n[x]!==!1)&&(n[x||u]=Dt(l))}const i=(l,u)=>j.forEach(l,(m,c)=>o(m,c,u));if(j.isPlainObject(s)||s instanceof this.constructor)i(s,r);else if(j.isString(s)&&(s=s.trim())&&!yl(s))i(gl(s),r);else if(j.isObject(s)&&j.isIterable(s)){let l={},u,m;for(const c of s){if(!j.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[m=c[0]]=(u=l[m])?j.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}i(l,r)}else s!=null&&o(r,s,a);return this}get(s,r){if(s=ot(s),s){const a=j.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return bl(n);if(j.isFunction(r))return r.call(this,n,a);if(j.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=ot(s),s){const a=j.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||cs(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function o(i){if(i=ot(i),i){const l=j.findKey(a,i);l&&(!r||cs(a,a[l],l,r))&&(delete a[l],n=!0)}}return j.isArray(s)?s.forEach(o):o(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const o=r[a];(!s||cs(this,this[o],o,s,!0))&&(delete this[o],n=!0)}return n}normalize(s){const r=this,a={};return j.forEach(this,(n,o)=>{const i=j.findKey(a,o);if(i){r[i]=Dt(n),delete r[o];return}const l=s?vl(o):String(o).trim();l!==o&&delete r[o],r[l]=Dt(n),a[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return j.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&j.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[xr]=this[xr]={accessors:{}}).accessors,n=this.prototype;function o(i){const l=ot(i);a[l]||(wl(n,i),a[l]=!0)}return j.isArray(s)?s.forEach(o):o(s),this}};fe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(fe.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});j.freezeMethods(fe);function ds(t,s){const r=this||bt,a=s||r,n=fe.from(a.headers);let o=a.data;return j.forEach(t,function(l){o=l.call(r,o,n.normalize(),s?s.status:void 0)}),n.normalize(),o}function Na(t){return!!(t&&t.__CANCEL__)}function st(t,s,r){Q.call(this,t??"canceled",Q.ERR_CANCELED,s,r),this.name="CanceledError"}j.inherits(st,Q,{__CANCEL__:!0});function Sa(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new Q("Request failed with status code "+r.status,[Q.ERR_BAD_REQUEST,Q.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function jl(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Nl(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,o=0,i;return s=s!==void 0?s:1e3,function(u){const m=Date.now(),c=a[o];i||(i=m),r[n]=u,a[n]=m;let x=o,h=0;for(;x!==n;)h+=r[x++],x=x%t;if(n=(n+1)%t,n===o&&(o=(o+1)%t),m-i<s)return;const f=c&&m-c;return f?Math.round(h*1e3/f):void 0}}function Sl(t,s){let r=0,a=1e3/s,n,o;const i=(m,c=Date.now())=>{r=c,n=null,o&&(clearTimeout(o),o=null),t(...m)};return[(...m)=>{const c=Date.now(),x=c-r;x>=a?i(m,c):(n=m,o||(o=setTimeout(()=>{o=null,i(n)},a-x)))},()=>n&&i(n)]}const qt=(t,s,r=3)=>{let a=0;const n=Nl(50,250);return Sl(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,u=i-a,m=n(u),c=i<=l;a=i;const x={loaded:i,total:l,progress:l?i/l:void 0,bytes:u,rate:m||void 0,estimated:m&&l&&c?(l-i)/m:void 0,event:o,lengthComputable:l!=null,[s?"download":"upload"]:!0};t(x)},r)},gr=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},br=t=>(...s)=>j.asap(()=>t(...s)),Cl=he.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,he.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(he.origin),he.navigator&&/(msie|trident)/i.test(he.navigator.userAgent)):()=>!0,kl=he.hasStandardBrowserEnv?{write(t,s,r,a,n,o){const i=[t+"="+encodeURIComponent(s)];j.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),j.isString(a)&&i.push("path="+a),j.isString(n)&&i.push("domain="+n),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function El(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Al(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Ca(t,s,r){let a=!El(s);return t&&(a||r==!1)?Al(t,s):s}const yr=t=>t instanceof fe?{...t}:t;function Be(t,s){s=s||{};const r={};function a(m,c,x,h){return j.isPlainObject(m)&&j.isPlainObject(c)?j.merge.call({caseless:h},m,c):j.isPlainObject(c)?j.merge({},c):j.isArray(c)?c.slice():c}function n(m,c,x,h){if(j.isUndefined(c)){if(!j.isUndefined(m))return a(void 0,m,x,h)}else return a(m,c,x,h)}function o(m,c){if(!j.isUndefined(c))return a(void 0,c)}function i(m,c){if(j.isUndefined(c)){if(!j.isUndefined(m))return a(void 0,m)}else return a(void 0,c)}function l(m,c,x){if(x in s)return a(m,c);if(x in t)return a(void 0,m)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(m,c,x)=>n(yr(m),yr(c),x,!0)};return j.forEach(Object.keys({...t,...s}),function(c){const x=u[c]||n,h=x(t[c],s[c],c);j.isUndefined(h)&&x!==l||(r[c]=h)}),r}const ka=t=>{const s=Be({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:l}=s;s.headers=i=fe.from(i),s.url=va(Ca(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(j.isFormData(r)){if(he.hasStandardBrowserEnv||he.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[m,...c]=u?u.split(";").map(x=>x.trim()).filter(Boolean):[];i.setContentType([m||"multipart/form-data",...c].join("; "))}}if(he.hasStandardBrowserEnv&&(a&&j.isFunction(a)&&(a=a(s)),a||a!==!1&&Cl(s.url))){const m=n&&o&&kl.read(o);m&&i.set(n,m)}return s},Rl=typeof XMLHttpRequest<"u",Tl=Rl&&function(t){return new Promise(function(r,a){const n=ka(t);let o=n.data;const i=fe.from(n.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:m}=n,c,x,h,f,g;function b(){f&&f(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let y=new XMLHttpRequest;y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout;function C(){if(!y)return;const O=fe.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),M={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:O,config:t,request:y};Sa(function(S){r(S),b()},function(S){a(S),b()},M),y=null}"onloadend"in y?y.onloadend=C:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(C)},y.onabort=function(){y&&(a(new Q("Request aborted",Q.ECONNABORTED,t,y)),y=null)},y.onerror=function(){a(new Q("Network Error",Q.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let P=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const M=n.transitional||wa;n.timeoutErrorMessage&&(P=n.timeoutErrorMessage),a(new Q(P,M.clarifyTimeoutError?Q.ETIMEDOUT:Q.ECONNABORTED,t,y)),y=null},o===void 0&&i.setContentType(null),"setRequestHeader"in y&&j.forEach(i.toJSON(),function(P,M){y.setRequestHeader(M,P)}),j.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),l&&l!=="json"&&(y.responseType=n.responseType),m&&([h,g]=qt(m,!0),y.addEventListener("progress",h)),u&&y.upload&&([x,f]=qt(u),y.upload.addEventListener("progress",x),y.upload.addEventListener("loadend",f)),(n.cancelToken||n.signal)&&(c=O=>{y&&(a(!O||O.type?new st(null,t,y):O),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const R=jl(n.url);if(R&&he.protocols.indexOf(R)===-1){a(new Q("Unsupported protocol "+R+":",Q.ERR_BAD_REQUEST,t));return}y.send(o||null)})},Pl=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const o=function(m){if(!n){n=!0,l();const c=m instanceof Error?m:this.reason;a.abort(c instanceof Q?c:new st(c instanceof Error?c.message:c))}};let i=s&&setTimeout(()=>{i=null,o(new Q(`timeout ${s} of ms exceeded`,Q.ETIMEDOUT))},s);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:u}=a;return u.unsubscribe=()=>j.asap(l),u}},Ml=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},Ol=async function*(t,s){for await(const r of Il(t))yield*Ml(r,s)},Il=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},vr=(t,s,r,a)=>{const n=Ol(t,s);let o=0,i,l=u=>{i||(i=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:m,value:c}=await n.next();if(m){l(),u.close();return}let x=c.byteLength;if(r){let h=o+=x;r(h)}u.enqueue(new Uint8Array(c))}catch(m){throw l(m),m}},cancel(u){return l(u),n.return()}},{highWaterMark:2})},Wt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ea=Wt&&typeof ReadableStream=="function",Dl=Wt&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Aa=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Ll=Ea&&Aa(()=>{let t=!1;const s=new Request(he.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),wr=64*1024,Es=Ea&&Aa(()=>j.isReadableStream(new Response("").body)),$t={stream:Es&&(t=>t.body)};Wt&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!$t[s]&&($t[s]=j.isFunction(t[s])?r=>r[s]():(r,a)=>{throw new Q(`Response type '${s}' is not supported`,Q.ERR_NOT_SUPPORT,a)})})})(new Response);const Fl=async t=>{if(t==null)return 0;if(j.isBlob(t))return t.size;if(j.isSpecCompliantForm(t))return(await new Request(he.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(j.isArrayBufferView(t)||j.isArrayBuffer(t))return t.byteLength;if(j.isURLSearchParams(t)&&(t=t+""),j.isString(t))return(await Dl(t)).byteLength},zl=async(t,s)=>{const r=j.toFiniteNumber(t.getContentLength());return r??Fl(s)},Ul=Wt&&(async t=>{let{url:s,method:r,data:a,signal:n,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:u,responseType:m,headers:c,withCredentials:x="same-origin",fetchOptions:h}=ka(t);m=m?(m+"").toLowerCase():"text";let f=Pl([n,o&&o.toAbortSignal()],i),g;const b=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let y;try{if(u&&Ll&&r!=="get"&&r!=="head"&&(y=await zl(c,a))!==0){let M=new Request(s,{method:"POST",body:a,duplex:"half"}),w;if(j.isFormData(a)&&(w=M.headers.get("content-type"))&&c.setContentType(w),M.body){const[S,I]=gr(y,qt(br(u)));a=vr(M.body,wr,S,I)}}j.isString(x)||(x=x?"include":"omit");const C="credentials"in Request.prototype;g=new Request(s,{...h,signal:f,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:a,duplex:"half",credentials:C?x:void 0});let R=await fetch(g,h);const O=Es&&(m==="stream"||m==="response");if(Es&&(l||O&&b)){const M={};["status","statusText","headers"].forEach(U=>{M[U]=R[U]});const w=j.toFiniteNumber(R.headers.get("content-length")),[S,I]=l&&gr(w,qt(br(l),!0))||[];R=new Response(vr(R.body,wr,S,()=>{I&&I(),b&&b()}),M)}m=m||"text";let P=await $t[j.findKey($t,m)||"text"](R,t);return!O&&b&&b(),await new Promise((M,w)=>{Sa(M,w,{data:P,headers:fe.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:g})})}catch(C){throw b&&b(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Q("Network Error",Q.ERR_NETWORK,t,g),{cause:C.cause||C}):Q.from(C,C&&C.code,t,g)}}),As={http:el,xhr:Tl,fetch:Ul};j.forEach(As,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const jr=t=>`- ${t}`,ql=t=>j.isFunction(t)||t===null||t===!1,Ra={getAdapter:t=>{t=j.isArray(t)?t:[t];const{length:s}=t;let r,a;const n={};for(let o=0;o<s;o++){r=t[o];let i;if(a=r,!ql(r)&&(a=As[(i=String(r)).toLowerCase()],a===void 0))throw new Q(`Unknown adapter '${i}'`);if(a)break;n[i||"#"+o]=a}if(!a){const o=Object.entries(n).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=s?o.length>1?`since :
`+o.map(jr).join(`
`):" "+jr(o[0]):"as no adapter specified";throw new Q("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return a},adapters:As};function us(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new st(null,t)}function Nr(t){return us(t),t.headers=fe.from(t.headers),t.data=ds.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ra.getAdapter(t.adapter||bt.adapter)(t).then(function(a){return us(t),a.data=ds.call(t,t.transformResponse,a),a.headers=fe.from(a.headers),a},function(a){return Na(a)||(us(t),a&&a.response&&(a.response.data=ds.call(t,t.transformResponse,a.response),a.response.headers=fe.from(a.response.headers))),Promise.reject(a)})}const Ta="1.11.0",Jt={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Jt[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const Sr={};Jt.transitional=function(s,r,a){function n(o,i){return"[Axios v"+Ta+"] Transitional option '"+o+"'"+i+(a?". "+a:"")}return(o,i,l)=>{if(s===!1)throw new Q(n(i," has been removed"+(r?" in "+r:"")),Q.ERR_DEPRECATED);return r&&!Sr[i]&&(Sr[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(o,i,l):!0}};Jt.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function $l(t,s,r){if(typeof t!="object")throw new Q("options must be an object",Q.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const o=a[n],i=s[o];if(i){const l=t[o],u=l===void 0||i(l,o,t);if(u!==!0)throw new Q("option "+o+" must be "+u,Q.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Q("Unknown option "+o,Q.ERR_BAD_OPTION)}}const Lt={assertOptions:$l,validators:Jt},Se=Lt.validators;let qe=class{constructor(s){this.defaults=s||{},this.interceptors={request:new fr,response:new fr}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Be(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:o}=r;a!==void 0&&Lt.assertOptions(a,{silentJSONParsing:Se.transitional(Se.boolean),forcedJSONParsing:Se.transitional(Se.boolean),clarifyTimeoutError:Se.transitional(Se.boolean)},!1),n!=null&&(j.isFunction(n)?r.paramsSerializer={serialize:n}:Lt.assertOptions(n,{encode:Se.function,serialize:Se.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Lt.assertOptions(r,{baseUrl:Se.spelling("baseURL"),withXsrfToken:Se.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&j.merge(o.common,o[r.method]);o&&j.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),r.headers=fe.concat(i,o);const l=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(u=u&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const m=[];this.interceptors.response.forEach(function(b){m.push(b.fulfilled,b.rejected)});let c,x=0,h;if(!u){const g=[Nr.bind(this),void 0];for(g.unshift(...l),g.push(...m),h=g.length,c=Promise.resolve(r);x<h;)c=c.then(g[x++],g[x++]);return c}h=l.length;let f=r;for(x=0;x<h;){const g=l[x++],b=l[x++];try{f=g(f)}catch(y){b.call(this,y);break}}try{c=Nr.call(this,f)}catch(g){return Promise.reject(g)}for(x=0,h=m.length;x<h;)c=c.then(m[x++],m[x++]);return c}getUri(s){s=Be(this.defaults,s);const r=Ca(s.baseURL,s.url,s.allowAbsoluteUrls);return va(r,s.params,s.paramsSerializer)}};j.forEach(["delete","get","head","options"],function(s){qe.prototype[s]=function(r,a){return this.request(Be(a||{},{method:s,url:r,data:(a||{}).data}))}});j.forEach(["post","put","patch"],function(s){function r(a){return function(o,i,l){return this.request(Be(l||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}qe.prototype[s]=r(),qe.prototype[s+"Form"]=r(!0)});let _l=class Pa{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const a=this;this.promise.then(n=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](n);a._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(l=>{a.subscribe(l),o=l}).then(n);return i.cancel=function(){a.unsubscribe(o)},i},s(function(o,i,l){a.reason||(a.reason=new st(o,i,l),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Pa(function(n){s=n}),cancel:s}}};function Bl(t){return function(r){return t.apply(null,r)}}function Hl(t){return j.isObject(t)&&t.isAxiosError===!0}const Rs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rs).forEach(([t,s])=>{Rs[s]=t});function Ma(t){const s=new qe(t),r=la(qe.prototype.request,s);return j.extend(r,qe.prototype,s,{allOwnKeys:!0}),j.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return Ma(Be(t,n))},r}const le=Ma(bt);le.Axios=qe;le.CanceledError=st;le.CancelToken=_l;le.isCancel=Na;le.VERSION=Ta;le.toFormData=Kt;le.AxiosError=Q;le.Cancel=le.CanceledError;le.all=function(s){return Promise.all(s)};le.spread=Bl;le.isAxiosError=Hl;le.mergeConfig=Be;le.AxiosHeaders=fe;le.formToJSON=t=>ja(j.isHTMLForm(t)?new FormData(t):t);le.getAdapter=Ra.getAdapter;le.HttpStatusCode=Rs;le.default=le;const{Axios:Bc,AxiosError:Hc,CanceledError:Vc,isCancel:Qc,CancelToken:Gc,VERSION:Kc,all:Wc,Cancel:Jc,isAxiosError:Yc,spread:Xc,toFormData:Zc,AxiosHeaders:ed,HttpStatusCode:td,formToJSON:sd,getAdapter:rd,mergeConfig:ad}=le,Vl={},Ql=Vl?.VITE_API_URL||"http://localhost:4000",se=le.create({baseURL:Ql,timeout:15e3,headers:{"Content-Type":"application/json"}});se.interceptors.response.use(t=>t,t=>{const s=t?.response?.data?.message||t?.response?.data?.error||t.message;return Promise.reject(new Error(s))});async function Oa(t){const s={customer:t.customer,amount:typeof t.amount=="string"?parseFloat(t.amount):t.amount,date:t.date,description:t.description,revenueAccount:t.revenueAccount||"4020",cashAccount:t.cashAccount||"1010",paymentMethod:t.paymentMethod||"CASH",invoiceNumber:t.invoiceNumber,reference:t.reference},{data:r}=await se.post("/api/transactions/revenue",s);return r}async function Ia(t){const s={customerName:t.customerName,amount:typeof t.amount=="string"?parseFloat(t.amount):t.amount,date:t.date,description:t.description||`Invoice for ${t.customerName}`,paymentStatus:t.paymentStatus||"paid",invoiceNumber:t.invoiceNumber},{data:r}=await se.post("/api/invoices",s);return r}async function Da(){const{data:t}=await se.get("/api/invoices");return Array.isArray(t)?t:[]}async function La(t){const{data:s}=await se.post(`/api/invoices/${t}/mark-paid`,{});return s}async function Fa(t,s){const r={amount:typeof s.amount=="string"?parseFloat(s.amount):s.amount,date:s.date},{data:a}=await se.post(`/api/invoices/${t}/record-payment`,r);return a}const dt={postRevenue:Oa,postInvoice:Ia,postCapital:za,listInvoices:Da,markInvoicePaid:La,recordInvoicePayment:Fa};async function za(t){const s={contributor:t.contributor,amount:typeof t.amount=="string"?parseFloat(t.amount):t.amount,date:t.date,description:t.description,reference:t.reference},{data:r}=await se.post("/api/transactions/capital",s);return r}const Gl={postRevenue:Oa,postInvoice:Ia,postCapital:za,listInvoices:Da,markInvoicePaid:La,recordInvoicePayment:Fa},Cr={PAID:0,UNPAID:1,OVERDUE:2,PARTIAL:3,CREDIT:4,RECURRING:5,PROFORMA:6},lt={PAID:"Paid",UNPAID:"Unpaid",OVERDUE:"Overdue",PARTIAL:"Partial",CREDIT:"Credit Note",RECURRING:"Recurring",PROFORMA:"Proforma"},Mt={PAID:"bg-green-500/15 border-green-400/30 text-green-600 dark:text-green-300",UNPAID:"bg-amber-500/10 border-amber-400/25 text-amber-600 dark:text-amber-300",OVERDUE:"bg-red-500/10 border-red-400/30 text-red-600 dark:text-red-300",PARTIAL:"bg-blue-500/10 border-blue-400/25 text-blue-600 dark:text-blue-300",CREDIT:"bg-cyan-500/10 border-cyan-400/25 text-cyan-600 dark:text-cyan-300",RECURRING:"bg-purple-500/10 border-purple-400/25 text-purple-600 dark:text-purple-300",PROFORMA:"bg-neutral-500/10 border-neutral-400/25 text-foreground"},Kl=Array.from({length:72}).map((t,s)=>{const r=["PAID","UNPAID","OVERDUE","PARTIAL","CREDIT","RECURRING","PROFORMA"],a=r[s%r.length],n=1e3+s;return{id:String(n),number:`INV-${n}`,date:`2025-08-${String(1+s%28).padStart(2,"0")}`,dueDate:`2025-09-${String(1+s%28).padStart(2,"0")}`,customer:["BluePeak LLC","NovaSoft Inc","Acme Corp","Stellar Labs","Orion Media"][s%5],status:a,amount:Math.round(250+Math.random()*9500)}});function Wl(){const{isDark:t}=ye(),[s,r]=d.useState(""),[a,n]=d.useState("date"),[o,i]=d.useState("desc"),[l,u]=d.useState(!0),[m,c]=d.useState(null),[x,h]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("invoices.statuses")||"[]")||[]}catch{return[]}}),[f,g]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("invoices.compact")||"false")}catch{return!1}}),[b]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("invoices.print")||"false")}catch{return!1}}),[y,C]=d.useState(null),[R,O]=d.useState(!1);d.useEffect(()=>{localStorage.setItem("invoices.statuses",JSON.stringify(x))},[x]),d.useEffect(()=>{localStorage.setItem("invoices.compact",JSON.stringify(f))},[f]),d.useEffect(()=>{localStorage.setItem("invoices.print",JSON.stringify(b))},[b]);const[P,M]=d.useState(Kl);d.useEffect(()=>{let E=!1;return(async()=>{try{u(!0),c(null);const v=await dt.listInvoices();if(E)return;const $=Array.isArray(v)?v.map(_=>({id:_.id,number:_.invoiceNumber||_.number||_.reference||`INV-${_.id}`,date:(_.date?new Date(_.date):new Date).toISOString().slice(0,10),dueDate:(_.dueDate?new Date(_.dueDate):new Date).toISOString().slice(0,10),customer:_.customer||_.transaction?.description?.replace(/^Invoice:\s*/i,"")||"Customer",status:(_.status||"SENT")==="PAID"?"PAID":"UNPAID",amount:Number(_.amount||_.transaction?.amount||0)})):[];$.length&&M($)}catch(v){E||c(v?.message||"Failed to load invoices")}finally{E||u(!1)}})(),()=>{E=!0}},[]);const w=d.useMemo(()=>P.filter(E=>{const v=s.trim().toLowerCase(),$=v===""||E.number.toLowerCase().includes(v)||E.customer.toLowerCase().includes(v),_=x.length===0||x.includes(E.status);return $&&_}),[s,x,P]),S=d.useMemo(()=>{const E=[...w];return E.sort((v,$)=>{let _=0;return a==="status"?_=Cr[v.status]-Cr[$.status]:a==="amount"?_=v.amount-$.amount:a==="date"||a==="dueDate"?_=v[a].localeCompare($[a]):_=String(v[a]).localeCompare(String($[a])),o==="asc"?_:-_}),E},[w,a,o]),I=d.useRef(null),[U,L]=d.useState(0),B=f?44:56,F=10;d.useEffect(()=>{const E=I.current;if(!E)return;const v=()=>L(E.scrollTop);return E.addEventListener("scroll",v),()=>E.removeEventListener("scroll",v)},[I.current,f]);const ie=(E,v,$)=>{if(!E)return{start:0,end:v,padTop:0,padBot:0};const _=E.clientHeight||0,Y=Math.max(0,Math.floor($/B)-F),Z=Math.min(v,Math.ceil(($+_)/B)+F),ce=Y*B,xe=Math.max(0,(v-Z)*B);return{start:Y,end:Z,padTop:ce,padBot:xe}},X=S.length>60,ne=E=>`$${E.toLocaleString("en-US")}`,re=E=>{h(v=>v.includes(E)?v.filter($=>$!==E):[...v,E])},N=E=>{a===E?i(o==="asc"?"desc":"asc"):(n(E),i(E==="date"||E==="dueDate"?"desc":"asc"))},J=()=>{const E=S.map(ce=>({number:ce.number,date:ce.date,dueDate:ce.dueDate,customer:ce.customer,status:lt[ce.status],amount:ce.amount})),v=Object.keys(E[0]||{}),$=[v.join(","),...E.map(ce=>v.map(xe=>JSON.stringify(ce[xe]??"")).join(","))].join(`
`),_=new Blob([$],{type:"text/csv;charset=utf-8;"}),Y=URL.createObjectURL(_),Z=document.createElement("a");Z.href=Y,Z.download="invoices.csv",Z.click(),URL.revokeObjectURL(Y)};return e.jsxs("div",{className:"relative h-full space-y-6 max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:[e.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[e.jsx("div",{className:"absolute -top-20 -left-24 w-[30rem] h-[30rem] rounded-full bg-primary/5 blur-3xl"}),e.jsx("div",{className:"absolute -bottom-24 -right-24 w-[28rem] h-[28rem] rounded-full bg-blue-400/5 blur-3xl"})]}),e.jsxs(q,{variant:"heavy",glow:!0,className:"p-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:e.jsx(sa,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-semibold",children:"Invoices"}),e.jsx("div",{className:"text-sm text-secondary-contrast",children:"Create, manage, and track invoices"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"px-3 py-1.5 text-sm rounded-lg bg-white/10 border border-white/10 hover:bg-white/15 backdrop-blur-md flex items-center gap-1",onClick:()=>O(!0),children:[e.jsx(_i,{className:"w-3.5 h-3.5"})," New Invoice"]}),e.jsx("button",{className:T("px-3 py-1.5 text-sm rounded-lg border transition backdrop-blur-glass bg-white/10 hover:bg-white/15 border-white/10 text-foreground",b?"bg-white border-black text-black shadow-none":""),onClick:()=>window.print(),children:e.jsx(Bi,{className:"w-3.5 h-3.5"})}),e.jsx("button",{className:T("px-3 py-1.5 text-sm rounded-lg border transition backdrop-blur-glass bg-white/10 hover:bg-white/15 border-white/10 text-foreground",b?"bg-white border-black text-black shadow-none":""),onClick:J,children:e.jsx(ir,{className:"w-3.5 h-3.5"})})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(na,{className:"w-4 h-4 absolute left-2 top-1/2 -translate-y-1/2 text-muted-contrast"}),e.jsx("input",{value:s,onChange:E=>r(E.target.value),placeholder:"Search by number or customer",className:T("pl-8 pr-3 text-sm rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",f?"py-1":"py-1.5")})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["PAID","UNPAID","OVERDUE","PARTIAL","CREDIT","RECURRING","PROFORMA"].map(E=>e.jsx("button",{onClick:()=>re(E),className:T("px-2.5 py-1 text-xs rounded-lg border transition-colors",Mt[E],x.includes(E)?"ring-1 ring-primary/40":"opacity-80 hover:opacity-100"),children:lt[E]},E))}),e.jsxs("label",{className:"ml-auto flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:E=>g(E.target.checked)})," Compact"]})]})]}),e.jsxs(q,{variant:"medium",glow:!0,className:"p-4",children:[l&&e.jsx("div",{className:"text-sm text-secondary-contrast",children:"Loading invoices..."}),m&&!l&&e.jsx("div",{className:"text-sm text-red-400",children:m}),e.jsx("div",{className:"overflow-x-auto hidden sm:block",children:e.jsx("div",{ref:I,style:X?{maxHeight:420,overflowY:"auto"}:void 0,children:e.jsxs("table",{className:T("reports-table w-full text-sm min-w-[720px] table-fixed",f?"[&_*]:py-1":""),children:[e.jsxs("colgroup",{children:[e.jsx("col",{style:{width:"14%"}}),e.jsx("col",{style:{width:"12%"}}),e.jsx("col",{style:{width:"14%"}}),e.jsx("col",{style:{width:"28%"}}),e.jsx("col",{style:{width:"12%"}}),e.jsx("col",{style:{width:"20%"}})]}),e.jsx("thead",{className:"reports-thead sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>N("number"),children:"Invoice #"}),e.jsx("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>N("date"),children:"Date"}),e.jsx("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>N("dueDate"),children:"Due"}),e.jsx("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>N("customer"),children:"Customer"}),e.jsx("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>N("status"),children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-right cursor-pointer",onClick:()=>N("amount"),children:"Amount"})]})}),e.jsxs("tbody",{children:[X&&e.jsx("tr",{style:{height:ie(I.current,S.length,U).padTop},"aria-hidden":"true"}),(X?(()=>{const{start:E,end:v}=ie(I.current,S.length,U);return S.slice(E,v).map(($,_)=>({row:$,key:E+_}))})():S.map((E,v)=>({row:E,key:v}))).map(({row:E,key:v})=>e.jsxs("tr",{className:"border-t border-white/10 hover:bg-white/5 cursor-pointer",onClick:()=>C(E),children:[e.jsx("td",{className:"py-2",children:E.number}),e.jsx("td",{className:"py-2",children:E.date}),e.jsx("td",{className:"py-2",children:E.dueDate}),e.jsx("td",{className:"py-2 truncate",children:E.customer}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:T("px-2 py-0.5 text-xs rounded-md border",Mt[E.status]),children:lt[E.status]})}),e.jsx("td",{className:"py-2 text-right font-semibold",children:ne(E.amount)})]},v)),X&&e.jsx("tr",{style:{height:ie(I.current,S.length,U).padBot},"aria-hidden":"true"})]})]})})}),e.jsx("div",{className:"sm:hidden mt-2 space-y-2",children:S.map((E,v)=>e.jsx("div",{onClick:()=>C(E),children:e.jsxs(q,{variant:"light",className:"p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"text-xs text-secondary-contrast",children:[E.date," → ",E.dueDate]}),e.jsx("span",{className:T("px-2 py-0.5 text-[10px] rounded border",Mt[E.status]),children:lt[E.status]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"font-medium",children:[E.number," • ",E.customer]}),e.jsx("div",{className:"font-semibold",children:ne(E.amount)})]})]})},v))})]}),y&&e.jsx(De,{children:e.jsx("div",{className:"fixed inset-0 z-[9999] modal-overlay flex items-center justify-center p-4",onClick:()=>C(null),children:e.jsx("div",{onClick:E=>E.stopPropagation(),children:e.jsxs(q,{variant:"light",className:"p-6 max-w-2xl w-[92%] glass-modal liquid-glass",hover:!1,children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:y.number}),e.jsxs("div",{className:"text-sm text-secondary-contrast",children:[y.customer," • ",y.date," → Due ",y.dueDate]})]}),e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface",onClick:()=>C(null),children:e.jsx(Ns,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[e.jsx("span",{className:T("px-2 py-0.5 text-xs rounded-md border",Mt[y.status]),children:lt[y.status]}),e.jsxs("span",{className:"text-sm text-foreground/80 ml-auto",children:["Amount: ",e.jsx("span",{className:"font-semibold",children:ne(y.amount)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs(q,{variant:t?"medium":"light",className:"p-3",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Actions"}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[e.jsxs("button",{className:"px-2.5 py-1 rounded border border-white/10 bg-white/10 hover:bg-white/15 backdrop-blur-md flex items-center gap-1",onClick:async()=>{try{const E=y.id;await dt.markInvoicePaid(E),M(v=>v.map($=>$.id===E?{...$,status:"PAID"}:$)),window.dispatchEvent(new Event("data:refresh"))}catch(E){window.dispatchEvent(new CustomEvent("toast",{detail:{message:E?.message||"Failed to mark paid",type:"error"}}))}},children:[e.jsx(Pi,{className:"w-3.5 h-3.5"})," Mark Paid"]}),e.jsxs("button",{className:"px-2.5 py-1 rounded border border-white/10 bg-white/10 hover:bg-white/15 backdrop-blur-md flex items-center gap-1",children:[e.jsx(ir,{className:"w-3.5 h-3.5"})," PDF"]}),e.jsxs("button",{className:"px-2.5 py-1 rounded border border-white/10 bg-white/10 hover:bg-white/15 backdrop-blur-md flex items-center gap-1",children:[e.jsx(Hi,{className:"w-3.5 h-3.5"})," Duplicate"]}),e.jsxs("button",{className:"px-2.5 py-1 rounded border border-white/10 bg-white/10 hover:bg-white/15 backdrop-blur-md flex items-center gap-1",onClick:async()=>{try{const E=y.id,v=prompt("Payment amount?",String(y.amount));if(!v)return;const $=prompt("Payment date (YYYY-MM-DD)?",new Date().toISOString().slice(0,10))||void 0;await dt.recordInvoicePayment(E,{amount:parseFloat(v),date:$}),M(_=>_.map(Y=>Y.id===E?{...Y,status:"PAID"}:Y)),window.dispatchEvent(new Event("data:refresh"))}catch(E){window.dispatchEvent(new CustomEvent("toast",{detail:{message:E?.message||"Failed to record payment",type:"error"}}))}},children:[e.jsx(Xi,{className:"w-3.5 h-3.5"})," Record Payment"]})]})]}),e.jsxs(q,{variant:t?"medium":"light",className:"p-3",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Recent Activity"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ii,{className:"w-3.5 h-3.5 text-muted-contrast"})," Created ",y.date]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Yr,{className:"w-3.5 h-3.5 text-muted-contrast"})," Due ",y.dueDate]})]})]})]})]})})})}),R&&e.jsx(De,{children:e.jsx("div",{className:"fixed inset-0 z-[9999] modal-overlay flex items-center justify-center p-4",onClick:()=>O(!1),children:e.jsx("div",{onClick:E=>E.stopPropagation(),children:e.jsxs(q,{variant:"light",className:"p-6 max-w-2xl w-[92%] glass-modal liquid-glass",hover:!1,children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:"New Invoice"}),e.jsx("div",{className:"text-sm text-secondary-contrast",children:"Fill details and create."})]}),e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface",onClick:()=>O(!1),children:e.jsx(Ns,{className:"w-4 h-4"})})]}),e.jsx(Jl,{onClose:()=>O(!1),onCreated:E=>{M(v=>[E,...v]),O(!1),window.dispatchEvent(new Event("data:refresh"))}})]})})})})]})}function Jl({onClose:t,onCreated:s}){const[r,a]=d.useState(""),[n,o]=d.useState(""),[i,l]=d.useState(()=>new Date().toISOString().slice(0,10)),[u,m]=d.useState(()=>new Date(new Date().setDate(new Date().getDate()+14)).toISOString().slice(0,10)),[c,x]=d.useState(""),[h,f]=d.useState(!1),[g,b]=d.useState(null),y=async()=>{try{f(!0),b(null);const C={customerName:r,amount:parseFloat(c||"0"),date:i,description:`Invoice for ${r}`,invoiceNumber:n||void 0,paymentStatus:"paid"},O={id:(await dt.postInvoice(C))?.transactionId||String(Date.now()),number:C.invoiceNumber||`INV-${Date.now()}`,date:i,dueDate:u,customer:r,status:"PAID",amount:C.amount};s(O)}catch(C){b(C?.message||"Failed to create invoice")}finally{f(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Customer"}),e.jsx("input",{value:r,onChange:C=>a(C.target.value),className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",placeholder:"Customer name"})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Invoice #"}),e.jsx("input",{value:n,onChange:C=>o(C.target.value),className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",placeholder:"INV-2042"})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Date"}),e.jsx("input",{type:"date",value:i,onChange:C=>l(C.target.value),className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md"})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Due Date"}),e.jsx("input",{type:"date",value:u,onChange:C=>m(C.target.value),className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md"})]}),e.jsxs("label",{className:"flex flex-col gap-1 sm:col-span-2",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Amount"}),e.jsx("input",{type:"number",value:c,onChange:C=>x(C.target.value),className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",placeholder:"0.00"})]})]}),g&&e.jsx("div",{className:"mt-3 text-sm text-red-400",children:g}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-sm rounded-lg border transition backdrop-blur-glass bg-white/10 hover:bg-white/15 border-white/10 text-foreground",onClick:t,disabled:h,children:"Close"}),e.jsx("button",{className:"px-3 py-1.5 text-sm rounded-lg bg-primary/20 text-primary border border-primary/30",onClick:y,disabled:h||!r||!c,children:"Create"})]})]})}async function Ua(t){const{data:s}=await se.get("/api/customers",{params:{query:t}});return s}async function qa(t){const{data:s}=await se.get("/api/customers",{params:t?{query:t}:{}});return Array.isArray(s?.customers)?s.customers:[]}async function $a(t){const{data:s}=await se.post("/api/customers",t);return s?.customer}async function _a(t,s){const{data:r}=await se.put(`/api/customers/${t}`,s);return r?.customer}const Yt={searchCustomers:Ua,listCustomers:qa,createCustomer:$a,updateCustomer:_a},Yl={searchCustomers:Ua,listCustomers:qa,createCustomer:$a,updateCustomer:_a};function Xl(){const[t,s]=d.useState([]),[r,a]=d.useState(""),[n,o]=d.useState(!1),[i,l]=d.useState(!1),[u,m]=d.useState(null),[c,x]=d.useState(1),[h,f]=d.useState(10),g=async()=>{o(!0);try{const P=await Yt.listCustomers(r.trim()||void 0);s(P)}catch(P){try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:P?.message||"Failed to load customers",type:"error"}}))}catch{}}finally{o(!1)}};d.useEffect(()=>{g()},[]);const b=d.useMemo(()=>{const P=r.trim().toLowerCase();return P?t.filter(M=>M.name?.toLowerCase().includes(P)||M.email?.toLowerCase().includes(P)||(M.company||"").toLowerCase().includes(P)):t},[t,r]),y=b.length,C=Math.max(1,Math.ceil(y/h)),R=Math.min(c,C),O=d.useMemo(()=>{const P=(R-1)*h;return b.slice(P,P+h)},[b,R,h]);return e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-semibold",children:"Customers"}),e.jsx("div",{className:"text-sm text-secondary-contrast",children:"Manage your client directory"})]}),e.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-primary/20 text-primary border border-primary/30",onClick:()=>l(!0),children:"New Customer"})]}),e.jsxs(q,{variant:"light",className:"p-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[e.jsx("input",{placeholder:"Search by name, company, or email",value:r,onChange:P=>a(P.target.value),className:"flex-1 px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-2 rounded-lg border border-white/10 bg-white/10",onClick:g,children:"Search"}),e.jsx("button",{className:"px-3 py-2 rounded-lg border border-white/10 bg-white/10",onClick:()=>{a(""),g()},children:"Reset"})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Rows per page"}),e.jsx("select",{className:"px-2 py-1 rounded bg-white/10 border border-white/10",value:h,onChange:P=>{f(Number(P.target.value)),x(1)},children:[10,20,50].map(P=>e.jsx("option",{value:P,children:P},P))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-secondary-contrast",children:[Math.min((R-1)*h+1,y),"-",Math.min(R*h,y)," of ",y]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-white/10 bg-white/10 disabled:opacity-50",disabled:R<=1,onClick:()=>x(P=>Math.max(1,P-1)),children:"Prev"}),e.jsx("button",{className:"px-2 py-1 rounded border border-white/10 bg-white/10 disabled:opacity-50",disabled:R>=C,onClick:()=>x(P=>Math.min(C,P+1)),children:"Next"})]})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(q,{variant:"light",className:"p-0 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"reports-thead",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 text-left",children:"Name"}),e.jsx("th",{className:"py-2 text-left",children:"Company"}),e.jsx("th",{className:"py-2 text-left",children:"Email"}),e.jsx("th",{className:"py-2 text-left",children:"Phone"}),e.jsx("th",{className:"py-2 text-left",children:"Actions"})]})}),e.jsxs("tbody",{children:[n&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-4 text-center text-secondary-contrast",children:"Loading..."})}),!n&&b.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-4 text-center text-secondary-contrast",children:"No customers found"})}),!n&&O.map(P=>e.jsxs("tr",{className:"border-t border-white/10 hover:bg-white/5",children:[e.jsx("td",{className:"px-4 py-2 font-medium",children:P.name}),e.jsx("td",{className:"px-4 py-2",children:P.company||"-"}),e.jsx("td",{className:"px-4 py-2",children:P.email}),e.jsx("td",{className:"px-4 py-2",children:P.phone||"-"}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ec,{customer:P,onSaved:g}),e.jsx("button",{className:"px-2 py-1 rounded border border-white/10 bg-white/10",onClick:()=>m(P),children:"Edit Modal"})]})})]},P.id))]})]})})})}),e.jsxs(te,{children:[i&&e.jsx(Zl,{onClose:()=>{l(!1),g()}}),u&&e.jsx(tc,{customer:u,onClose:()=>{m(null),g()}})]})]})})}function Zl({onClose:t}){const[s,r]=d.useState(""),[a,n]=d.useState(""),[o,i]=d.useState(""),[l,u]=d.useState(!1),[m,c]=d.useState(null),x=async()=>{if(c(null),!s.trim()||!a.trim()){c("Name and Email are required");try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:"Name and Email are required",type:"error"}}))}catch{}return}try{u(!0),await Yt.createCustomer({name:s.trim(),email:a.trim(),company:o.trim()||void 0});try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:"Customer created",type:"success"}}))}catch{}t()}catch(h){const f=h?.response?.data?.error||h?.message||"Failed to create customer";c(f);try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:f,type:"error"}}))}catch{}}finally{u(!1)}};return e.jsx("div",{className:"fixed inset-0 z-[9999] modal-overlay flex items-end sm:items-center justify-center p-4",onClick:t,children:e.jsx(k.div,{initial:{opacity:0,y:40,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:40,scale:.98},className:"w-full max-w-lg",onClick:h=>h.stopPropagation(),children:e.jsxs(q,{variant:"light",className:"p-6 glass-modal liquid-glass",hover:!1,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:"New Customer"}),e.jsx("div",{className:"text-sm text-secondary-contrast",children:"Add a new client to your directory"})]}),e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface",onClick:t,children:"Close"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Name"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:s,onChange:h=>r(h.target.value)})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Email"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:a,onChange:h=>n(h.target.value)})]}),e.jsxs("label",{className:"flex flex-col gap-1 sm:col-span-2",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Company"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:o,onChange:h=>i(h.target.value)})]})]}),m&&e.jsx("div",{className:"mt-3 text-sm text-red-400",children:m}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-sm rounded-lg border transition backdrop-blur-glass bg-white/10 hover:bg-white/15 border-white/10 text-foreground",onClick:t,children:"Cancel"}),e.jsx("button",{disabled:l,className:"px-3 py-1.5 text-sm rounded-lg bg-primary/20 text-primary border border-primary/30 disabled:opacity-60",onClick:x,children:l?"Saving...":"Save"})]})]})})})}function ec({customer:t,onSaved:s}){const[r,a]=d.useState(!1),[n,o]=d.useState(t.name),[i,l]=d.useState(t.email),[u,m]=d.useState(t.company||""),[c,x]=d.useState(!1),h=async()=>{try{x(!0),await Yt.updateCustomer(t.id,{name:n.trim(),email:i.trim(),company:u.trim()||void 0});try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:"Customer updated",type:"success"}}))}catch{}a(!1),s()}catch(f){const g=f?.response?.data?.error||f?.message||"Failed to update customer";try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:g,type:"error"}}))}catch{}}finally{x(!1)}};return e.jsx("div",{className:"flex items-center gap-2",children:r?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center",children:[e.jsx("input",{className:"px-2 py-1 rounded bg-white/10 border border-white/10",value:n,onChange:f=>o(f.target.value)}),e.jsx("input",{className:"px-2 py-1 rounded bg-white/10 border border-white/10",value:i,onChange:f=>l(f.target.value)}),e.jsx("input",{className:"px-2 py-1 rounded bg-white/10 border border-white/10",value:u,onChange:f=>m(f.target.value)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{disabled:c,className:"px-2 py-1 rounded bg-primary/20 text-primary border border-primary/30 disabled:opacity-60",onClick:h,children:c?"Saving...":"Save"}),e.jsx("button",{className:"px-2 py-1 rounded border border-white/10 bg-white/10",onClick:()=>a(!1),children:"Cancel"})]})]}):e.jsx("button",{className:"px-2 py-1 rounded border border-white/10 bg-white/10",onClick:()=>a(!0),children:"Edit"})})}function tc({customer:t,onClose:s}){const[r,a]=d.useState(t.name),[n,o]=d.useState(t.email),[i,l]=d.useState(t.company||""),[u,m]=d.useState(t.phone||""),[c,x]=d.useState(!1),[h,f]=d.useState(null),g=async()=>{if(f(null),!r.trim()||!n.trim()){f("Name and Email are required");return}try{x(!0),await Yt.updateCustomer(t.id,{name:r.trim(),email:n.trim(),company:i.trim()||void 0,phone:u.trim()||void 0}),window.dispatchEvent(new CustomEvent("toast",{detail:{message:"Customer updated",type:"success"}})),s()}catch(b){const y=b?.response?.data?.error||b?.message||"Failed to update customer";f(y),window.dispatchEvent(new CustomEvent("toast",{detail:{message:y,type:"error"}}))}finally{x(!1)}};return e.jsx("div",{className:"fixed inset-0 z-[9999] modal-overlay flex items-end sm:items-center justify-center p-4",onClick:s,children:e.jsx(k.div,{initial:{opacity:0,y:40,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:40,scale:.98},className:"w-full max-w-lg",onClick:b=>b.stopPropagation(),children:e.jsxs(q,{variant:"light",className:"p-6 glass-modal liquid-glass",hover:!1,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:"Edit Customer"}),e.jsx("div",{className:"text-sm text-secondary-contrast",children:"Update client details"})]}),e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface",onClick:s,children:"Close"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Name"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:r,onChange:b=>a(b.target.value)})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Email"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:n,onChange:b=>o(b.target.value)})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Company"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:i,onChange:b=>l(b.target.value)})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Phone"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:u,onChange:b=>m(b.target.value)})]})]}),h&&e.jsx("div",{className:"mt-3 text-sm text-red-400",children:h}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-sm rounded-lg border transition backdrop-blur-glass bg-white/10 hover:bg-white/15 border-white/10 text-foreground",onClick:s,children:"Cancel"}),e.jsx("button",{disabled:c,className:"px-3 py-1.5 text-sm rounded-lg bg-primary/20 text-primary border border-primary/30 disabled:opacity-60",onClick:g,children:c?"Saving…":"Save"})]})]})})})}async function sc(){const{data:t}=await se.post("/api/setup/ensure-core-accounts",{});return t}async function rc(t=1e4,s){const{data:r}=await se.post("/api/setup/initial-capital",{amount:t,reference:s});return r}async function ac(t=5e3,s){const{data:r}=await se.post("/api/setup/sample-revenue",{amount:t,reference:s});return r}const hs={ensureCoreAccounts:sc,addInitialCapital:rc,addSampleRevenue:ac};async function nc(){const{data:t}=await se.get("/api/categories/pending");return Array.isArray(t?.pending)?t.pending:[]}async function ic(t,s){const{data:r}=await se.post(`/api/categories/pending/${t}/approve`,s||{});return r?.category}async function oc(t,s){const{data:r}=await se.post(`/api/categories/pending/${t}/reject`,{existingCategoryId:s});return r}const ps={getPending:nc,approveCategory:ic,rejectCategory:oc};function lc(){const[t,s]=d.useState([]),[r,a]=d.useState(!1),[n,o]=d.useState(null),[i,l]=d.useState({}),u=async()=>{a(!0),o(null);try{const h=await ps.getPending();s(h)}catch(h){o(h?.message||"Failed to load pending categories")}finally{a(!1)}};d.useEffect(()=>{u()},[]);const m=(h,f,g)=>{l(b=>({...b,[h]:{...b[h]||{},[f]:g}}))},c=async h=>{try{await ps.approveCategory(h,i[h]||{}),window.dispatchEvent(new CustomEvent("toast",{detail:{message:"Category approved",type:"success"}})),l(f=>{const g={...f};return delete g[h],g}),u()}catch(f){window.dispatchEvent(new CustomEvent("toast",{detail:{message:f?.message||"Approve failed",type:"error"}}))}},x=async h=>{const f=prompt("Map to existing category ID?")?.trim();if(f)try{await ps.rejectCategory(h,f),window.dispatchEvent(new CustomEvent("toast",{detail:{message:"Suggestion rejected",type:"success"}})),u()}catch(g){window.dispatchEvent(new CustomEvent("toast",{detail:{message:g?.message||"Reject failed",type:"error"}}))}};return r?e.jsx("div",{className:"text-sm text-secondary-contrast",children:"Loading…"}):n?e.jsx("div",{className:"text-sm text-red-400",children:n}):t.length?e.jsx("div",{className:"space-y-3",children:t.map(h=>e.jsx("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-2 items-center",children:[e.jsx("input",{defaultValue:h.name||"",placeholder:"Name",onChange:f=>m(h.id,"name",f.target.value),className:"px-2 py-1 rounded bg-white/10 border border-white/10"}),e.jsx("input",{defaultValue:h.key||"",placeholder:"Key",onChange:f=>m(h.id,"key",f.target.value),className:"px-2 py-1 rounded bg-white/10 border border-white/10"}),e.jsx("input",{defaultValue:h.accountCode||"",placeholder:"Account Code",onChange:f=>m(h.id,"accountCode",f.target.value),className:"px-2 py-1 rounded bg-white/10 border border-white/10"}),e.jsx("input",{defaultValue:h.description||"",placeholder:"Description",onChange:f=>m(h.id,"description",f.target.value),className:"px-2 py-1 rounded bg-white/10 border border-white/10"}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{className:"px-2 py-1 text-sm rounded bg-primary/20 text-primary border border-primary/30",onClick:()=>c(h.id),children:"Approve"}),e.jsx("button",{className:"px-2 py-1 text-sm rounded bg-red-500/15 text-red-400 border border-red-400/30",onClick:()=>x(h.id),children:"Reject"})]})]})},h.id))}):e.jsx("div",{className:"text-sm text-secondary-contrast",children:"No pending suggestions."})}function cc(){const[t,s]=d.useState(null),[r,a]=d.useState(null),n=async(o,i)=>{try{s(o),a(null);const l=await i(),u=typeof l?.message=="string"?l.message:"Done";a(u);try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:u,type:"success"}}))}catch{}}catch(l){const u=l?.response?.data?.error||l?.message||"Operation failed";a(u);try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:u,type:"error"}}))}catch{}}finally{s(null)}};return e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-semibold",children:"Setup Helpers"}),e.jsx("div",{className:"text-sm text-secondary-contrast",children:"Quick actions for local development"})]}),e.jsx(q,{variant:"light",className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{disabled:t==="accounts",className:"px-3 py-2 rounded-lg bg-primary/20 text-primary border border-primary/30 disabled:opacity-60",onClick:()=>n("accounts",()=>hs.ensureCoreAccounts()),children:t==="accounts"?"Ensuring accounts…":"Ensure Core Accounts"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{disabled:t==="capital",className:"px-3 py-2 rounded-lg bg-primary/20 text-primary border border-primary/30 disabled:opacity-60",onClick:()=>n("capital",()=>hs.addInitialCapital(1e4)),children:t==="capital"?"Posting capital…":"Add Initial Capital ($10,000)"}),e.jsx("button",{disabled:t==="revenue",className:"px-3 py-2 rounded-lg bg-primary/20 text-primary border border-primary/30 disabled:opacity-60",onClick:()=>n("revenue",()=>hs.addSampleRevenue(5e3)),children:t==="revenue"?"Posting revenue…":"Add Sample Revenue ($5,000)"})]}),r&&e.jsx("div",{className:"text-sm text-secondary-contrast",children:r})]})}),e.jsxs(q,{variant:"light",className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-lg font-semibold",children:"AI Categories — Pending Suggestions"}),e.jsx("div",{className:"text-sm text-secondary-contrast",children:"Approve or map suggestions to existing categories."})]}),e.jsx(lc,{})]})]})})}const ze={async getPnl(t,s){const r={};t&&(r.asOf=t),s?.period&&(r.period=s.period),s?.compare&&(r.compare=!0);const{data:a}=await se.get("/api/reports/pnl",{params:r});return a},async getBalanceSheet(t){const{data:s}=await se.get("/api/reports/balance-sheet",{params:t?{asOf:t}:{}});return s},async getTrialBalance(t){const{data:s}=await se.get("/api/reports/trial-balance",{params:t?{asOf:t}:{}});return s},async getChartOfAccounts(){const{data:t}=await se.get("/api/reports/chart-of-accounts");return t},async getAccountTransactions(t,s=100){const{data:r}=await se.get(`/api/accounts/${encodeURIComponent(t)}/transactions`,{params:{limit:s}});return r},async updateAccount(t,s){const{data:r}=await se.put(`/api/accounts/${encodeURIComponent(t)}`,s);return r},async deleteAccount(t){const{data:s}=await se.delete(`/api/accounts/${encodeURIComponent(t)}`);return s}};async function dc(t){const s=new FormData;s.append("file",t);const{data:r}=await se.post("/api/ocr",s,{headers:{"Content-Type":"multipart/form-data"}});return r}async function uc(t){const{data:s}=await se.post("/api/posting/preview",t);return s}async function hc(t){const{data:s}=await se.post("/api/expenses",t);return s}async function pc(t,s){const r=new FormData;r.append("file",s);const{data:a}=await se.post(`/api/expenses/${encodeURIComponent(t)}/receipt`,r,{headers:{"Content-Type":"multipart/form-data"}});return a}async function mc(){const{data:t}=await se.get("/api/expenses");return Array.isArray(t)?t:[]}const Ye={uploadOcr:dc,previewExpense:uc,postExpense:hc,attachReceipt:pc,listExpenses:mc},kr=[{name:"Product Sales",amount:68950,type:"revenue"},{name:"Services",amount:25e3,type:"revenue"},{name:"Hosting & Subscriptions",amount:-5400,type:"expense"},{name:"Payroll",amount:-41200,type:"expense"},{name:"COGS - Hardware",amount:-800,type:"cogs"}],fc=[{section:"assets",name:"Cash and Cash Equivalents",amount:58250},{section:"assets",name:"Accounts Receivable",amount:18600},{section:"liabilities",name:"Accounts Payable",amount:15400},{section:"liabilities",name:"Credit Card Payable",amount:31500},{section:"equity",name:"Owner Equity",amount:3e4}],xc=[{code:"1010",name:"Cash and Cash Equivalents",debit:58250,credit:0},{code:"1100",name:"Accounts Receivable",debit:18600,credit:0},{code:"2000",name:"Accounts Payable",debit:0,credit:15400},{code:"2100",name:"Credit Card Payable",debit:0,credit:31500},{code:"4000",name:"Product Sales",debit:0,credit:68950},{code:"4100",name:"Services Revenue",debit:0,credit:25e3},{code:"6100",name:"Payroll Expense",debit:41200,credit:0},{code:"6040",name:"Software & Technology",debit:5400,credit:0}],gc=[{code:"1010",name:"Cash and Cash Equivalents",type:"ASSET",balance:58250},{code:"1100",name:"Accounts Receivable",type:"ASSET",balance:18600},{code:"2000",name:"Accounts Payable",type:"LIABILITY",balance:-15400},{code:"2100",name:"Credit Card Payable",type:"LIABILITY",balance:-31500},{code:"4000",name:"Product Sales",type:"REVENUE",balance:68950},{code:"4100",name:"Services Revenue",type:"REVENUE",balance:25e3},{code:"6100",name:"Payroll Expense",type:"EXPENSE",balance:-41200},{code:"6040",name:"Software & Technology",type:"EXPENSE",balance:-5400}];function ct({icon:t,title:s,subtitle:r}){return e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:e.jsx(t,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:s}),e.jsx("p",{className:"text-sm text-secondary-contrast",children:r})]})]})}function bc({tab:t}){const s=d.useMemo(()=>{switch(t){case"pnl":return["Net profit margin trending upward; consider reinvesting in top services","Software costs increased MoM; review seat counts and unused subscriptions"];case"balance":return["Strong cash ratio; short-term obligations covered comfortably","Debt-to-asset ratio within healthy range; room to finance growth"];case"trial":return["Debits equal credits; no imbalances detected","Highest activity in revenue and payroll accounts this period"];default:return["Top utilized accounts: Cash, Product Sales, Payroll Expense","Consider merging low-activity expense accounts for clarity"]}},[t]);return e.jsxs(q,{variant:"light",className:"p-4",children:[e.jsx(ct,{icon:Ls,title:"AI Financial Insights",subtitle:"Context-aware highlights"}),e.jsx("ul",{className:"list-disc ml-5 space-y-1 text-sm text-foreground/80",children:s.map((r,a)=>e.jsx("li",{children:r},a))})]})}function yc(){const[t,s]=d.useState("pnl"),[r,a]=d.useState("Monthly"),[n,o]=d.useState("Aug 2025"),[i,l]=d.useState(""),[u,m]=d.useState("name"),[c,x]=d.useState("asc"),[h,f]=d.useState(null),[g,b]=d.useState(null),[y,C]=d.useState(!1),[R,O]=d.useState(null),[P,M]=d.useState(null),[w,S]=d.useState(null),[I,U]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("reports.shortcutsOn")||"true")}catch{return!0}}),[L,B]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("reports.compare")||"false")}catch{return!1}}),[F,ie]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("reports.compact")||"false")}catch{return!1}}),[X,ne]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("reports.printFriendly")||"false")}catch{return!1}}),re={pnl:{category:!0,amount:!0,prev:!1},balance:{section:!0,name:!0,amount:!0,prev:!1},trial:{code:!0,name:!0,debit:!0,credit:!0,prev:!1},coa:{code:!0,name:!0,type:!0,balance:!0,prev:!1}},[N,J]=d.useState(()=>{try{return{...re,...JSON.parse(localStorage.getItem("reports.cols")||"null")||{}}}catch{return re}});d.useEffect(()=>{localStorage.setItem("reports.cols",JSON.stringify(N))},[N]);const E="reports.viewPresets",[v,$]=d.useState(()=>{try{return JSON.parse(localStorage.getItem(E)||"{}")}catch{return{}}}),_=(p,A)=>{const D={...v},K=D[p]?[...D[p]]:[];K.push(A),D[p]=K,$(D),localStorage.setItem(E,JSON.stringify(D))},Y=(p,A)=>{l(A.search),m(A.sortKey),x(A.sortDir),ie(A.compact)},Z=()=>{const p=X;ne(!0),setTimeout(()=>{window.print(),setTimeout(()=>ne(p),300)},50)};d.useEffect(()=>{localStorage.setItem("reports.shortcutsOn",JSON.stringify(I))},[I]),d.useEffect(()=>{localStorage.setItem("reports.compare",JSON.stringify(L))},[L]),d.useEffect(()=>{localStorage.setItem("reports.compact",JSON.stringify(F))},[F]),d.useEffect(()=>{localStorage.setItem("reports.printFriendly",JSON.stringify(X))},[X]);const ce="reports.tabPrefs";d.useEffect(()=>{try{const p=localStorage.getItem(ce);if(!p)return;const D=(JSON.parse(p)||{})[t];D&&(typeof D.search=="string"&&l(D.search),typeof D.sortKey=="string"&&m(D.sortKey),(D.sortDir==="asc"||D.sortDir==="desc")&&x(D.sortDir))}catch{}},[t]),d.useEffect(()=>{try{const p=localStorage.getItem(ce),A=p?JSON.parse(p):{};A[t]={search:i,sortKey:u,sortDir:c},localStorage.setItem(ce,JSON.stringify(A))}catch{}},[t,i,u,c]),d.useEffect(()=>{r==="Monthly"&&o(new Date().toLocaleString("en-US",{month:"short",year:"numeric"})),r==="Quarterly"&&o("Q3 2025"),r==="YTD"&&o("YTD 2025"),r==="Annual"&&o("2025")},[r]);const xe=d.useMemo(()=>{const p=new Date;return r==="Monthly"?new Date(p.getFullYear(),p.getMonth()+1,0).toISOString().slice(0,10):p.toISOString().slice(0,10)},[r]),rt=Je({queryKey:["reports","pnl",r,xe,"compare"],queryFn:()=>ze.getPnl(xe,{period:r,compare:!0}),staleTime:6e4,placeholderData:p=>p});d.useEffect(()=>{const p=rt.data;try{if(!p){Nt(null),Xt(null),Zt(null);return}const A=[...Array.isArray(p.revenue)?p.revenue.map(D=>({name:D.name||D.account||"Revenue",amount:Number(D.amount||0),type:"revenue"})):[],...Array.isArray(p.cogs)?p.cogs.map(D=>({name:D.name||D.account||"COGS",amount:-Math.abs(Number(D.amount||0)),type:"cogs"})):[],...Array.isArray(p.expenses)?p.expenses.map(D=>({name:D.name||D.account||"Expense",amount:-Math.abs(Number(D.amount||0)),type:"expense"})):[]];if(Nt(A.length?A:null),p.previous){const D=p.previous,K={};(D.revenue||[]).forEach(H=>{const W=H.name||H.account;K[W]=Number(H.amount||0)}),(D.cogs||[]).forEach(H=>{const W=H.name||H.account;K[W]=-Math.abs(Number(H.amount||0))}),(D.expenses||[]).forEach(H=>{const W=H.name||H.account;K[W]=-Math.abs(Number(H.amount||0))}),Xt(K),Zt(D.totals||null)}else Xt(null),Zt(null)}catch{}},[rt.data]);const yt=Je({queryKey:["reports","balance",xe],queryFn:()=>ze.getBalanceSheet(xe),staleTime:6e4,placeholderData:p=>p});d.useEffect(()=>{const p=yt.data;try{if(!p){M(null);return}const A=Array.isArray(p.assets)?p.assets.map(W=>({section:"assets",name:W.name||W.account||"Asset",amount:Number(W.amount||0)})):[],D=Array.isArray(p.liabilities)?p.liabilities.map(W=>({section:"liabilities",name:W.name||W.account||"Liability",amount:Number(W.amount||0)})):[],K=Array.isArray(p.equity)?p.equity.map(W=>({section:"equity",name:W.name||W.account||"Equity",amount:Number(W.amount||0)})):[],H=[...A,...D,...K];M(H.length?H:null)}catch{}},[yt.data]);const vt=Je({queryKey:["reports","trial",xe],queryFn:()=>ze.getTrialBalance(xe),staleTime:6e4,placeholderData:p=>p});d.useEffect(()=>{const p=vt.data;try{if(p&&Array.isArray(p.rows)){const A=p.rows.map(D=>({code:D.accountCode,name:D.account,debit:Number(D.debit||0),credit:Number(D.credit||0)}));S(A.length?A:null)}else S(null)}catch{}},[vt.data]);const wt=Je({queryKey:["reports","coa"],queryFn:()=>ze.getChartOfAccounts(),staleTime:6e4,placeholderData:p=>p});d.useEffect(()=>{const p=wt.data;try{if(!p){$s(null);return}const D=(Array.isArray(p.accounts)?p.accounts:[]).map(K=>({code:K.code,name:K.name,type:K.type||"ASSET",balance:Number(K.currentBalance||K.balance||0)}));$s(D.length?D:null)}catch{}},[wt.data]);const jt=Je({queryKey:["expenses","latest"],queryFn:async()=>{const p=await Ye.listExpenses();return Array.isArray(p)&&p.length>0?p[0]:null},staleTime:3e4,placeholderData:p=>p});d.useEffect(()=>{Ba(jt.data)},[jt.data]),d.useEffect(()=>{let p=!1;if(!h){b(null),O(null),C(!1);return}return(async()=>{try{C(!0),O(null);const A=await ze.getAccountTransactions(h.code,100);p||b(A)}catch(A){p||O(A?.message||"Failed to load ledger")}finally{p||C(!1)}})(),()=>{p=!0}},[h]),d.useEffect(()=>{const p=()=>{try{Ut.invalidateQueries({queryKey:["reports"]}),Ut.invalidateQueries({queryKey:["expenses","latest"]})}catch{}};return window.addEventListener("data:refresh",p),()=>window.removeEventListener("data:refresh",p)},[r]),d.useEffect(()=>{if(!I)return;const p=A=>{A.target?.tagName!=="INPUT"&&(A.key==="1"&&s("pnl"),A.key==="2"&&s("balance"),A.key==="3"&&s("trial"),A.key==="4"&&s("coa"),A.key.toLowerCase()==="x"&&document.getElementById("reports-export-btn")?.click())};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[I,t,r]);const ve=p=>{u===p?x(c==="asc"?"desc":"asc"):(m(p),x("asc"))},z=(p,A)=>p.filter(D=>A.some(K=>String(D[K]??"").toLowerCase().includes(i.toLowerCase()))),oe=(p,A)=>p.slice().sort((D,K)=>{const H=D[A],W=K[A];return typeof H=="number"&&typeof W=="number"?c==="asc"?H-W:W-H:c==="asc"?String(H).localeCompare(String(W)):String(W).localeCompare(String(H))}),[ge,Nt]=d.useState(null),we=d.useMemo(()=>oe(z(ge??kr,["name"]),u),[i,u,c,ge]),[Ce,Xt]=d.useState(null),[He,Zt]=d.useState(null),Re=d.useMemo(()=>oe(z(P??fc,["name","section"]),u),[i,u,c,P]),je=d.useMemo(()=>oe(z(w??xc,["code","name"]),u),[i,u,c,w]),[qs,$s]=d.useState(null),Te=d.useMemo(()=>oe(z(qs??gc,["code","name","type"]),u),[i,u,c,qs]),[_s,Ba]=d.useState(null),at=d.useMemo(()=>{const p=Re.filter(H=>H.section==="assets").reduce((H,W)=>H+W.amount,0),A=Math.abs(Re.filter(H=>H.section==="liabilities").reduce((H,W)=>H+W.amount,0)),D=Re.filter(H=>H.section==="equity").reduce((H,W)=>H+W.amount,0),K=Math.abs(p-(A+D))<1e-4;return{assets:p,liabilities:A,equity:D,equationOk:K}},[Re]),es={hidden:{opacity:0,y:8},visible:{opacity:1,y:0}},Le=d.useMemo(()=>{const p=ge??kr,A=p.filter(ee=>ee.type==="revenue").reduce((ee,Ee)=>ee+Ee.amount,0),D=Math.abs(p.filter(ee=>ee.type==="cogs").reduce((ee,Ee)=>ee+Ee.amount,0)),K=Math.abs(p.filter(ee=>ee.type==="expense").reduce((ee,Ee)=>ee+Ee.amount,0)),H=A-D,W=H-K;return{revenue:A,cogs:D,expenses:K,gross:H,net:W}},[ge]),Fe=d.useMemo(()=>{const p=je.reduce((K,H)=>K+(H.debit||0),0),A=je.reduce((K,H)=>K+(H.credit||0),0),D=p-A;return{debit:p,credit:A,diff:D,balanced:Math.abs(D)<1e-4}},[je]),St=F?32:40,Bs=8,Ve=d.useRef(null),Qe=d.useRef(null),Ge=d.useRef(null),[ts,Ha]=d.useState(0),[ss,Va]=d.useState(0),[rs,Qa]=d.useState(0),[Ke,Ga]=d.useState(()=>typeof window<"u"?window.matchMedia("(max-width: 640px)").matches:!1);d.useEffect(()=>{const p=window.matchMedia("(max-width: 640px)"),A=D=>Ga(("matches"in D,D.matches));return A(p),p.addEventListener?.("change",A),()=>p.removeEventListener?.("change",A)},[]),d.useEffect(()=>{const p=Ve.current;if(!p)return;const A=()=>Ha(p.scrollTop);return p.addEventListener("scroll",A),()=>p.removeEventListener("scroll",A)},[Ve.current,F]),d.useEffect(()=>{const p=Qe.current;if(!p)return;const A=()=>Va(p.scrollTop);return p.addEventListener("scroll",A),()=>p.removeEventListener("scroll",A)},[Qe.current,F]),d.useEffect(()=>{const p=Ge.current;if(!p)return;const A=()=>Qa(p.scrollTop);return p.addEventListener("scroll",A),()=>p.removeEventListener("scroll",A)},[Ge.current,F]);const ke=(p,A,D)=>{if(!p)return{start:0,end:A,padTop:0,padBot:0};const K=p.clientHeight||0,H=Math.max(0,Math.floor(D/St)-Bs),W=Math.min(A,Math.ceil((D+K)/St)+Bs),ee=H*St,Ee=Math.max(0,(A-W)*St);return{start:H,end:W,padTop:ee,padBot:Ee}},de=p=>`$${Math.abs(p).toLocaleString("en-US")}`,Hs=p=>p>=0?`$${p.toLocaleString("en-US")}`:`-$${Math.abs(p).toLocaleString("en-US")}`,as=50,Ct=!Ke&&we.length>as,kt=!Ke&&je.length>as,Et=!Ke&&Te.length>as;return e.jsxs("div",{className:"relative h-full space-y-6 max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:[e.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[e.jsx("div",{className:"absolute -top-24 -left-24 w-[36rem] h-[36rem] rounded-full bg-primary/5 blur-3xl"}),e.jsx("div",{className:"absolute -bottom-24 -right-24 w-[30rem] h-[30rem] rounded-full bg-blue-400/5 blur-3xl"})]}),e.jsxs(q,{variant:"heavy",glow:!0,className:"p-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:e.jsx(lr,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-semibold",children:"Financial Reports"}),e.jsx("div",{className:"text-sm text-secondary-contrast",children:"P&L, Balance Sheet, Trial Balance, and Chart of Accounts"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:"px-3 py-1.5 text-sm rounded-lg bg-white/10 border border-white/10 backdrop-blur-md hover:bg-white/15 transition-colors flex items-center gap-1",children:[r," ",e.jsx(Zr,{className:"w-3 h-3"})]}),e.jsx("div",{className:"absolute hidden group-focus:block"})]}),e.jsx("div",{className:"px-3 py-1.5 text-sm rounded-lg bg-white/10 border border-white/10 backdrop-blur-md",children:n})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsx("button",{className:T("px-3 py-1.5 text-sm rounded-lg",t==="pnl"?"bg-primary/20 text-primary border border-primary/30":"bg-white/10 border border-white/10 hover:bg-white/15 backdrop-blur-md"),onClick:()=>{s("pnl"),m("name"),l("")},children:"P&L"}),e.jsx("button",{className:T("px-3 py-1.5 text-sm rounded-lg",t==="balance"?"bg-primary/20 text-primary border border-primary/30":"bg-white/10 border border-white/10 hover:bg-white/15 backdrop-blur-md"),onClick:()=>{s("balance"),m("name"),l("")},children:"Balance Sheet"}),e.jsx("button",{className:T("px-3 py-1.5 text-sm rounded-lg",t==="trial"?"bg-primary/20 text-primary border border-primary/30":"bg-white/10 border border-white/10 hover:bg-white/15 backdrop-blur-md"),onClick:()=>{s("trial"),m("code"),l("")},children:"Trial Balance"}),e.jsx("button",{className:T("px-3 py-1.5 text-sm rounded-lg",t==="coa"?"bg-primary/20 text-primary border border-primary/30":"bg-white/10 border border-white/10 hover:bg-white/15 backdrop-blur-md"),onClick:()=>{s("coa"),m("code"),l("")},children:"Chart of Accounts"}),e.jsx("div",{className:"ml-auto flex items-center gap-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(na,{className:"w-4 h-4 absolute left-2 top-1/2 -translate-y-1/2 text-muted-contrast"}),e.jsx("input",{value:i,onChange:p=>l(p.target.value),placeholder:"Search",className:T("pl-8 pr-3 text-sm rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",F?"py-1":"py-1.5")})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[t==="pnl"&&e.jsxs(q,{variant:"medium",glow:!0,className:"p-4",children:[e.jsx(ct,{icon:Ls,title:"Profit & Loss",subtitle:"Revenue, COGS, Expenses"}),_s?.receiptUrl&&e.jsx("div",{className:"mb-2",children:e.jsxs("a",{href:_s.receiptUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded border border-white/10 bg-white/10 hover:bg-white/15",children:[e.jsx($i,{className:"w-3 h-3"})," View last receipt"]})}),e.jsxs("div",{className:T("grid gap-2 mb-3",F?"grid-cols-2 sm:grid-cols-4 lg:grid-cols-5":"grid-cols-2 sm:grid-cols-3 lg:grid-cols-5"),children:[e.jsxs("div",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-xs",children:["Revenue ",e.jsxs("div",{className:"font-semibold text-financial-revenue",children:["$",Le.revenue.toLocaleString()]})]}),e.jsxs("div",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-xs",children:["COGS ",e.jsxs("div",{className:"font-semibold text-amber-400",children:["-$",Le.cogs.toLocaleString()]})]}),e.jsxs("div",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-xs",children:["Gross Profit ",e.jsxs("div",{className:"font-semibold text-cyan-300",children:["$",Le.gross.toLocaleString()]})]}),e.jsxs("div",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-xs",children:["Expenses ",e.jsxs("div",{className:"font-semibold text-financial-expense",children:["-$",Le.expenses.toLocaleString()]})]}),e.jsxs("div",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-xs col-span-2 sm:col-span-1",children:["Net Profit ",e.jsxs("div",{className:"font-semibold text-financial-revenue",children:["$",Le.net.toLocaleString()]})]})]}),e.jsx("div",{className:"overflow-x-auto hidden sm:block",children:e.jsxs("table",{className:T("reports-table w-full text-sm min-w-[520px] table-fixed",F?"[&_*]:py-1":""),children:[e.jsxs("colgroup",{children:[N.pnl.category&&e.jsx("col",{style:{width:"70%"}}),N.pnl.amount&&e.jsx("col",{style:{width:L&&N.pnl.prev?"15%":"30%"}}),L&&N.pnl.prev&&e.jsx("col",{style:{width:"15%"}})]}),e.jsx("thead",{className:"reports-thead sticky top-0 z-10",children:e.jsxs("tr",{children:[N.pnl.category&&e.jsx("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>ve("name"),children:"Category"}),N.pnl.amount&&e.jsx("th",{className:"px-4 py-2 text-right cursor-pointer",onClick:()=>ve("amount"),children:"Amount"}),L&&N.pnl.prev&&e.jsx("th",{className:"px-4 py-2 text-right",children:"Prev"})]})}),e.jsxs("tbody",{ref:Ve,style:Ct?{display:"block",maxHeight:360,overflowY:"auto"}:void 0,children:[Ct&&e.jsx("tr",{style:{height:ke(Ve.current,we.length,ts).padTop},"aria-hidden":"true"}),e.jsx(te,{initial:!1,children:(Ct?(()=>{const{start:p,end:A}=ke(Ve.current,we.length,ts);return we.slice(p,A).map((D,K)=>({row:D,key:p+K}))})():we.map((p,A)=>({row:p,key:A}))).map(({row:p,key:A})=>e.jsxs(k.tr,{className:"border-t border-white/10 hover:bg-white/5",initial:"hidden",animate:"visible",exit:"hidden",variants:es,children:[N.pnl.category&&e.jsx("td",{className:T("py-2",p.type==="revenue"?"text-financial-revenue":p.type==="cogs"?"text-amber-400":"text-financial-expense"),children:p.name}),N.pnl.amount&&e.jsx("td",{className:T("py-2 text-right font-semibold",p.amount>=0?"text-financial-revenue":"text-financial-expense"),children:Hs(p.amount)}),L&&N.pnl.prev&&e.jsx("td",{className:"py-2 text-right text-secondary-contrast",children:(()=>{const D=Ce?.[p.name];return typeof D=="number"?de(D):"-"})()})]},A))}),Ct&&e.jsx("tr",{style:{height:ke(Ve.current,we.length,ts).padBot},"aria-hidden":"true"})]}),e.jsxs("tfoot",{className:"text-sm",children:[e.jsxs("tr",{className:"border-t border-white/10",children:[N.pnl.category&&e.jsx("td",{className:"py-2 font-semibold text-secondary-contrast",children:"Gross Profit"}),N.pnl.amount&&e.jsx("td",{className:"py-2 text-right font-semibold text-cyan-300",children:de(Le.gross)}),L&&N.pnl.prev&&e.jsx("td",{className:"py-2 text-right text-secondary-contrast",children:He?de(Math.round(He.grossProfit||He.gross||0)):"-"})]}),e.jsxs("tr",{children:[N.pnl.category&&e.jsx("td",{className:"py-2 font-semibold text-secondary-contrast",children:"Net Profit"}),N.pnl.amount&&e.jsx("td",{className:"py-2 text-right font-semibold text-financial-revenue",children:de(Le.net)}),L&&N.pnl.prev&&e.jsx("td",{className:"py-2 text-right text-secondary-contrast",children:He?de(Math.round(He.netIncome||He.netProfit||0)):"-"})]})]})]})}),Ke&&e.jsx("div",{className:"mt-3 space-y-2 sm:hidden",children:we.map((p,A)=>e.jsx(q,{variant:"light",className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:T("font-medium",p.type==="revenue"?"text-financial-revenue":p.type==="cogs"?"text-amber-500":"text-financial-expense"),children:p.name}),e.jsx("div",{className:T("font-semibold",p.amount>=0?"text-financial-revenue":"text-financial-expense"),children:Hs(p.amount)})]})},A))})]}),t==="balance"&&e.jsxs(q,{variant:"medium",glow:!0,className:"p-4",children:[e.jsx(ct,{icon:Qi,title:"Balance Sheet",subtitle:"Assets = Liabilities + Equity"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-2",children:"Assets"}),Re.filter(p=>p.section==="assets").map((p,A)=>e.jsxs("div",{className:"flex justify-between py-1 border-b border-white/10",children:[e.jsx("span",{children:p.name}),e.jsxs("span",{className:"font-semibold",children:["$",p.amount.toLocaleString()]})]},A))]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-2",children:"Liabilities"}),Re.filter(p=>p.section==="liabilities").map((p,A)=>e.jsxs("div",{className:"flex justify-between py-1 border-b border-white/10",children:[e.jsx("span",{children:p.name}),e.jsxs("span",{className:"font-semibold",children:["$",Math.abs(p.amount).toLocaleString()]})]},A))]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-2",children:"Equity"}),Re.filter(p=>p.section==="equity").map((p,A)=>e.jsxs("div",{className:"flex justify-between py-1 border-b border-white/10",children:[e.jsx("span",{children:p.name}),e.jsxs("span",{className:"font-semibold",children:["$",p.amount.toLocaleString()]})]},A))]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-2 text-xs",children:[e.jsxs("div",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10",children:["Total Assets ",e.jsx("div",{className:"font-semibold",children:de(at.assets)})]}),e.jsxs("div",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10",children:["Liabilities + Equity ",e.jsx("div",{className:"font-semibold",children:de(at.liabilities+at.equity)})]}),e.jsx("div",{className:T("px-3 py-2 rounded-lg border text-center",at.equationOk?"bg-green-500/10 border-green-400/30 text-green-600 dark:text-green-300":"bg-red-500/10 border-red-400/30 text-red-600 dark:text-red-300"),children:at.equationOk?"Equation OK":"Equation mismatch"})]})]}),t==="trial"&&e.jsxs(q,{variant:"medium",glow:!0,className:"p-4",children:[e.jsx(ct,{icon:lr,title:"Trial Balance",subtitle:"Debits and Credits"}),e.jsx("div",{className:"overflow-x-auto hidden sm:block",children:e.jsxs("table",{className:T("reports-table w-full text-sm min-w-[640px] table-fixed",F?"[&_*]:py-1":""),children:[e.jsxs("colgroup",{children:[N.trial.code&&e.jsx("col",{style:{width:"12%"}}),N.trial.name&&e.jsx("col",{style:{width:L&&N.trial.prev?"43%":"55%"}}),N.trial.debit&&e.jsx("col",{style:{width:"15%"}}),N.trial.credit&&e.jsx("col",{style:{width:"15%"}}),L&&N.trial.prev&&e.jsx("col",{style:{width:"15%"}})]}),e.jsx("thead",{className:"reports-thead sticky top-0 z-10",children:e.jsxs("tr",{children:[N.trial.code&&e.jsx("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>ve("code"),children:"Code"}),N.trial.name&&e.jsx("th",{className:"px-4 py-2 cursor-pointer",onClick:()=>ve("name"),children:"Account"}),N.trial.debit&&e.jsx("th",{className:"px-4 py-2 text-right cursor-pointer",onClick:()=>ve("debit"),children:"Debit"}),N.trial.credit&&e.jsx("th",{className:"px-4 py-2 text-right cursor-pointer",onClick:()=>ve("credit"),children:"Credit"}),L&&N.trial.prev&&e.jsx("th",{className:"px-4 py-2 text-right",children:"Prev"})]})}),e.jsxs("tbody",{ref:Qe,style:kt?{display:"block",maxHeight:360,overflowY:"auto"}:void 0,children:[kt&&e.jsx("tr",{style:{height:ke(Qe.current,je.length,ss).padTop},"aria-hidden":"true"}),e.jsx(te,{initial:!1,children:(kt?(()=>{const{start:p,end:A}=ke(Qe.current,je.length,ss);return je.slice(p,A).map((D,K)=>({row:D,key:p+K}))})():je.map((p,A)=>({row:p,key:A}))).map(({row:p,key:A})=>e.jsxs(k.tr,{className:"border-t border-white/10 hover:bg-white/5 cursor-pointer",onClick:()=>f({code:p.code,name:p.name,type:"ASSET",balance:p.debit-p.credit}),initial:"hidden",animate:"visible",exit:"hidden",variants:es,children:[N.trial.code&&e.jsx("td",{className:"py-2",children:p.code}),N.trial.name&&e.jsx("td",{className:"py-2",children:p.name}),N.trial.debit&&e.jsx("td",{className:"py-2 text-right",children:p.debit?de(p.debit):"-"}),N.trial.credit&&e.jsx("td",{className:"py-2 text-right",children:p.credit?de(p.credit):"-"}),L&&N.trial.prev&&e.jsx("td",{className:"py-2 text-right text-secondary-contrast",children:de(Math.round(((p.debit||0)-(p.credit||0))*.92))})]},A))}),kt&&e.jsx("tr",{style:{height:ke(Qe.current,je.length,ss).padBot},"aria-hidden":"true"})]}),e.jsxs("tfoot",{className:"text-sm",children:[e.jsxs("tr",{className:"border-t border-white/10",children:[e.jsx("td",{className:"py-2 font-semibold",colSpan:(N.trial.code?1:0)+(N.trial.name?1:0),children:"Totals"}),N.trial.debit&&e.jsx("td",{className:"py-2 text-right font-semibold",children:de(Fe.debit)}),N.trial.credit&&e.jsx("td",{className:"py-2 text-right font-semibold",children:de(Fe.credit)}),L&&N.trial.prev&&e.jsx("td",{className:"py-2 text-right text-secondary-contrast",children:de(Math.round((Fe.debit-Fe.credit)*.92))})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 font-semibold",colSpan:(N.trial.code?1:0)+(N.trial.name?1:0),children:"Status"}),e.jsx("td",{className:T("py-2 text-right font-semibold",Fe.balanced?"text-financial-revenue":"text-financial-expense"),colSpan:(N.trial.debit?1:0)+(N.trial.credit?1:0),children:Fe.balanced?"Balanced":`Out of balance: $${Math.abs(Fe.diff).toLocaleString()}`}),L&&N.trial.prev&&e.jsx("td",{})]})]})]})}),Ke&&e.jsx("div",{className:"mt-3 space-y-2 sm:hidden",children:je.map((p,A)=>e.jsx("div",{onClick:()=>f({code:p.code,name:p.name,type:"ASSET",balance:p.debit-p.credit}),children:e.jsxs(q,{variant:"light",className:"p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"text-xs text-secondary-contrast",children:p.code}),e.jsx("div",{className:"text-xs text-secondary-contrast",children:"Trial Balance"})]}),e.jsx("div",{className:"font-medium mb-1",children:p.name}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{children:["Debit: ",p.debit?de(p.debit):"-"]}),e.jsxs("div",{children:["Credit: ",p.credit?de(p.credit):"-"]})]})]})},A))})]}),t==="coa"&&e.jsxs(q,{variant:"medium",glow:!0,className:"p-4",children:[e.jsx(ct,{icon:Fi,title:"Chart of Accounts",subtitle:"Click an account to drill in"}),e.jsx("div",{className:"overflow-x-auto hidden sm:block",children:e.jsxs("table",{role:"table","aria-label":"Chart of Accounts",className:T("reports-table w-full text-sm min-w-[640px] table-fixed",F?"[&_*]:py-1":""),children:[e.jsxs("colgroup",{children:[N.coa.code&&e.jsx("col",{style:{width:"12%"}}),N.coa.name&&e.jsx("col",{style:{width:L&&N.coa.prev?"43%":"55%"}}),N.coa.type&&e.jsx("col",{style:{width:"15%"}}),N.coa.balance&&e.jsx("col",{style:{width:L&&N.coa.prev?"15%":"20%"}}),L&&N.coa.prev&&e.jsx("col",{style:{width:"15%"}})]}),e.jsx("thead",{className:"reports-thead sticky top-0 z-10",children:e.jsxs("tr",{children:[N.coa.code&&e.jsx("th",{scope:"col",className:"px-4 py-2 cursor-pointer",onClick:()=>ve("code"),children:"Code"}),N.coa.name&&e.jsx("th",{scope:"col",className:"px-4 py-2 cursor-pointer",onClick:()=>ve("name"),children:"Account"}),N.coa.type&&e.jsx("th",{scope:"col",className:"px-4 py-2",children:"Type"}),N.coa.balance&&e.jsx("th",{scope:"col",className:"px-4 py-2 text-right cursor-pointer",onClick:()=>ve("balance"),children:"Balance"}),L&&N.coa.prev&&e.jsx("th",{scope:"col",className:"px-4 py-2 text-right",children:"Prev"})]})}),e.jsxs("tbody",{ref:Ge,style:Et?{display:"block",maxHeight:360,overflowY:"auto"}:void 0,children:[Et&&e.jsx("tr",{style:{height:ke(Ge.current,Te.length,rs).padTop},"aria-hidden":"true"}),e.jsx(te,{initial:!1,children:(Et?(()=>{const{start:p,end:A}=ke(Ge.current,Te.length,rs);return Te.slice(p,A).map((D,K)=>({row:D,key:p+K}))})():Te.map((p,A)=>({row:p,key:A}))).map(({row:p,key:A})=>e.jsxs(k.tr,{className:"border-t border-white/10 hover:bg-white/5 cursor-pointer",onClick:()=>f(p),initial:"hidden",animate:"visible",exit:"hidden",variants:es,children:[N.coa.code&&e.jsx("td",{className:"py-2",children:p.code}),N.coa.name&&e.jsx("td",{className:"py-2",children:p.name}),N.coa.type&&e.jsx("td",{className:"py-2 capitalize",children:p.type.toLowerCase()}),N.coa.balance&&e.jsx("td",{className:T("py-2 text-right font-semibold",p.balance>=0?"text-financial-revenue":"text-financial-expense"),children:p.balance>=0?de(p.balance):`-${de(Math.abs(p.balance))}`}),L&&N.coa.prev&&e.jsx("td",{className:"py-2 text-right text-secondary-contrast",children:de(Math.round(p.balance*.92))})]},A))}),Et&&e.jsx("tr",{style:{height:ke(Ge.current,Te.length,rs).padBot},"aria-hidden":"true"})]})]})}),Ke&&e.jsx("div",{className:"mt-3 space-y-2 sm:hidden",children:Te.map((p,A)=>e.jsx("div",{onClick:()=>f(p),children:e.jsxs(q,{variant:"light",className:"p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"text-xs text-secondary-contrast",children:p.code}),e.jsx("div",{className:"text-xs capitalize text-secondary-contrast",children:p.type.toLowerCase()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"font-medium",children:p.name}),e.jsx("div",{className:T("font-semibold",p.balance>=0?"text-financial-revenue":"text-financial-expense"),children:p.balance>=0?de(p.balance):`-${de(Math.abs(p.balance))}`})]})]})},A))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(bc,{tab:t}),e.jsxs(q,{variant:"light",glow:!0,className:T("p-4",X?"bg-white text-black !shadow-none !backdrop-blur-0":""),children:[e.jsx("div",{className:"text-sm text-foreground/80 mb-2",children:"Period"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Monthly","Quarterly","YTD","Annual"].map(p=>e.jsx("button",{className:T("px-3 py-1.5 text-sm rounded-lg",r===p?"bg-primary/20 text-primary border border-primary/30":"bg-white/10 border border-white/10 hover:bg-white/15 backdrop-blur-md"),onClick:()=>a(p),children:p},p))}),e.jsxs("div",{className:"mt-3 text-sm text-secondary-contrast",children:["Current: ",n]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 items-center",children:[e.jsx("button",{id:"reports-export-btn",className:T("px-3 py-1.5 text-sm rounded-lg border transition backdrop-blur-glass shadow-glass hover:shadow-glow bg-surface/70 hover:bg-surface/80 border-border/60 text-foreground dark:bg-white/10 dark:hover:bg-white/15 dark:border-white/15 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40",X?"bg-white border-black text-black shadow-none":""),onClick:()=>{const p=t==="pnl"?we.map(ee=>({category:ee.name,amount:ee.amount})):t==="balance"?Re.map(ee=>({section:ee.section,name:ee.name,amount:ee.amount})):t==="trial"?je.map(ee=>({code:ee.code,name:ee.name,debit:ee.debit,credit:ee.credit})):Te.map(ee=>({code:ee.code,name:ee.name,type:ee.type,balance:ee.balance})),A=Object.keys(p[0]||{}),D=[A.join(","),...p.map(ee=>A.map(Ee=>JSON.stringify(ee[Ee]??"")).join(","))].join(`
`),K=new Blob([D],{type:"text/csv;charset=utf-8;"}),H=URL.createObjectURL(K),W=document.createElement("a");W.href=H,W.download=`reports-${t}-${r}.csv`,W.click(),URL.revokeObjectURL(H)},children:"Export CSV"}),e.jsx("button",{className:T("ml-2 px-3 py-1.5 text-sm rounded-lg border transition backdrop-blur-glass bg-white/10 hover:bg-white/15 border-white/10 text-foreground",X?"bg-white border-black text-black shadow-none":""),onClick:()=>window.print(),children:"Print"}),e.jsx("button",{className:T("px-3 py-1.5 text-sm rounded-lg border transition backdrop-blur-glass bg-white/10 hover:bg-white/15 border-white/10 text-foreground",X?"bg-white border-black text-black shadow-none":""),onClick:Z,children:"Export PDF"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:I,onChange:p=>U(p.target.checked)}),"Keyboard shortcuts (1–4 tabs, X export)"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:F,onChange:p=>ie(p.target.checked)}),"Compact density"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:L,onChange:p=>B(p.target.checked)}),"Compare period (adds Prev column)"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:X,onChange:p=>ne(p.target.checked)}),"Print‑friendly mode"]})]}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("div",{className:"mb-2 text-foreground/80",children:"Columns"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[t==="pnl"&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.pnl.category,onChange:p=>J({...N,pnl:{...N.pnl,category:p.target.checked}})})," Category"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.pnl.amount,onChange:p=>J({...N,pnl:{...N.pnl,amount:p.target.checked}})})," Amount"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.pnl.prev,onChange:p=>J({...N,pnl:{...N.pnl,prev:p.target.checked}})})," Prev"]})]}),t==="balance"&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.balance.section,onChange:p=>J({...N,balance:{...N.balance,section:p.target.checked}})})," Section"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.balance.name,onChange:p=>J({...N,balance:{...N.balance,name:p.target.checked}})})," Name"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.balance.amount,onChange:p=>J({...N,balance:{...N.balance,amount:p.target.checked}})})," Amount"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.balance.prev,onChange:p=>J({...N,balance:{...N.balance,prev:p.target.checked}})})," Prev"]})]}),t==="trial"&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.trial.code,onChange:p=>J({...N,trial:{...N.trial,code:p.target.checked}})})," Code"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.trial.name,onChange:p=>J({...N,trial:{...N.trial,name:p.target.checked}})})," Account"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.trial.debit,onChange:p=>J({...N,trial:{...N.trial,debit:p.target.checked}})})," Debit"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.trial.credit,onChange:p=>J({...N,trial:{...N.trial,credit:p.target.checked}})})," Credit"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.trial.prev,onChange:p=>J({...N,trial:{...N.trial,prev:p.target.checked}})})," Prev"]})]}),t==="coa"&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.coa.code,onChange:p=>J({...N,coa:{...N.coa,code:p.target.checked}})})," Code"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.coa.name,onChange:p=>J({...N,coa:{...N.coa,name:p.target.checked}})})," Name"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.coa.type,onChange:p=>J({...N,coa:{...N.coa,type:p.target.checked}})})," Type"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.coa.balance,onChange:p=>J({...N,coa:{...N.coa,balance:p.target.checked}})})," Balance"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.coa.prev,onChange:p=>J({...N,coa:{...N.coa,prev:p.target.checked}})})," Prev"]})]})]})]}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("div",{className:"mb-2 text-foreground/80",children:"Saved Views"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-sm rounded-lg bg-white/10 border border-white/10 hover:bg-white/15 backdrop-blur-md",onClick:()=>{const p=prompt("Preset name?")?.trim();p&&_(t,{name:p,search:i,sortKey:u,sortDir:c,compact:F})},children:"Save Current"}),(v[t]||[]).map((p,A)=>e.jsx("button",{className:"px-3 py-1.5 text-sm rounded-lg bg-white/10 border border-white/10 hover:bg-white/15 backdrop-blur-md",onClick:()=>Y(t,p),children:p.name},A))]})]})]})]})]}),h&&e.jsx(De,{children:e.jsx("div",{className:"fixed inset-0 z-[9999] modal-overlay flex items-center justify-center p-3 sm:p-4",onClick:()=>f(null),children:e.jsx("div",{onClick:p=>p.stopPropagation(),children:e.jsxs(q,{variant:"light",className:"p-0 max-w-4xl w-[96%] glass-modal liquid-glass",hover:!1,children:[e.jsxs("div",{className:"px-5 py-4 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-primary/80 font-semibold",children:h.code}),e.jsx("div",{className:"text-lg sm:text-xl font-semibold",children:h.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:T("px-2 py-1 text-xs rounded border",h.type==="ASSET"?"bg-green-500/10 border-green-400/30 text-green-400":h.type==="LIABILITY"?"bg-amber-500/10 border-amber-400/30 text-amber-300":"bg-purple-500/10 border-purple-400/30 text-purple-300"),children:h.type}),e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface",onClick:()=>f(null),children:"✕"})]})]}),e.jsxs("div",{className:"p-5 grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs(q,{variant:"light",className:"p-3",hover:!1,children:[e.jsx("div",{className:"text-xs text-secondary-contrast font-semibold mb-2",children:"ACCOUNT CLASSIFICATION"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Account Type"}),e.jsx("span",{className:"font-medium",children:h.type==="ASSET"?"Asset Account":h.type.charAt(0)+h.type.slice(1).toLowerCase()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Normal Balance"}),e.jsx("span",{className:"font-medium",children:["ASSET","EXPENSE"].includes(h.type)?"Debit":"Credit"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Financial Statement"}),e.jsx("span",{className:"font-medium",children:h.type==="REVENUE"||h.type==="EXPENSE"?"Income Statement":"Balance Sheet"})]})]})]}),e.jsxs(q,{variant:"light",className:"p-3",hover:!1,children:[e.jsx("div",{className:"text-xs text-secondary-contrast font-semibold mb-2",children:"CURRENT STATUS"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Current Balance"}),e.jsxs("span",{className:T("font-semibold",h.balance>=0?"text-financial-revenue":"text-financial-expense"),children:[h.balance>=0?"$":"-$",Math.abs(h.balance).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Balance Type"}),e.jsx("span",{className:"font-medium",children:h.balance>=0?"Debit Balance":"Credit Balance"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Last Updated"}),e.jsx("span",{className:"font-medium",children:new Date().toLocaleDateString("en-US")})]})]})]}),e.jsxs(q,{variant:"light",className:"p-3",hover:!1,children:[e.jsx("div",{className:"text-xs text-secondary-contrast font-semibold mb-2",children:"ACCOUNT ACTIVITY"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Transactions"}),e.jsx("span",{className:"font-medium",children:"1 entries"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Period"}),e.jsx("span",{className:"font-medium",children:"Last 30 days"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Status"}),e.jsx("span",{className:"font-medium text-green-400",children:"Active"})]})]})]})]}),e.jsx("div",{className:"px-5",children:e.jsxs(q,{variant:"light",className:"p-4",hover:!1,children:[e.jsx("div",{className:"text-sm font-semibold mb-2",children:"🤖 AI Analysis"}),e.jsxs("div",{className:"text-sm mb-2",children:[h.name," has current balance of ",h.balance>=0?"$":"-$",Math.abs(h.balance).toLocaleString(),"."]}),e.jsx("div",{className:"text-xs text-secondary-contrast mb-1 font-semibold",children:"AI Suggestions:"}),e.jsxs("ul",{className:"text-xs space-y-1",children:[e.jsx("li",{children:"• Account shows activity"}),e.jsx("li",{children:"• Balance will be managed in Phase 2"}),e.jsx("li",{children:"• Database integrity maintained"})]})]})}),e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"text-sm font-semibold mb-2",children:"Account Ledger"}),e.jsx(q,{variant:"light",className:"p-0 overflow-hidden",hover:!1,children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"reports-thead",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left",children:"Date"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Description"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Debit"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Credit"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Balance"})]})}),e.jsxs("tbody",{children:[y&&e.jsx("tr",{className:"border-t border-white/10",children:e.jsx("td",{colSpan:5,className:"px-3 py-4 text-center text-secondary-contrast",children:"Loading..."})}),R&&!y&&e.jsx("tr",{className:"border-t border-white/10",children:e.jsx("td",{colSpan:5,className:"px-3 py-4 text-center text-red-400",children:R})}),!y&&!R&&Array.isArray(g?.transactions)&&g.transactions.map((p,A)=>e.jsxs("tr",{className:"border-t border-white/10",children:[e.jsx("td",{className:"px-3 py-2",children:new Date(p.date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})}),e.jsx("td",{className:"px-3 py-2",children:p.description}),e.jsx("td",{className:"px-3 py-2 text-right text-financial-revenue",children:p.debitAmount?`$${Number(p.debitAmount).toLocaleString()}`:"-"}),e.jsx("td",{className:"px-3 py-2 text-right text-financial-expense",children:p.creditAmount?`$${Number(p.creditAmount).toLocaleString()}`:"-"}),e.jsx("td",{className:"px-3 py-2 text-right font-semibold",children:(p.balance>=0?"$":"-$")+Math.abs(Number(p.balance)).toLocaleString()})]},A))]}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"border-t border-white/10 text-xs",children:[e.jsx("td",{colSpan:2,className:"px-3 py-2 text-secondary-contrast",children:"Totals"}),e.jsx("td",{className:"px-3 py-2 text-right text-financial-revenue",children:g?.summary?`$${Number(g.summary.totalDebits||0).toLocaleString()}`:"-"}),e.jsx("td",{className:"px-3 py-2 text-right text-financial-expense",children:g?.summary?`$${Number(g.summary.totalCredits||0).toLocaleString()}`:"-"}),e.jsx("td",{className:"px-3 py-2 text-right font-semibold",children:g?.summary?(g.account?.currentBalance>=0?"$":"-$")+Math.abs(Number(g.account?.currentBalance||0)).toLocaleString():"-"})]})})]})})]}),e.jsxs("div",{className:"px-5 pb-4 flex items-center justify-between",children:[e.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-white/10 border border-white/10 hover:bg-white/15",onClick:()=>f(null),children:"Close"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-primary/20 text-primary border border-primary/30",onClick:async()=>{const p=prompt("New account name?",h.name);if(!p)return;const A=prompt("Type (ASSET, LIABILITY, EQUITY, REVENUE, EXPENSE)?",h.type)?.toUpperCase();try{const D={name:p};["ASSET","LIABILITY","EQUITY","REVENUE","EXPENSE"].includes(A||"")&&(D.type=A),(await ze.updateAccount(h.code,D))?.success&&(f({...h,name:p,type:D.type||h.type}),window.dispatchEvent(new CustomEvent("toast",{detail:{message:"Account updated",type:"success"}})))}catch(D){window.dispatchEvent(new CustomEvent("toast",{detail:{message:D?.message||"Update failed",type:"error"}}))}},children:"Edit Account"}),e.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-red-500/15 text-red-400 border border-red-400/30",onClick:async()=>{if(confirm("Delete this account? Accounts with transactions or core accounts cannot be deleted."))try{(await ze.deleteAccount(h.code))?.success&&(window.dispatchEvent(new CustomEvent("toast",{detail:{message:"Account deleted",type:"success"}})),f(null),window.dispatchEvent(new Event("data:refresh")))}catch(p){window.dispatchEvent(new CustomEvent("toast",{detail:{message:p?.response?.data?.error||p?.message||"Delete failed",type:"error"}}))}},children:"Delete Account"})]})]})]})})})})]})}const Er=["Add $500 Adobe subscription expense","Show me profit trends for last quarter","Create invoice for ACME Corp $5000","Set budget alert for marketing at $2000","Generate cash flow report","Record $1200 freelancer payment"];function vc({isActive:t,onToggle:s}){const[r,a]=d.useState(!1),[n,o]=d.useState(""),[i,l]=d.useState([]),[u,m]=d.useState(0),[c,x]=d.useState(!0),h=d.useRef(null),f=d.useRef();d.useEffect(()=>{const w=window.SpeechRecognition||window.webkitSpeechRecognition;x(!!w)},[]),d.useEffect(()=>{if(r){const w=()=>{m(Math.random()*100),f.current=requestAnimationFrame(w)};w()}else f.current&&cancelAnimationFrame(f.current),m(0);return()=>{f.current&&cancelAnimationFrame(f.current)}},[r]);const g=()=>{if(!c){alert("Speech recognition is not supported in your browser");return}r?y():b()},b=()=>{try{const w=window.SpeechRecognition||window.webkitSpeechRecognition;if(!w){C();return}h.current=new w,h.current.continuous=!0,h.current.interimResults=!0,h.current.lang="en-US",h.current.onstart=()=>{a(!0),o("")},h.current.onresult=S=>{let I="";for(let U=S.resultIndex;U<S.results.length;U++)S.results[U].isFinal?I+=S.results[U][0].transcript:o(S.results[U][0].transcript);I&&R(I,S.results[S.resultIndex][0].confidence)},h.current.onerror=S=>{console.error("Speech recognition error:",S.error),a(!1)},h.current.onend=()=>{a(!1),o("")},h.current.start()}catch(w){console.error("Error starting speech recognition:",w),C()}},y=()=>{h.current&&h.current.stop(),a(!1),o("")},C=()=>{a(!0),o("Listening..."),setTimeout(()=>{const w=Er[Math.floor(Math.random()*Er.length)];o(w),setTimeout(()=>{R(w,.95),a(!1),o("")},1500)},2e3)},R=async(w,S)=>{const I={id:`cmd-${Date.now()}`,transcript:w,command:O(w),confidence:S,timestamp:Date.now(),status:"processing"};l(U=>[I,...U.slice(0,4)]),setTimeout(()=>{const U=Math.random()>.2;l(L=>L.map(B=>B.id===I.id?{...B,status:U?"success":"error",result:U?P(I.command):"Command failed to execute"}:B))},2e3)},O=w=>{const S=w.toLowerCase();return S.includes("add")&&S.includes("expense")?"ADD_EXPENSE":S.includes("show")&&S.includes("trend")?"SHOW_TRENDS":S.includes("create")&&S.includes("invoice")?"CREATE_INVOICE":S.includes("budget")&&S.includes("alert")?"SET_BUDGET_ALERT":S.includes("generate")&&S.includes("report")?"GENERATE_REPORT":S.includes("record")&&S.includes("payment")?"RECORD_PAYMENT":"GENERAL_QUERY"},P=w=>{switch(w){case"ADD_EXPENSE":return"Expense added successfully!";case"SHOW_TRENDS":return"Displaying profit trends...";case"CREATE_INVOICE":return"Invoice created and sent!";case"SET_BUDGET_ALERT":return"Budget alert configured!";case"GENERATE_REPORT":return"Report generated successfully!";case"RECORD_PAYMENT":return"Payment recorded!";default:return"Command executed successfully!"}},M=w=>{switch(w){case"ADD_EXPENSE":return"💳";case"SHOW_TRENDS":return"📈";case"CREATE_INVOICE":return"📄";case"SET_BUDGET_ALERT":return"⚠️";case"GENERATE_REPORT":return"📊";case"RECORD_PAYMENT":return"💰";default:return"🤖"}};return t?e.jsx(De,{children:e.jsx("div",{className:"fixed inset-0 z-[9999] modal-overlay flex items-center justify-center p-4",children:e.jsx(k.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-md",children:e.jsxs(q,{variant:"light",className:"p-6 glass-modal liquid-glass",hover:!1,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:e.jsx(Yi,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Voice Commands"}),e.jsx("p",{className:"text-xs text-muted-contrast",children:"AI-powered voice interface"})]})]}),e.jsx("button",{onClick:()=>s(!1),className:"p-1 rounded-md hover:bg-surface/50 transition-colors",children:"✕"})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs(k.button,{onClick:g,whileHover:{scale:1.05},whileTap:{scale:.95},className:T("relative w-20 h-20 rounded-full transition-all duration-300 mx-auto mb-4",r?"bg-red-500 hover:bg-red-600 shadow-lg shadow-red-500/25":"bg-primary hover:bg-primary/90 shadow-lg shadow-primary/25"),children:[r?e.jsx(zi,{className:"w-8 h-8 text-white mx-auto"}):e.jsx(or,{className:"w-8 h-8 text-white mx-auto"}),e.jsx(te,{children:r&&e.jsx(k.div,{className:"absolute inset-0 rounded-full border-4 border-white/30",animate:{scale:[1,1+u/100,1],opacity:[.3,.6,.3]},transition:{duration:.3}})})]}),e.jsx("div",{className:"text-sm text-muted-contrast mb-2",children:r?"Listening...":"Click to start speaking"}),e.jsx(te,{children:n&&e.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-3 bg-surface/50 rounded-lg text-sm min-h-[40px] flex items-center justify-center",children:['"',n,'"']})})]}),i.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[e.jsx(et,{className:"w-4 h-4"}),"Recent Commands"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.jsx(te,{children:i.map(w=>e.jsx(k.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:T("p-3 rounded-lg border text-sm",w.status==="processing"&&"border-yellow-500/30 bg-yellow-500/5",w.status==="success"&&"border-green-500/30 bg-green-500/5",w.status==="error"&&"border-red-500/30 bg-red-500/5"),children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-lg",children:M(w.command)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium truncate",children:w.transcript}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-xs text-muted-contrast",children:[(w.confidence*100).toFixed(0),"% confidence"]}),w.status==="processing"&&e.jsx("div",{className:"w-3 h-3 border-2 border-yellow-500/50 border-t-yellow-500 rounded-full animate-spin"}),w.status==="success"&&e.jsx("span",{className:"text-xs text-green-400",children:"✓"}),w.status==="error"&&e.jsx("span",{className:"text-xs text-red-400",children:"✗"})]}),w.result&&e.jsx("div",{className:T("text-xs mt-1",w.status==="success"?"text-green-400":"text-red-400"),children:w.result})]})]})},w.id))})})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-border/20",children:e.jsxs("div",{className:"text-xs text-muted-contrast",children:[e.jsx("div",{className:"font-medium mb-1",children:"Try saying:"}),e.jsx("div",{children:'"Add $500 Adobe subscription"'}),e.jsx("div",{children:'"Show me profit trends"'}),e.jsx("div",{children:'"Create invoice for $5000"'})]})})]})})})}):e.jsx(k.button,{onClick:()=>s(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:T("p-2 rounded-lg transition-all duration-200","bg-primary/10 text-primary hover:bg-primary/20","hover:shadow-lg hover:shadow-primary/20"),title:"Activate Voice Commands",children:e.jsx(or,{className:"w-4 h-4"})})}const wc=(t,s)=>{const r=[];switch(t<60?r.push({id:"health-concern",type:"warning",content:"I notice your business health score could use attention. Would you like me to analyze the key factors affecting it?",action:"Analyze Health Factors",confidence:92,icon:Xr}):t>80&&r.push({id:"health-excellent",type:"suggestion",content:"Your business is thriving! This might be a great time to explore expansion opportunities or optimize your tax strategy.",action:"Explore Growth Options",confidence:87,icon:_e}),s){case"dashboard":r.push({id:"dashboard-insight",type:"insight",content:"I see you're reviewing your dashboard. Based on your recent transactions, there's a potential 15% savings opportunity in your software subscriptions.",action:"Review Subscriptions",confidence:84,icon:ra});break;case"universe":r.push({id:"universe-guide",type:"suggestion",content:"The 3D visualization shows strong revenue-to-profit correlation. Would you like me to identify which revenue streams are most profitable?",action:"Analyze Revenue Streams",confidence:91,icon:ta});break;case"transactions":r.push({id:"transaction-pattern",type:"insight",content:"I've detected an unusual spending pattern this month. Your office expenses are 40% higher than average. Should I investigate?",action:"Investigate Spending",confidence:88,icon:Ht});break}const a=[{id:"tax-optimization",type:"suggestion",content:"Based on your current profit trajectory, you might benefit from accelerating some expenses before year-end to optimize your tax position.",action:"Tax Planning Assistant",confidence:79,icon:ia},{id:"cash-flow-prediction",type:"insight",content:"Your cash flow pattern suggests you'll have excess liquidity next month. Consider investment opportunities or debt reduction.",action:"Investment Suggestions",confidence:82,icon:_e},{id:"efficiency-insight",type:"question",content:"I noticed you process invoices manually. Would you like me to set up automated invoice workflows to save 2-3 hours per week?",action:"Setup Automation",confidence:95,icon:et}],n=a[Math.floor(Math.random()*a.length)];return r.push(n),r.slice(0,2)};function jc({businessHealth:t,currentView:s,onDismiss:r}){const[a,n]=d.useState([]),[o,i]=d.useState(0),[l,u]=d.useState(!0),[m,c]=d.useState(!1);d.useEffect(()=>{u(!0);const f=setTimeout(()=>{const g=wc(t,s);n(g),i(0),u(!1),c(!0)},1500);return()=>clearTimeout(f)},[t,s]),d.useEffect(()=>{if(a.length>1&&!l){const f=setInterval(()=>{i(g=>(g+1)%a.length)},8e3);return()=>clearInterval(f)}},[a.length,l]);const x=a[o],h=f=>{switch(f){case"suggestion":return{bg:"from-blue-500/20 to-indigo-500/10",border:"border-blue-500/30",icon:"text-blue-400"};case"insight":return{bg:"from-green-500/20 to-emerald-500/10",border:"border-green-500/30",icon:"text-green-400"};case"warning":return{bg:"from-yellow-500/20 to-orange-500/10",border:"border-yellow-500/30",icon:"text-yellow-400"};case"question":return{bg:"from-purple-500/20 to-pink-500/10",border:"border-purple-500/30",icon:"text-purple-400"}}};return e.jsx(k.div,{initial:{opacity:0,scale:.8,x:100},animate:{opacity:1,scale:1,x:0,width:m?400:60},exit:{opacity:0,scale:.8,x:100},className:"fixed bottom-6 right-6 z-40",transition:{duration:.5,ease:[.23,1,.32,1],width:{duration:.3}},children:e.jsxs(q,{variant:"heavy",className:T("relative overflow-hidden transition-all duration-300",m?"p-6":"p-3"),children:[e.jsx(te,{children:!m&&e.jsxs(k.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>c(!0),className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center group hover:scale-105 transition-transform",children:[e.jsx(os,{className:"w-6 h-6 text-white group-hover:rotate-12 transition-transform"}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-primary/30 animate-ping"}),a.length>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-background animate-pulse"})]})}),e.jsx(te,{children:m&&e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center",children:e.jsx(os,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:"AI Assistant"}),e.jsx("p",{className:"text-xs text-muted-contrast",children:l?"Analyzing...":"Ready to help"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>c(!1),className:"p-1 rounded-md hover:bg-surface/50 transition-colors",children:e.jsx(os,{className:"w-4 h-4"})}),e.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-surface/50 transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})})]})]}),e.jsx(te,{children:l&&e.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-3 p-4 rounded-lg bg-surface/30",children:[e.jsx(k.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-6 h-6 rounded-full border-2 border-primary/30 border-t-primary"}),e.jsx("div",{className:"text-sm text-muted-contrast",children:"Analyzing your financial patterns..."})]})}),e.jsx(te,{mode:"wait",children:!l&&x&&e.jsx(k.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:1.05},transition:{duration:.3},className:T("p-4 rounded-lg border bg-gradient-to-r",h(x.type).bg,h(x.type).border),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:T("w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center flex-shrink-0"),children:e.jsx(x.icon,{className:T("w-4 h-4",h(x.type).icon)})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("p",{className:"text-sm leading-relaxed",children:x.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-muted-contrast",children:[x.confidence,"% confidence"]}),x.action&&e.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 text-xs bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors flex items-center gap-1",children:[e.jsx(et,{className:"w-3 h-3"}),x.action]})]})]})]})},x.id)}),a.length>1&&!l&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-1",children:a.map((f,g)=>e.jsx("button",{onClick:()=>i(g),className:T("w-2 h-2 rounded-full transition-all",g===o?"bg-primary":"bg-surface")},g))}),e.jsxs("div",{className:"text-xs text-muted-contrast",children:[o+1," of ",a.length]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-border/20",children:[e.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-1 p-2 text-xs bg-surface/50 hover:bg-surface text-foreground rounded-md transition-colors flex items-center justify-center gap-1",children:[e.jsx(aa,{className:"w-3 h-3"}),"Chat"]}),e.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-1 p-2 text-xs bg-surface/50 hover:bg-surface text-foreground rounded-md transition-colors flex items-center justify-center gap-1",children:[e.jsx(Ht,{className:"w-3 h-3"}),"Insights"]})]})]})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:Array.from({length:3}).map((f,g)=>e.jsx(k.div,{className:"absolute w-1 h-1 bg-primary/40 rounded-full",animate:{x:[0,100,0],y:[0,-50,0],opacity:[0,.8,0]},transition:{duration:4+g,repeat:1/0,delay:g*1.5,ease:"easeInOut"},style:{left:`${20+g*30}%`,top:`${80-g*20}%`}},g))})]})})}const Nc=()=>{const{currentTheme:t,setTheme:s,toggleTheme:r,isDark:a,availableThemes:n}=ye(),[o,i]=d.useState(!1),l=f=>{switch(f){case"light":return Wi;case"dark":return Ui;default:return qi}},u=f=>({light:"Light Mode",dark:"Dark Mode",blue:"Corporate Blue",green:"Finance Green"})[f]||f,m=f=>({light:"text-blue-500",dark:"text-blue-400",blue:"text-blue-500",green:"text-emerald-500"})[f]||"text-purple-500",c=()=>{o?i(!1):r()},x=f=>{s(f),i(!1)},h=l(t);return e.jsxs("div",{className:"relative",children:[e.jsxs(k.div,{className:"flex items-center",layout:!0,children:[e.jsxs(k.button,{className:T("relative flex items-center gap-2 p-3 rounded-xl","bg-surface/80 backdrop-blur-md border border-border/50","text-foreground hover:text-primary","hover:bg-surface/90 hover:border-border/70","transition-all duration-200",t==="light"&&"shadow-lg hover:shadow-xl border-gray-300/60",t!=="light"&&"shadow-md hover:shadow-lg"),onClick:c,whileHover:{scale:1.02,y:-1,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.98},layout:!0,children:[e.jsx(k.div,{animate:{rotate:a?180:0},transition:{duration:parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--animation-duration-slow").replace("ms",""))/1e3,ease:[.4,0,.2,1]},children:e.jsx(h,{className:T("w-5 h-5",m(t))})}),e.jsx(te,{children:o&&e.jsx(k.span,{className:"text-sm font-medium whitespace-nowrap",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2},children:u(t)})})]}),e.jsx(k.button,{className:T("p-2 rounded-lg ml-1","text-slate-600 dark:text-slate-400","hover:text-slate-800 dark:hover:text-slate-200","hover:bg-white/[var(--glass-opacity-light)]","transition-all duration-[var(--animation-duration-normal)]"),onClick:()=>i(!o),whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(k.div,{animate:{rotate:o?180:0},transition:{duration:.2},children:e.jsx(Zr,{className:"w-4 h-4"})})})]}),e.jsx(te,{children:o&&e.jsxs(e.Fragment,{children:[e.jsx(k.div,{className:"fixed inset-0 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1)}),e.jsx(k.div,{className:"absolute top-full right-0 mt-2 z-50",initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},transition:{duration:parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--animation-duration-normal").replace("ms",""))/1e3,ease:[.4,0,.2,1]},children:e.jsxs(q,{className:"p-2 min-w-[200px] backdrop-blur-3xl shadow-2xl",variant:"heavy",glow:!0,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"px-3 py-2 text-sm font-medium text-muted-contrast",children:"Choose Theme"}),n.map(f=>{const g=l(f),b=t===f,y=m(f);return e.jsxs(k.button,{className:T("w-full flex items-center space-x-3 px-3 py-2 rounded-lg","text-left transition-all duration-200",b?"bg-primary/20 text-primary border border-primary/30":"hover:bg-surface/50 text-foreground hover:text-primary"),onClick:()=>x(f),whileHover:{x:2},whileTap:{scale:.98},layout:!0,children:[e.jsx(g,{className:T("w-4 h-4 flex-shrink-0",b?"text-primary":y)}),e.jsx("span",{className:"flex-1 text-sm font-medium",children:u(f)}),b&&e.jsx(k.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.2},children:e.jsx(Mi,{className:"w-4 h-4 text-emerald-500"})})]},f)})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-white/10 dark:border-white/10",children:e.jsx("button",{className:T("w-full px-3 py-2 text-sm","text-neutral-400 dark:text-neutral-300","hover:text-neutral-600 dark:hover:text-white","transition-all duration-200","rounded-md hover:bg-white/5 dark:hover:bg-white/10"),onClick:()=>i(!1),children:"Close"})})]})})]})})]})};function Sc({count:t=20,colors:s=["primary","financial-revenue","financial-profit"],className:r,enabled:a=!0}){const[n,o]=d.useState([]);return d.useEffect(()=>{if(!a){o([]);return}o(Array.from({length:t},(l,u)=>({id:`particle-${u}`,x:Math.random()*100,y:Math.random()*100,size:Math.random()*4+2,color:s[Math.floor(Math.random()*s.length)],duration:Math.random()*20+10,delay:Math.random()*5})))},[t,s,a]),a?e.jsx("div",{className:T("fixed inset-0 pointer-events-none overflow-hidden",r),children:e.jsx(te,{children:n.map(i=>e.jsx(k.div,{className:T("absolute rounded-full opacity-20",`bg-${i.color}`),style:{width:i.size,height:i.size,left:`${i.x}%`,top:`${i.y}%`},initial:{opacity:0,scale:0,y:0},animate:{opacity:[0,.3,0],scale:[0,1,0],y:[-20,-100],x:[0,Math.random()*40-20]},transition:{duration:i.duration,delay:i.delay,repeat:1/0,ease:"easeOut"}},i.id))})}):null}function Cc({actions:t,className:s,onExpandedChange:r}){const[a,n]=d.useState(!1),[o,i]=d.useState(!0),{scrollY:l}=Or(),{isDark:u}=ye();d.useEffect(()=>{let c=0,x=!1;return l.onChange(f=>{x||(requestAnimationFrame(()=>{const g=f>c,b=f<c;g&&f>100?(i(!1),n(y=>(y&&r?.(!1),!1))):(b||f<50)&&i(!0),c=f,x=!1}),x=!0)})},[l]);const m=()=>{const c=!a;n(c),r?.(c)};return o?e.jsxs(k.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:T("fixed bottom-6 right-6 z-[9999] flex flex-col items-end gap-3",s),children:[e.jsx(te,{children:a&&e.jsx(k.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",stiffness:300,damping:25,staggerChildren:.1},className:"flex flex-col gap-3",children:t.map((c,x)=>e.jsx(k.div,{initial:{opacity:0,x:20,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:20,scale:.8},transition:{delay:x*.05},children:e.jsxs(k.button,{onClick:()=>{c.action(),n(h=>(h&&r?.(!1),!1))},className:T("group relative overflow-hidden","flex items-center gap-3 px-4 py-3 text-sm font-medium","bg-background/90 hover:bg-primary/10 transition-all duration-300","border border-border/30 rounded-xl","backdrop-blur-xl shadow-lg hover:shadow-xl","min-w-[160px] justify-start","before:absolute before:inset-0 before:bg-gradient-to-br before:from-white/20 before:via-white/5 before:to-transparent before:opacity-0 hover:before:opacity-100 before:transition-opacity before:duration-300"),whileHover:{scale:1.02,x:-2},whileTap:{scale:.98},style:{background:u?"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 50%, transparent 100%)":"linear-gradient(135deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0.1) 100%)",backdropFilter:"blur(20px)",border:u?"1px solid rgba(255,255,255,0.1)":"1px solid rgba(0,0,0,0.1)"},children:[e.jsx("span",{className:"text-lg relative z-10",children:c.icon}),e.jsx("span",{className:"text-foreground relative z-10",children:c.label}),e.jsx(k.div,{className:"absolute inset-0 bg-gradient-to-r from-primary/10 via-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",layoutId:`hover-${c.label}`}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-white/20 to-transparent opacity-60 rounded-t-xl"})]})},c.label))})}),e.jsxs(k.button,{onClick:m,className:T("w-14 h-14 rounded-full flex items-center justify-center relative group","shadow-lg hover:shadow-xl transition-all duration-300","backdrop-blur-xl overflow-hidden"),style:{background:u?"linear-gradient(135deg, rgba(124, 58, 237, 0.3) 0%, rgba(168, 85, 247, 0.2) 50%, rgba(124, 58, 237, 0.1) 100%)":"linear-gradient(135deg, rgba(124, 58, 237, 0.2) 0%, rgba(168, 85, 247, 0.15) 50%, rgba(124, 58, 237, 0.1) 100%)",backdropFilter:"blur(20px)",border:u?"1px solid rgba(124, 58, 237, 0.3)":"1px solid rgba(124, 58, 237, 0.2)"},whileHover:{scale:1.05},whileTap:{scale:.95},animate:{rotate:a?45:0},transition:{type:"spring",stiffness:300,damping:25},children:[e.jsxs(k.div,{className:"relative z-10",animate:{rotate:a?45:0},transition:{type:"spring",stiffness:300,damping:25},children:[e.jsx("div",{className:"w-6 h-0.5 bg-primary rounded-full"}),e.jsx("div",{className:"w-0.5 h-6 bg-primary rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),e.jsx(k.div,{className:"absolute inset-0 rounded-full bg-primary/20",initial:{scale:0,opacity:0},animate:{scale:a?1.2:0,opacity:a?.3:0},transition:{duration:.3}}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-white/30 to-transparent opacity-60 rounded-t-full"}),e.jsx(k.div,{className:"absolute inset-0 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:u?"linear-gradient(135deg, rgba(255,255,255,0.15) 0%, transparent 50%)":"linear-gradient(135deg, rgba(255,255,255,0.4) 0%, transparent 50%)"}}),e.jsx("div",{className:"absolute inset-1 rounded-full bg-gradient-to-br from-primary/10 to-transparent"})]}),e.jsx(te,{children:a&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/10 backdrop-blur-[1px] z-[-1]",onClick:()=>n(!1)})})]}):null}function kc({open:t,onClose:s}){const[r,a]=d.useState("picker"),[n,o]=d.useState(null),[i,l]=d.useState(!1),[u,m]=d.useState(!1),[c,x]=d.useState(0),[h,f]=d.useState(""),g=d.useRef(null),[b,y]=d.useState(""),[C,R]=d.useState(""),[O,P]=d.useState(""),[M,w]=d.useState(""),[S,I]=d.useState(""),[U,L]=d.useState("invoice"),[B,F]=d.useState(""),[ie,X]=d.useState(!1),[ne,re]=d.useState(null),[N,J]=d.useState([]),[E,v]=d.useState(!1),[$,_]=d.useState(!1);if(!t)return null;const Y=()=>{a("picker"),o(null),f(""),re(null),y(""),R(""),P(""),w(""),I(""),L("invoice"),F(""),s()},Z=z=>{if(y(z),v(!0),!z||z.trim().length<2){J([]);return}_(!0);const oe=z.trim();window.clearTimeout(Z._t),Z._t=window.setTimeout(async()=>{try{const ge=await Yl.searchCustomers(oe);J(Array.isArray(ge?.customers)?ge.customers:[])}catch{J([])}finally{_(!1)}},250)},ce=z=>{y(z?.name||""),v(!1)},xe=async()=>{re(null);const z=parseFloat(C);if(!b.trim()||!C||isNaN(z)||z<=0||!O){const oe="Please fill Customer, Amount (>0), and Date";re(oe);try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:oe,type:"error"}}))}catch{}return}try{X(!0),await dt.postInvoice({customerName:b.trim(),amount:z,date:O,description:B||`Invoice for ${b.trim()}`,invoiceNumber:S||void 0,paymentStatus:U});try{window.dispatchEvent(new CustomEvent("data:refresh"))}catch{}Y()}catch(oe){const ge=oe?.message||"Failed to create invoice";re(ge);try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:ge,type:"error"}}))}catch{}}finally{X(!1)}},rt=z=>{if(!["image/jpeg","image/png","image/jpg","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/csv","text/plain"].includes(z.type)){re("Unsupported file type");return}if(z.size>10*1024*1024){re("File must be < 10MB");return}o(z),re(null)},yt=z=>{z.preventDefault(),z.stopPropagation()},vt=z=>{z.preventDefault(),z.stopPropagation(),l(!0)},wt=z=>{z.preventDefault(),z.stopPropagation(),l(!1)},jt=z=>{z.preventDefault(),z.stopPropagation(),l(!1);const oe=z.dataTransfer.files;oe&&oe[0]&&rt(oe[0])},ve=async()=>{if(n){m(!0),x(10),re(null);try{const oe=(await Ye.uploadOcr(n))?.text||"";f(oe),x(60);const ge=`Extract INVOICE data from the text below. Return ONLY JSON with keys: {"customerName", "amount", "date", "dueDate", "invoiceNumber", "description", "paymentStatus"}. Rules: if Amount Paid==Total or Balance Due==0 → paid; if Amount Paid>Total → overpaid; if Amount Paid>0 and Balance Due>5 → partial; else invoice.
TEXT:
${oe.slice(0,12e3)}`,{data:Nt}=await se.post("/api/ai/generate",{prompt:ge}),we=(Nt?.content||"").match(/\{[\s\S]*\}/);if(!we)throw new Error("AI did not return JSON");const Ce=JSON.parse(we[0]);y(Ce.customerName||""),R(String(Ce.amount??"")),P(Ce.date||""),w(Ce.dueDate||""),I(Ce.invoiceNumber||""),F(Ce.description||""),L(Ce.paymentStatus||"invoice"),x(100),a("form")}catch(z){re(z?.response?.data?.error||z?.message||"Processing failed")}finally{m(!1)}}};return e.jsx(De,{children:e.jsx(te,{children:t&&e.jsxs(k.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx(k.div,{className:"modal-overlay absolute inset-0",onClick:Y}),e.jsx(k.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},className:"relative w-[96%] max-w-4xl",onClick:z=>z.stopPropagation(),children:e.jsxs(q,{variant:"light",className:"p-0 glass-modal liquid-glass overflow-hidden",hover:!1,children:[e.jsxs("div",{className:"px-5 py-4 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-primary/80 font-semibold",children:"AI Import"}),e.jsx("div",{className:"text-lg sm:text-xl font-semibold",children:"AI Invoice"}),e.jsx("div",{className:"text-xs text-secondary-contrast",children:"Upload → Extract → Review → Create"})]}),e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface",onClick:Y,children:"✕"})]}),r==="picker"?e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{className:`rounded-2xl border transition-all duration-300 cursor-pointer select-none ${i?"border-primary/50 bg-primary/5":"border-white/10 bg-surface/50 hover:bg-surface/60"} p-8`,onDragEnter:vt,onDragLeave:wt,onDragOver:yt,onDrop:jt,onClick:()=>g.current?.click(),role:"button",tabIndex:0,onKeyDown:z=>{(z.key==="Enter"||z.key===" ")&&g.current?.click()},children:[e.jsxs("div",{className:"flex flex-col items-center text-center gap-3",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"📄"})}),e.jsx("div",{className:"text-base font-semibold",children:"Drop your document here"}),e.jsx("div",{className:"text-secondary-contrast",children:"or click to browse"}),e.jsx("div",{className:"text-xs text-secondary-contrast",children:"PDF, DOCX, CSV/TXT, JPG, PNG (max 10MB)"})]}),e.jsx("input",{ref:g,type:"file",accept:".pdf,.docx,.csv,.txt,.jpg,.jpeg,.png",onChange:z=>z.target.files&&rt(z.target.files[0]),className:"hidden"})]}),n&&e.jsxs("div",{className:"rounded-xl border border-white/10 bg-surface/60 p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"text-2xl",children:"📄"}),e.jsxs("div",{className:"truncate",children:[e.jsx("div",{className:"font-medium truncate",children:n.name}),e.jsxs("div",{className:"text-xs text-secondary-contrast",children:[(n.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-2 py-1 rounded bg-white/10 border border-white/10 hover:bg-white/15 text-xs",onClick:()=>o(null),children:"Remove"}),e.jsx(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},disabled:u,onClick:ve,className:"px-3 py-1.5 rounded bg-primary/20 text-primary border border-primary/30 disabled:opacity-60",children:u?"Processing…":"Process with AI"})]})]}),ne&&e.jsx("div",{className:"text-sm text-red-400",children:ne}),u&&e.jsxs("div",{className:"pt-1",children:[e.jsx("div",{className:"w-full h-2 bg-surface/60 rounded-full overflow-hidden",children:e.jsx(k.div,{initial:{width:0},animate:{width:`${c}%`},className:"h-full bg-primary/60"})}),e.jsx("div",{className:"text-xs text-secondary-contrast mt-1",children:c<50?"Extracting text…":"Analyzing with AI…"})]})]})}):e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsxs("div",{className:"lg:w-1/3 p-5 border-b lg:border-b-0 lg:border-r border-white/10",children:[e.jsx("div",{className:"text-sm text-secondary-contrast mb-2",children:"OCR Snapshot"}),e.jsxs("div",{className:"rounded-lg bg-surface/50 p-3 max-h-64 overflow-auto text-xs whitespace-pre-wrap",children:[h.slice(0,2e3),h.length>2e3?"…":""]})]}),e.jsxs("div",{className:"flex-1 p-5",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsxs("label",{className:"flex flex-col gap-1 relative",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Customer"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:b,onChange:z=>Z(z.target.value),placeholder:"Acme Corp",onFocus:()=>v(!0)}),E&&(N.length>0||$)&&e.jsxs("div",{className:"absolute top-full mt-1 left-0 right-0 z-10 rounded-lg border border-white/10 bg-surface/80 backdrop-blur-xl shadow-lg max-h-56 overflow-auto",children:[$&&e.jsx("div",{className:"px-3 py-2 text-sm text-secondary-contrast",children:"Searching..."}),N.map((z,oe)=>e.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-white/10",onClick:()=>ce(z),children:[e.jsx("div",{className:"font-medium",children:z.name}),e.jsx("div",{className:"text-xs text-secondary-contrast",children:z.company||z.email||""})]},z.id||oe))]})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Amount"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:C,onChange:z=>R(z.target.value),placeholder:"5000"})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Date"}),e.jsx("input",{type:"date",className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:O,onChange:z=>P(z.target.value)})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Due Date"}),e.jsx("input",{type:"date",className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:M,onChange:z=>w(z.target.value)})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Invoice #"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:S,onChange:z=>I(z.target.value),placeholder:"INV-2025-001"})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Status"}),e.jsxs("select",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:U,onChange:z=>L(z.target.value),children:[e.jsx("option",{value:"invoice",children:"Invoice (Unpaid)"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"partial",children:"Partial"}),e.jsx("option",{value:"overpaid",children:"Overpaid"})]})]}),e.jsxs("label",{className:"flex flex-col gap-1 sm:col-span-2",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Description"}),e.jsx("textarea",{rows:3,className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:B,onChange:z=>F(z.target.value),placeholder:"Line items, payment terms, etc."})]})]}),ne&&e.jsx("div",{className:"mt-3 text-sm text-red-400",children:ne}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-sm rounded-lg border transition backdrop-blur-glass bg-white/10 hover:bg-white/15 border-white/10 text-foreground",onClick:()=>a("picker"),children:"Back"}),e.jsx("button",{disabled:ie,className:"px-3 py-1.5 text-sm rounded-lg bg-primary/20 text-primary border border-primary/30 disabled:opacity-60",onClick:xe,children:ie?"Creating…":"Create Invoice"})]})]})]})]})})]})})})}function Ec({open:t,onClose:s}){const[r,a]=d.useState(""),[n,o]=d.useState(""),[i,l]=d.useState(""),[u,m]=d.useState(!1),[c,x]=d.useState(null),h=async()=>{x(null);const f=parseFloat(n);if(!r.trim()||!n||isNaN(f)||f<=0||!i){const g="Please fill Source, Amount (>0), and Date";x(g);try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:g,type:"error"}}))}catch{}return}try{m(!0),await Gl.postRevenue({customer:r.trim(),amount:f,date:i,description:`Revenue from ${r.trim()}`});try{window.dispatchEvent(new CustomEvent("data:refresh"))}catch{}s()}catch(g){const b=g?.message||"Failed to post revenue";x(b);try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:b,type:"error"}}))}catch{}}finally{m(!1)}};return t?e.jsx(De,{children:e.jsx("div",{className:"fixed inset-0 z-[9999] modal-overlay flex items-end sm:items-center justify-center p-4",onClick:s,children:e.jsx(k.div,{initial:{opacity:0,y:40,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:40,scale:.98},className:"w-full max-w-2xl",onClick:f=>f.stopPropagation(),children:e.jsxs(q,{variant:"light",className:"p-6 glass-modal liquid-glass",hover:!1,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:"AI Revenue"}),e.jsx("div",{className:"text-sm text-secondary-contrast",children:"Record and forecast revenue with AI"})]}),e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface",onClick:s,children:"Close"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Source"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:r,onChange:f=>a(f.target.value),placeholder:"Stripe, Shopify, Subscription..."})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Amount"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:n,onChange:f=>o(f.target.value),placeholder:"3000"})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Date"}),e.jsx("input",{type:"date",className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:i,onChange:f=>l(f.target.value)})]})]}),c&&e.jsx("div",{className:"mt-3 text-sm text-red-400",children:c}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-sm rounded-lg border transition backdrop-blur-glass bg-white/10 hover:bg-white/15 border-white/10 text-foreground",onClick:s,children:"Cancel"}),e.jsx("button",{disabled:u,className:"px-3 py-1.5 text-sm rounded-lg bg-primary/20 text-primary border border-primary/30 disabled:opacity-60",onClick:h,children:u?"Recording...":"Record Revenue"})]})]})})})}):null}const Ar="eze.ai.chat.threads",Rr="eze.ai.chat.active";function Ac({open:t,onClose:s,onOpenAiInvoice:r,onOpenAiRevenue:a}){const[n,o]=d.useState(()=>{try{return JSON.parse(localStorage.getItem(Ar)||"[]")}catch{return[]}}),[i,l]=d.useState(()=>localStorage.getItem(Rr)||""),[u,m]=d.useState(""),c=d.useMemo(()=>n.find(f=>f.id===i)||n[0],[n,i]);d.useEffect(()=>{localStorage.setItem(Ar,JSON.stringify(n))},[n]),d.useEffect(()=>{c&&localStorage.setItem(Rr,c.id)},[c?.id]);const x=()=>{const f=`t-${Date.now()}`,g={id:f,title:"New Chat",messages:[],createdAt:Date.now()};o([g,...n]),l(f)},h=()=>{if(!c||!u.trim())return;const f={id:`m-${Date.now()}`,role:"user",content:u.trim(),ts:Date.now()},g={id:`m-${Date.now()+1}`,role:"assistant",content:"This is a demo response. Backend integration will automate actions.",ts:Date.now()+1},b=n.map(y=>y.id===c.id?{...y,title:y.messages.length?y.title:u.slice(0,30),messages:[...y.messages,f,g]}:y);o(b),m("")};return t?e.jsx(De,{children:e.jsxs("div",{className:"fixed inset-0 z-[9999] pointer-events-none",children:[e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 modal-overlay",onClick:s}),e.jsx(k.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"pointer-events-auto fixed right-0 top-0 bottom-0 w-full sm:w-[520px] p-3 sm:p-4",children:e.jsxs(q,{variant:"light",className:"h-full glass-modal liquid-glass p-0 overflow-hidden",hover:!1,children:[e.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:"AI Chat"}),e.jsx("div",{className:"text-xs text-secondary-contrast",children:"Automate your finance with natural language"})]}),e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface",onClick:s,children:"Close"})]}),e.jsxs("div",{className:"p-3 flex gap-2 border-b border-white/10",children:[e.jsx("button",{className:"px-3 py-1.5 text-sm rounded-lg bg-primary/15 text-primary border border-primary/30",onClick:a,children:"Try AI Revenue"}),e.jsx("button",{className:"px-3 py-1.5 text-sm rounded-lg bg-primary/15 text-primary border border-primary/30",onClick:r,children:"Try AI Invoice"})]}),e.jsxs("div",{className:"flex h-[calc(100%-112px)]",children:[e.jsxs("div",{className:"w-40 sm:w-48 border-r border-white/10 p-2 overflow-y-auto",children:[e.jsx("button",{className:"w-full mb-2 px-2 py-1.5 text-sm rounded-lg bg-white/10 border border-white/10 hover:bg-white/15",onClick:x,children:"+ New Chat"}),e.jsx("div",{className:"space-y-1",children:n.map(f=>e.jsx("button",{className:T("w-full text-left px-2 py-1.5 text-sm rounded-lg border",f.id===(c?.id||"")?"bg-primary/15 text-primary border-primary/30":"bg-white/5 border-white/10 hover:bg-white/10"),onClick:()=>l(f.id),children:f.title||"Untitled"},f.id))})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:(c?.messages||[]).map(f=>e.jsxs("div",{className:T("max-w-[80%] px-3 py-2 rounded-lg border",f.role==="user"?"ml-auto bg-primary/15 text-primary border-primary/30":"bg-white/10 border-white/10"),children:[e.jsx("div",{className:"text-xs text-secondary-contrast mb-0.5",children:f.role==="user"?"You":"Assistant"}),e.jsx("div",{className:"text-sm whitespace-pre-wrap",children:f.content})]},f.id))}),e.jsxs("div",{className:"p-3 border-t border-white/10 flex items-center gap-2",children:[e.jsx("input",{className:"flex-1 px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none",placeholder:"Ask anything…",value:u,onChange:f=>m(f.target.value),onKeyDown:f=>{f.key==="Enter"&&h()}}),e.jsx("button",{className:"px-3 py-2 rounded-lg bg-primary/20 text-primary border border-primary/30",onClick:h,children:"Send"})]})]})]})]})})]})}):null}function Rc({open:t,onClose:s}){const[r,a]=d.useState(null),[n,o]=d.useState(""),[i,l]=d.useState(""),[u,m]=d.useState(""),[c,x]=d.useState(null),[h,f]=d.useState(!1),[g,b]=d.useState(null),[y,C]=d.useState(null);if(!t)return null;const R=async()=>{try{if(b(null),!r)return;const w=((await Ye.uploadOcr(r)).text||"").toLowerCase();n||o((w.match(/from\s*:?\s*([a-z\s]+)/i)?.[1]||"").trim()),i||l((w.match(/\$?([0-9]+(?:\.[0-9]{2})?)/)?.[1]||"").trim())}catch(M){b(M?.message||"Upload failed")}},O=async()=>{try{b(null);const M=parseFloat(i);if(!n.trim()||isNaN(M)||!u){const S="Please fill Vendor, Amount, Date";b(S);try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:S,type:"error"}}))}catch{}return}const w=await Ye.previewExpense({vendorName:n.trim(),amount:M,amountPaid:M,date:u,paymentStatus:"paid"});x(w)}catch(M){b(M?.message||"Preview failed")}},P=async()=>{try{f(!0),b(null);const M=parseFloat(i),w=await Ye.postExpense({vendorName:n.trim(),amount:M,date:u,paymentStatus:"paid",description:`Expense: ${n.trim()}`});try{const S=w?.expenseId||w?.expense?.id;if(S&&r){const I=await Ye.attachReceipt(S,r);C(I?.expense?.receiptUrl||null)}}catch{}try{window.dispatchEvent(new CustomEvent("data:refresh"))}catch{}s()}catch(M){const w=M?.message||"Post failed";b(w);try{window.dispatchEvent(new CustomEvent("toast",{detail:{message:w,type:"error"}}))}catch{}}finally{f(!1)}};return e.jsx(De,{children:e.jsx("div",{className:"fixed inset-0 z-[9999] modal-overlay flex items-end sm:items-center justify-center p-4",onClick:s,children:e.jsx(k.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},className:"w-full max-w-2xl",onClick:M=>M.stopPropagation(),children:e.jsxs(q,{variant:"light",className:"p-6 glass-modal liquid-glass",hover:!1,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold",children:"Expense OCR"}),e.jsx("div",{className:"text-sm text-secondary-contrast",children:"Upload → Preview → Post"})]}),e.jsx("button",{className:"px-2 py-1 rounded bg-surface/60 hover:bg-surface",onClick:s,children:"Close"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Receipt"}),e.jsx("input",{type:"file",onChange:M=>a(M.target.files?.[0]||null)})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("button",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10",onClick:R,children:"Extract Text"})}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Vendor"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:n,onChange:M=>o(M.target.value),placeholder:"Adobe, Uber..."})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Amount"}),e.jsx("input",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:i,onChange:M=>l(M.target.value),placeholder:"59.99"})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-contrast",children:"Date"}),e.jsx("input",{type:"date",className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 focus:bg-white/15 outline-none backdrop-blur-md",value:u,onChange:M=>m(M.target.value)})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("button",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10",onClick:O,children:"Preview"})})]}),c&&e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("div",{className:"font-semibold mb-2",children:"Preview Entries"}),e.jsx("ul",{className:"space-y-1",children:c.entries?.map((M,w)=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("span",{children:[M.type.toUpperCase()," ",M.accountCode," - ",M.accountName]}),e.jsxs("span",{children:["$",Number(M.amount).toLocaleString()]})]},w))})]}),y&&e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("div",{className:"font-semibold mb-1",children:"Attached Receipt"}),e.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"text-primary hover:underline break-all",children:y})]}),g&&e.jsx("div",{className:"mt-3 text-sm text-red-400",children:g}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-sm rounded-lg border transition backdrop-blur-glass bg-white/10 hover:bg-white/15 border-white/10 text-foreground",onClick:s,children:"Cancel"}),e.jsx("button",{disabled:h,className:"px-3 py-1.5 text-sm rounded-lg bg-primary/20 text-primary border border-primary/30 disabled:opacity-60",onClick:P,children:h?"Posting...":"Post Expense"})]})]})})})})}function Tc({onClick:t,bottomOffset:s=24,shiftUp:r=!1}){const{isDark:a}=ye(),{scrollY:n}=Or(),[o,i]=d.useState(!0);if(d.useEffect(()=>{let u=0,m=!1;return n.onChange(x=>{m||(requestAnimationFrame(()=>{const h=x>u,f=x<u;h&&x>100?i(!1):(f||x<50)&&i(!0),u=x,m=!1}),m=!0)})},[n]),!o)return null;const l=s+(r?120:0);return e.jsx("div",{className:T("fixed right-6 z-[9999]"),style:{bottom:l},children:e.jsxs(k.button,{onClick:t,className:"w-14 h-14 rounded-full flex items-center justify-center relative group shadow-lg hover:shadow-xl transition-all duration-300 backdrop-blur-xl overflow-hidden",style:{background:a?"linear-gradient(135deg, rgba(124, 58, 237, 0.3) 0%, rgba(168, 85, 247, 0.2) 50%, rgba(124, 58, 237, 0.1) 100%)":"linear-gradient(135deg, rgba(124, 58, 237, 0.2) 0%, rgba(168, 85, 247, 0.15) 50%, rgba(124, 58, 237, 0.1) 100%)",backdropFilter:"blur(20px)",border:a?"1px solid rgba(124, 58, 237, 0.3)":"1px solid rgba(124, 58, 237, 0.2)"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(aa,{className:"w-6 h-6 text-primary relative z-10"}),e.jsx(k.div,{className:"absolute inset-0 rounded-full bg-primary/20",initial:{scale:0,opacity:0},animate:{scale:[0,1.15,0],opacity:[0,.25,0]},transition:{duration:2.2,repeat:1/0}}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-white/30 to-transparent opacity-60 rounded-t-full"}),e.jsx(k.div,{className:"absolute inset-0 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:a?"linear-gradient(135deg, rgba(255,255,255,0.15) 0%, transparent 50%)":"linear-gradient(135deg, rgba(255,255,255,0.4) 0%, transparent 50%)"}}),e.jsx("div",{className:"absolute inset-1 rounded-full bg-gradient-to-br from-primary/10 to-transparent"}),e.jsx(k.div,{className:"absolute -top-9 right-0 px-2 py-0.5 text-xs rounded bg-primary/20 text-primary border border-primary/30",initial:{y:6,opacity:0},animate:{y:[6,0,6],opacity:[0,1,0]},transition:{duration:2.4,repeat:1/0},children:"New"})]})})}const Pc=()=>{const[t,s]=d.useState({isMobile:!1,isTablet:!1,isDesktop:!1,contentWidth:0,contentHeight:0,hasFloatingElements:!1});return d.useEffect(()=>{const r=()=>{const a=window.innerWidth,n=window.innerHeight;s({isMobile:a<768,isTablet:a>=768&&a<1024,isDesktop:a>=1024,contentWidth:a,contentHeight:n,hasFloatingElements:!0})};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t},Mc=()=>{const[t,s]=d.useState([]),[r,a]=d.useState(!1);return d.useEffect(()=>{const n=()=>{const i=document.querySelectorAll('[data-important], .financial-metric-card, .chart-container, .important-content, [class*="grid"]'),l=Array.from(i).map(c=>c.getBoundingClientRect());s(l);const u=window.innerHeight,m=l.length/(u/100);a(m>5)};n();const o=new IntersectionObserver(()=>{n()},{threshold:.1});return document.querySelectorAll("[data-important], .financial-metric-card").forEach(i=>{o.observe(i)}),window.addEventListener("resize",n),window.addEventListener("scroll",n),()=>{o.disconnect(),window.removeEventListener("resize",n),window.removeEventListener("scroll",n)}},[]),{contentBounds:t,shouldAdjustLayout:r}},Oc=({children:t,floatingElements:s,className:r})=>{const a=Pc(),{shouldAdjustLayout:n}=Mc(),[o,i]=d.useState({top:0,right:0,bottom:0,left:0});return d.useEffect(()=>{let l={top:0,right:0,bottom:0,left:0};a.isMobile?l={top:80,right:20,bottom:80,left:16}:a.isTablet?l={top:80,right:24,bottom:80,left:24}:l={top:32,right:32,bottom:100,left:32},i(l)},[a,n]),e.jsxs("div",{className:T("relative min-h-screen",r),children:[e.jsx(k.div,{className:"main-content transition-all duration-300 ease-out",style:{paddingTop:`${o.top}px`,paddingRight:`${o.right}px`,paddingBottom:`${o.bottom}px`,paddingLeft:`${o.left}px`},layout:!0,children:t}),s&&e.jsx("div",{className:"floating-elements-container",children:s})]})};function Ic({toast:t,onClose:s}){d.useEffect(()=>{const i=setTimeout(()=>s(t.id),t.duration??3e3);return()=>clearTimeout(i)},[t.id]);const r=(()=>{const i=t.variant||"default";return i==="revenue"?{main:"var(--color-financial-revenue)",border:"rgba(16,185,129,0.35)"}:i==="expense"?{main:"var(--color-financial-expense)",border:"rgba(239,68,68,0.35)"}:i==="invoice"?{main:"var(--color-primary-500)",border:"rgba(139,92,246,0.35)"}:t.type==="success"?{main:"var(--color-financial-revenue)",border:"rgba(16,185,129,0.35)"}:t.type==="error"?{main:"var(--color-financial-expense)",border:"rgba(239,68,68,0.35)"}:{main:"var(--color-primary-500)",border:"rgba(139,92,246,0.35)"}})(),a={background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.04) 60%, transparent 100%)",backdropFilter:"blur(18px)",borderColor:r.border,boxShadow:`0 10px 25px rgba(0,0,0,0.25), 0 0 0 1px ${r.border}`},n={background:`rgb(${r.main})`},o=t.icon||(t.variant==="revenue"?"💰":t.variant==="expense"?"💳":t.variant==="invoice"?"🧾":t.type==="error"?"⚠️":t.type==="success"?"✅":"ℹ️");return e.jsx(k.div,{initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.98},children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-l-xl",style:n}),e.jsx(q,{variant:"light",className:"pl-5 pr-4 py-3 rounded-xl border",hover:!1,style:a,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-base leading-none mt-0.5",children:o}),e.jsx("div",{className:"text-sm font-medium",children:t.message})]})})]})})}function Dc({toasts:t,onClose:s}){return e.jsx("div",{className:"fixed bottom-4 right-4 z-[99999] flex flex-col gap-2",children:e.jsx(te,{children:t.map(r=>e.jsx(Ic,{toast:r,onClose:s},r.id))})})}function Lc(){const[t,s]=d.useState([]),r=d.useCallback(n=>{s(o=>o.filter(i=>i.id!==n))},[]),a=d.useCallback((n,o="info",i=3e3,l="default",u)=>{const m=`${Date.now()}-${Math.random().toString(36).slice(2,7)}`;s(c=>[...c,{id:m,message:n,type:o,duration:i,variant:l,icon:u}])},[]);return{toasts:t,push:a,remove:r}}function Fc(){const[t,s]=d.useState("dashboard"),[r,a]=d.useState(!1),[n,o]=d.useState(!1),[i,l]=d.useState(!1),[u,m]=d.useState(!1),[c,x]=d.useState(!1),[h,f]=d.useState(!1),{currentTheme:g,isDark:b}=ye(),[y,C]=d.useState(!1),{toasts:R,push:O,remove:P}=Lc();d.useEffect(()=>{const L=B=>{const F=B?.detail||{};F?.message&&O(F.message,F.type||"info",F.duration||3e3)};return window.addEventListener("toast",L),()=>window.removeEventListener("toast",L)},[O]);const[M,w]=d.useState(78),S={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{duration:.8,ease:[.23,1,.32,1]}},exit:{opacity:0,scale:1.05,transition:{duration:.3}}},I={initial:{opacity:0,x:20,scale:.98},animate:{opacity:1,x:0,scale:1,transition:{duration:.5,ease:[.23,1,.32,1]}},exit:{opacity:0,x:-20,scale:1.02,transition:{duration:.3}}};d.useEffect(()=>{const L=setInterval(()=>{w(B=>{const F=(Math.random()-.5)*1;return Math.max(60,Math.min(85,B+F))})},3e4);return()=>clearInterval(L)},[]);const U=()=>{switch(t){case"dashboard":return e.jsx(cr,{businessHealth:M});case"universe":return e.jsx(mo,{});case"transactions":return e.jsx(Wl,{});case"reports":return e.jsx(yc,{});case"customers":return e.jsx(Xl,{});case"settings":return e.jsx(cc,{});default:return e.jsx(cr,{businessHealth:M})}};return e.jsxs(k.div,{variants:S,initial:"initial",animate:"animate",className:T("min-h-screen w-full bg-background transition-all duration-300 ease-out",b&&"dark-theme-animated-bg"),children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none",children:e.jsx("div",{className:"absolute inset-0 opacity-5 animate-pulse bg-gradient-conic from-primary/5 via-transparent to-primary/5"})}),e.jsx(eo,{currentView:t,onViewChange:s,businessHealth:M}),e.jsx("div",{className:"relative z-10 min-h-screen",children:e.jsx("main",{className:"relative overflow-hidden transition-all duration-500 ease-out",children:e.jsx(Oc,{floatingElements:e.jsx(e.Fragment,{children:e.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-3",children:[e.jsx(q,{variant:"light",className:"p-2",children:e.jsx(vc,{isActive:r,onToggle:a})}),e.jsx(q,{variant:"light",className:"p-2",children:e.jsx(Nc,{})})]})}),children:e.jsx(te,{mode:"wait",children:e.jsx(k.div,{variants:I,initial:"initial",animate:"animate",exit:"exit",className:"h-full",children:U()},t)})})})}),e.jsx(te,{children:n&&e.jsx(jc,{businessHealth:M,currentView:t,onDismiss:()=>o(!1)})}),e.jsx(te,{children:r&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/20 backdrop-blur-sm flex items-center justify-center",onClick:()=>a(!1),children:e.jsxs(q,{variant:"heavy",className:"p-8 text-center max-w-md mx-4",children:[e.jsx("div",{className:"text-lg font-semibold text-gradient-primary mb-4",children:"🎙️ Voice Command Active"}),e.jsx("div",{className:"text-secondary-contrast mb-6",children:'Try saying: "Add $500 Adobe subscription" or "Show me profit trends"'}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-primary/30 border-t-primary animate-spin"})})]})})}),e.jsx(Sc,{count:15,colors:["primary","financial-revenue","financial-profit"],enabled:t==="dashboard"}),e.jsx(Cc,{actions:[{icon:"📄",label:"AI Invoice",action:()=>l(!0)},{icon:"💵",label:"AI Revenue",action:()=>m(!0)},{icon:"🧾",label:"Expense (OCR)",action:()=>x(!0)}],onExpandedChange:C}),!y&&e.jsx(Tc,{onClick:()=>f(!0),bottomOffset:96}),e.jsx(kc,{open:i,onClose:()=>{l(!1),O("Invoice posted","success",3e3,"invoice","🧾")}}),e.jsx(Ec,{open:u,onClose:()=>{m(!1),O("Revenue recorded","success",3e3,"revenue","💰")}}),e.jsx(Rc,{open:c,onClose:()=>{x(!1),O("Expense processed","success",3e3,"expense","💳")}}),e.jsx(Dc,{toasts:R,onClose:P}),e.jsx(Ac,{open:h,onClose:()=>f(!1),onOpenAiInvoice:()=>{f(!1),l(!0)},onOpenAiRevenue:()=>{f(!1),m(!0)}}),!1]})}on.createRoot(document.getElementById("root")).render(e.jsx(Mr.StrictMode,{children:e.jsx(Mn,{client:Ut,children:e.jsx(Kn,{defaultTheme:"light",children:e.jsx(Fc,{})})})}));export{le as a};
